*------------------------------------------------------------*
User:                u63437975
Date:                07 January 2024
Time:                05:51:28
Site:                70094220
Platform:            Linux
Maintenance Release: 9.04.01M7P080620
EM Version:          15.2
* 
*------------------------------------------------------------*
* Training Log
Date:                07 January 2024
Time:                05:51:26
*------------------------------------------------------------*
15240  proc freq data=EMWS1.FIMPORT2_VariableSet noprint;
15241  table ROLE*LEVEL/out=WORK.FIMPORT2META;
15242  run;
15243  proc print data=WORK.FIMPORT2META label noobs;
15244  var ROLE LEVEL COUNT;
15245  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
15246  title9 ' ';
15247  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
15248  run;
15249  title10;
15250  %let EMEXCEPTIONSTRING=;
15598  *------------------------------------------------------------*;
15599  * FIMPORT2: Generation of macros and macro variables;
15600  * To see the code generated, set the EM_DEBUG macro variable to SOURCE or _ALL_;
15601  *------------------------------------------------------------*;
 
15602  %let EMEXCEPTIONSTRING=;
15603  *------------------------------------------------------------*;
15604  * TRAIN: FIMPORT2;
15605  *------------------------------------------------------------*;
15606  %let EM_ACTION = TRAIN;
15607  %let syscc = 0;
15608  /* Fimport.source */
15609  %macro main;
15610        %if %upcase(&EM_ACTION) = CREATE %then %do;
15611           filename temp catalog 'sashelp.emsamp.Fimport_create.source';
15612           %include temp;
15613           filename temp;
15614           %create;
15615        %end;
15616        %else
15617        %if %upcase(&EM_ACTION) = TRAIN %then %do;
15618           filename temp catalog 'sashelp.emsamp.Fimport_train.source';
15619           %include temp;
15620           filename temp;
15621           %train;
15622        %end;
15623        %else
15624        %if %upcase(&EM_ACTION) = UPDATE %then %do;
15625           filename temp catalog 'sashelp.emsamp.Fimport_update.source';
15626           %include temp;
15627           filename temp;
15628           %update;
15629        %end;
15630        %else
15631        %if %upcase(&EM_ACTION) = PROPERTY %then %do;
15632           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15633           %include temp;
15634           filename temp;
15635           %property;
15636        %end;
15637         %else
15638        %if %upcase(&EM_ACTION) = SCORE %then %do;
15639           filename temp catalog 'sashelp.emsamp.Fimport_score.source';
15640           %include temp;
15641           filename temp;
15642           %score;
15643        %end;
15644        %else
15645        %if %upcase(&EM_ACTION) = REPORT %then %do;
15646           filename temp catalog 'sashelp.emsamp.Fimport_report.source';
15647           %include temp;
15648           filename temp;
15649           %report;
15650        %end;
15651        %else
15652        %if %upcase(&EM_ACTION) = OPENVARIABLESET %then %do;
15653           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15654           %include temp;
15655           filename temp;
15656           %openvariableset;
15657        %end;
15658        %else
15659        %if %upcase(&EM_ACTION) = CLOSEVARIABLESET %then %do;
15660           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15661           %include temp;
15662           filename temp;
15663           %closevariableset;
15664        %end;
15665  %mend main;
15666  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMSAMP.FIMPORT_TRAIN.SOURCE.
15667 +%EM_GETNAME(key=USERIMPORTFILE, type=FILE, extension=txt);
15668 +%macro appendExt;
15669 +   data _null_;
15670 +      tempuif =  trim("&EM_USER_USERIMPORTFILE");
15671 +      rfile = reverse(tempuif);
15672 +      period = indexc(rfile,".");
15673 +      uif = substr(tempuif, 1, length(tempuif)- period+1);
15674 +      newuif = trim(uif)||trim("&EM_PROPERTY_FILETYPE");
15675 +      call symput("EM_USER_USERIMPORTFILE",%bquote(newuif));
15676 +   run;
15677 +%mend appendExt;
15679 +%macro getNobs(ds);
15680 + %global dset nobs;
15681 + %let dset=&ds;
15682 + %let dsid = %sysfunc(open(&dset));
15683 + %if &dsid %then %do;
15684 +      %let nobs =%sysfunc(attrn(&dsid,nobs));
15685 +      %let rc = %sysfunc(close(&dsid));
15686 +   %end;
15687 + %else %put open for data set &dset failed - %sysfunc(sysmsg());
15688 +%mend getNobs;
15689 +%macro keepordrop;
15690 +  proc contents data=work.importfile noprint
15691 +  out=work.importattrs;
15692 +  run;
15693 +  %getNobs(work.importattrs);
15694 +  data _null_;
15695 +    set  work.importattrs;
15696 +    call symput("varname"||left(_n_),name);
15697 +  run;
15699 +  %put nobs=&nobs  maxcols=&EM_PROPERTY_MAXCOLS;
15700 +  /* importattrs contains 1 observation for each VARIABLE in the data set. */
15701 +  %if &nobs > &EM_PROPERTY_MAXCOLS %then %do;
15702 +     %let diff = %eval(&nobs - &EM_PROPERTY_MAXCOLS);
15703 +     %put diff=&diff;
15704 +     %if %eval(&diff ge &EM_PROPERTY_MAXCOLS) %then %do;
15705 +         %let kORd = keep;
15706 +             %let start=1;
15707 +             %let end = &EM_PROPERTY_MAXCOLS;
15708 +       %end;
15709 +     %else %do;
15710 +         %let kORd = drop;
15711 +             %let start = &EM_PROPERTY_MAXCOLS + 1;
15712 +             %let end = &nobs;
15713 +       %end;
15714 +     data &em_user_data;
15715 +        set &em_user_data;
15716 +        &kORd
15717 +        %do i = &start %to &end;
15718 +            &&varname&i
15719 +         %end;
15720 +        ;
15721 +     run;
15722 +%end;
15723 +%mend keepordrop;
15724 +%macro dropformatvars;
15725 +   %put fmtcnt=&fmtcnt;
15726 +   data new;
15727 +     set work.importfile;
15728 +     %do i = 1 %to &fmtcnt;
15729 +       x1zy&i =put(&&varname&i,&&fmt&i);
15730 +     %end;
15731 +   run;
15732 +   data new;
15733 +     set new;
15734 +     drop
15735 +     %do i = 1 %to &fmtcnt;
15736 +     &&varname&i
15737 +     %end;
15738 +     ;
15739 +   run;
15740 +   proc datasets library=work nolist;
15741 +     modify new;
15742 +     %do i = 1 %to &fmtcnt;
15743 +     rename x1zy&i=&&varname&i;
15744 +     %end;
15745 +   run; quit;
15746 +   data work.importfile;
15747 +     set new;
15748 +   run;
15749 +%mend;
15751 +%macro procimport(out=);
15752 +   %if %upcase(&EM_PROPERTY_FILETYPE)=MDB %then %do;
15753 +      proc import table=%sysfunc(trim(&EM_PROPERTY_ACCESSTABLE))
15754 +         out=&out
15755 +         dbms = ACCESS
15756 +         replace;
15757 +         database="%trim(&_IFILENAME)"
15758 +   %end;
15759 +   %else %do;
15760 +       proc import datafile="%trim(&_IFILENAME)"
15761 +          out=&out
15763 +      %put filetype=*&EM_PROPERTY_FILETYPE.*;
15764 +      %put delimiter=*&EM_PROPERTY_DELIMITER.*;
15765 +      %if %upcase(&EM_PROPERTY_FILETYPE) ^= TXT %then %do;
15766 +         dbms=&EM_PROPERTY_FILETYPE
15767 +      %end;
15768 +      %else %do;
15769 +         dbms=TAB
15770 +      %end;
15771 +      /* Work around for the following defects:S0560899 and S0560009.   */
15772 +      %let sasEnv=%sysfunc(getlocenv());
15773 +      %if %upcase(&EM_PROPERTY_FILETYPE) = XLS and %upcase(&sasEnv) ^= SBCS %then %do;
15774 +         dbms=EXCEL
15775 +      %end;
15777 +      replace;
15778 +      %if %substr(%upcase(&EM_PROPERTY_FILETYPE),1,2)=WK | %upcase(&EM_PROPERTY_FILETYPE)=XLS
15779 +       | %upcase(&EM_PROPERTY_FILETYPE)=DLM | %upcase(&EM_PROPERTY_FILETYPE)=CSV
15780 +       | %upcase(&EM_PROPERTY_FILETYPE)=TAB | %upcase(&EM_PROPERTY_FILETYPE)=TXT %then %do;
15781 +        %if %length(&EM_PROPERTY_NAMEROW) > 0 %then %do;
15782 +            getnames=&EM_PROPERTY_NAMEROW;
15783 +        %end;
15784 +      %end;
15785 +      %if %upcase(&EM_PROPERTY_FILETYPE)=CSV | %upcase(&EM_PROPERTY_FILETYPE)=DLM |
15786 +          %upcase(&EM_PROPERTY_FILETYPE=TXT)  %then %do;
15787 +         %if (%length(%trim(%bquote(&EM_PROPERTY_DELIMITER))) > 0) %then %do;
15788 +            %if "%upcase(&EM_PROPERTY_DELIMITER)"="SP" %then %do;
15789 +               delimiter=" ";
15790 +            %end;
15791 +            %else %if "%upcase(&EM_PROPERTY_DELIMITER)"="TAB" %then %do;
15792 +               /* Do not specifiy a delimiter */
15793 +            %end;
15794 +            %else %do;
15795 +               delimiter="&EM_PROPERTY_DELIMITER";
15796 +            %end;
15797 +         %end;
15798 +         %if %eval(&EM_PROPERTY_SKIPROWS > 0) %then %do;
15799 +            datarow=&EM_PROPERTY_SKIPROWS;
15800 +            /* Guessingrows must be >= skiprows */
15801 +            %if %eval(&EM_PROPERTY_GUESSROWS < &EM_PROPERTY_SKIPROWS ) %then %do;
15802 +              %let EM_PROPERTY_GUESSROWS = &EM_PROPERTY_SKIPROWS;
15803 +            %end;
15804 +         %end;
15805 +         %if %eval(&EM_PROPERTY_GUESSROWS > 0) %then %do;
15806 +            guessingrows=&EM_PROPERTY_GUESSROWS;
15807 +         %end;
15808 +       %end;
15809 +      %if %upcase(&EM_PROPERTY_FILETYPE)=DTA | %upcase(&EM_PROPERTY_FILETYPE)=JMP
15810 +                 | %upcase(&EM_PROPERTY_FILETYPE)=SAV %then %do;
15811 +            FMTLIB = work.formats;
15812 +      %end;
15813 +   %end;
15814 +   run;
15815 +%mend procimport;
15817 +%macro train;
15819 +   %let vvnString = %sysfunc(getoption(validvarname));
15821 +   %em_getname(key=DATA,           type=DATA);
15822 +   %em_getname(key=EMCMETADEFAULT, type=DATA);
15823 +   %em_getname(key=EMTMETADEFAULT, type=DATA);
15824 +   %em_getname(key=EMSTATDEFAULT, type=DATA);
15826 +   %appendExt;
15828 +   %let _IFILENAME = %nrbquote(%trim(&EM_PROPERTY_IFILENAME));
15829 +   %if %upcase(&EM_PROPERTY_IMPORTTYPE) = LOCAL %then %do;
15830 +       %if %nrbquote(%sysfunc(fileexist(&EM_USER_USERIMPORTFILE))) %then
15831 +           %let _IFILENAME = %nrbquote(&EM_USER_USERIMPORTFILE);
15832 +   %end;
15834 +   %if ^%sysfunc(fileexist(%nrbquote(&_IFILENAME))) %then %do;
15835 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.NOTRAININGCODEFILE,%nrbquote(&_IFILENAME);
15836 +       %goto endtrain;
15837 +   %end;
15839 +   options validvarname=ANY;
15840 +   %procimport(out=work.importfile);
15842 +   %if %upcase(&EM_PROPERTY_FILETYPE) = DTA | %upcase(&EM_PROPERTY_FILETYPE) = JMP
15843 +              | %upcase(&EM_PROPERTY_FILETYPE)=SAV %then %do;
15844 +      %global fmtcnt;
15845 +      %let fmtcnt=0;
15846 +      proc contents data=work.importfile out=work.impattrs noprint;
15847 +      run;
15848 +      data _null_;
15849 +        set work.impattrs;
15850 +        if _n_=1 then i=0;
15851 +        if substr(format,1,1) ^= "$" and length(trim(format)) > 1 then do;
15852 +           i = i+1;
15853 +           varname = substr(name, 1, length(name));
15854 +           call symput("fmt"||left(i), trim(format)||".");
15855 +           call symput("varname"||left(i), varname);
15856 +           call symput("fmtcnt",left(i));
15857 +      end;
15858 +      retain i;
15859 +     run;
15860 +    %if &fmtcnt > 0 %then %do;
15861 +       %dropformatvars;
15862 +    %end;
15863 +    proc datasets lib=work memtype=data nolist;
15864 +        modify importfile;
15865 +        attrib _all_ format=;
15866 +    run;
15867 +    quit;
15868 +   %end;
15870 +   %let _fimportObs  = 0;
15871 +   %let _fimportVars = 0;
15872 +   %if %sysfunc(exist(work.importFile)) %then %do;
15873 +       %let dsid = %sysfunc(open(work.importFile));
15874 +       %if &dsid %then %do;
15875 +           %let _fimportObs  = %sysfunc(attrn(&dsid, NOBS));
15876 +           %let _fimportVars = %sysfunc(attrn(&dsid, NVARS));
15877 +       %let dsid = %sysfunc(close(&dsid));
15878 +       %end;
15879 +   %end;
15881 +   %if ^&_fimportObs %then %do;
15882 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.FILE_NO_OBS;
15883 +       %goto endtrain;
15884 +   %end;
15885 +   %if ^&_fimportVars %then %do;
15886 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.FILE_NO_VARS;
15887 +       %goto endtrain;
15888 +   %end;
15890 +   data &em_user_data;
15891 +      set work.importfile(obs=&EM_PROPERTY_MAXROWS);
15892 +   run;
15893 +   %keepordrop;
15895 +   %em_getname(key=EMSTAT,     type=DATA);
15897 +   proc datasets lib=&em_lib nolist;
15898 +      delete &em_nodeid._EMSTATDEFAULT &em_nodeid._EMINFO;
15899 +   run;
15901 +   %if "&em_property_advancedadvisor" eq "Y" %then %do;
15902 +        %EmAdviseColumns(&em_user_data, applyIntervalLevelLowerLimit=Y,
15903 +            intervalLevelLowerLimit=20, applyMaxPercentMissing=Y,
15904 +            maxPercentMissing=50, applyMaxClassLevels=Y,
15905 +            maxClassLevels=20, identifyEmptyColumns=Y,
15906 +            outdata=&em_user_EMCMETADEFAULT,
15907 +            computeStat=Y, statisticData=&em_user_EMSTATDEFAULT);
15909 +        data &em_user_emcmetadefault;
15910 +           set &em_user_emcmetadefault;
15911 +           drop nlevel pctmiss min max mean std skewness kurtosis;
15912 +        run;
15914 +        data &em_data_eminfo;
15915 +           length TARGET KEY $32  DATA $43;
15916 +           TARGET=""; KEY="STATS"; DATA="&em_user_emstatdefault"; output;
15917 +        run;
15919 +        %let EM_META_ADVISOR=ADVANCED;
15921 +   %end;
15922 +   %else %do;
15923 +       %EmAdviseColumns(&em_user_data, applyIntervalLevelLowerLimit=N,
15924 +            applyMaxPercentMissing=N, applyMaxClassLevels=N,
15925 +            identifyEmptyColumns=N,   maxLevelDetection=0,
15926 +            outdata=&em_user_EMCMETADEFAULT, computeStat=N, statisticData=WORK.STATISTIC);
15928 +            %if "&em_property_summarize" eq "Y" %then %do;
15929 +                %em_getname(key=EMSTAT,  type=DATA);
15930 +                data &em_data_eminfo;
15931 +                   length TARGET KEY $32  DATA $43;
15932 +                   TARGET=""; KEY="STATS"; DATA="&em_user_emstat"; output;
15933 +                run;
15934 +            %end;
15936 +        %let EM_META_ADVISOR=BASIC;
15938 +   %end;
15940 +   %em_getname(key=VVNLABEL, type=FILE, extension=sas);
15941 +   data _null_;
15942 +      fname = '_text';
15943 +      rc=filename(fname, "&em_user_vvnlabel");
15944 +      if ^rc and fexist(fname) then
15945 +         rc=fdelete(fname);
15946 +     rc=filename(fname);
15947 +   run;
15950 +   /* Validvarname Case */
15951 +   %let newNameFlag = 0;
15952 +   %if %sysfunc(exist(&em_user_EMCMETADEFAULT)) %then %do;
15953 +       %let dsid = %sysfunc(open(&em_user_EMCMETADEFAULT));
15954 +        %if &dsid %then %do;
15955 +            %let newNameFlag = %sysfunc(varnum(&dsid, NEWNAME));
15956 +            %let dsid = %sysfunc(close(&dsid));
15957 +       %end;
15958 +   %end;
15960 +   %if %sysevalf(&newNameFlag>0) %then %do;
15961 +       proc contents data=work.importfile noprint out=work._any(keep=VARNUM NAME LABEL);
15962 +       run;
15963 +       proc sort data=work._any; by VARNUM; run; quit;
15965 +       options validvarname=V7;
15967 +       %procimport(out=work.importfile2);
15969 +       options validvarname=ANY;
15971 +       proc contents data=work.importfile2 noprint out=work._v7(rename=(NAME=V7NAME) keep=VARNUM NAME LABEL);
15972 +       run;
15973 +       proc sort data=work._v7; by varnum; run; quit;
15975 +       filename _FI "&em_user_vvnlabel";
15976 +       data work._names;
15977 +          length string $200;
15978 +          merge work._v7 work._any;
15979 +          by VARNUM;
15980 +          file _FI;
15981 +          if V7NAME ne NAME then do;
15982 +             string = trim(V7NAME)!!'= "'!!tranwrd(trim(NAME), '"', '""')!!'"n;';
15983 +             put string;
15984 +             if LABEL eq '' then do;
15985 +                string = 'Label '!!trim(V7NAME)!!"='"!!tranwrd(trim(NAME), "'", "''")!!"';";
15986 +                put string;
15987 +             end;
15988 +             string='drop "'!!tranwrd(trim(NAME), '"', '""')!!'"n;';
15989 +             put string;
15990 +          end;
15991 +          drop string;
15992 +       run;
15993 +       data &em_user_data;
15994 +          set &em_user_data;
15995 +          %if %sysfunc(fileexist(%nrbquote(&em_user_vvnlabel))) %then %do;
15996 +              filename _FI "&em_user_vvnlabel";
15997 +              %inc _FI;
15998 +             filename _FI;
15999 +          %end;
16000 +       run;
16002 +       proc sort data=&em_user_EMCMETADEFAULT; by NAME; run;
16003 +       proc sort data=work._names;             by NAME; run;
16005 +       data &em_user_EMCMETADEFAULT;
16006 +         merge  &em_user_EMCMETADEFAULT _names;
16007 +         by NAME;
16008 +         length DROP $1;
16009 +         DROP='N';
16010 +         if NEWNAME ne NAME then do;
16011 +            if LABEL eq '' then do;
16012 +               LABEL = NAME;
16013 +            end;
16014 +            NAME=V7NAME;
16015 +         end;
16016 +         drop NEWNAME V7NAME VARNUM;
16017 +       run;
16019 +       proc datasets lib=work nolist;
16020 +          delete _any _v7 _names importfile2;
16021 +       run;
16022 +       quit;
16024 +   %end;
16025 +   %else %do;
16026 +       data &em_user_EMCMETADEFAULT;
16027 +          set &em_user_EMCMETADEFAULT;
16028 +          length DROP $1;
16029 +          DROP='N';
16030 +       run;
16031 +   %end;
16033 +    %EmAdviseTable(&em_user_data, outdata=&em_user_EMTMETADEFAULT, newdataflag=Y);
16035 +   data _temp;
16036 +      set &em_user_emtmetadefault(rename=(ROLE=PORT MEMNAME=DATASET CRDATE=MODTIME));
16037 +      keep PORT LIBNAME DATASET MODTIME COLUMNMETA COLUMNMETAMODTIME NOBS;
16038 +      PORT='DATA'; COLUMNMETA="&em_nodeid._EMCMETADEFAULT";
16039 +      COLUMNMETAMODTIME=MODTIME;
16040 +   run;
16041 +   proc sort data=&em_data_importset;
16042 +      by PORT;
16043 +   run;
16044 +   data &em_data_importset;
16045 +      merge &em_data_importset _temp;
16046 +      by PORT;
16047 +      if PORT='DATA' then ROLE="&em_property_role";
16048 +   run;
16050 +    %em_getname(key=VARIABLESETDELTA, type=FILE, extension=txt);
16052 +    %if %sysfunc(exist(&em_user_emcmetadefault)) %then %do;
16053 +        %if %sysfunc(fileexist(&em_user_variablesetdelta)) %then %do;
16054 +            filename x "&em_user_variablesetdelta";
16055 +            data &em_data_variableset;
16056 +               set &em_user_emcmetadefault;
16057 +               %inc X;
16058 +            run;
16059 +            filename x;
16060 +        %end;
16061 +        %else %do;
16062 +            data &em_data_variableset;
16063 +               set &em_user_emcmetadefault;
16064 +            run;
16065 +        %end;
16066 +    %end;
16068 +   %if %sysfunc(exist(&em_data_variableset)) and %sysfunc(exist(&em_user_emcmetadefault)) %then %do;
16069 +      proc compare compare=&em_data_variableset base=&em_user_emcmetadefault
16070 +         noprint outnoequal outbase outcomp out=_DiffMeta noprint;
16071 +         id NAME;
16072 +      run;
16074 +         filename x1 "&EM_FILE_CDELTA_TRAIN";
16075 +         data _null_;
16076 +            length string $200;
16077 +            set _DiffMeta end=eof;
16078 +            where _type_='COMPARE';
16079 +            file x1;
16080 +            string = 'if NAME="'!!strip(NAME)!!'" then do;';
16081 +            put string;
16082 +            string = '   ROLE="'!!strip(ROLE)!!'";';
16083 +            put string;
16084 +            string=  '   LEVEL="'!!strip(LEVEL)!!'";';
16085 +            put string;
16086 +            string = '   ORDER="'!!strip(ORDER)!!'";';
16087 +            put string;
16088 +            put 'end;';
16089 +            if drop='Y' then do;
16090 +               string='if NAME="'!!strip(NAME)!!'" then delete;';
16091 +               put string;
16092 +            end;
16093 +            if eof then
16094 +               put 'drop DROP;';
16095 +         run;
16097 +         %em_getname(key=DELTACODE,      type=FILE, extension=txt);
16098 +         filename x2 "&em_user_deltacode";
16099 +         %em_copyfile(infref=x1, outfref=x2);
16100 +         filename x1;
16101 +         filename x2;
16103 +         %em_getname(key=VARIABLESETDELTA, type=FILE, extension=txt);
16104 +         filename x "&em_user_variablesetdelta";
16105 +         data _null_;
16106 +            length string $200;
16107 +            set _DiffMeta end=eof;
16108 +            where _type_='COMPARE';
16109 +            file x;
16110 +            string = 'if NAME="'!!strip(NAME)!!'" then do;';
16111 +            put string;
16112 +            string = '   ROLE="'!!strip(ROLE)!!'";';
16113 +            put string;
16114 +            string=  '   LEVEL="'!!strip(LEVEL)!!'";';
16115 +            put string;
16116 +            string = '   ORDER="'!!strip(ORDER)!!'";';
16117 +            put string;
16118 +            string = '   DROP="'!!strip(DROP)!!'";';
16119 +            put string;
16120 +            put 'end;';
16121 +         run;
16122 +         filename x;
16123 +       proc datasets lib=work nolist;
16124 +          delete _DiffMeta;
16125 +       run;
16127 +       data &em_data_exportset;
16128 +          set &em_data_exportset;
16129 +          if NODEPORT='TRAIN' then do;
16130 +             ROLE="&em_property_role";
16131 +             COLUMNMETAMODTIME=datetime();
16132 +             MODTIME=datetime();
16133 +             DATASET="&em_nodeid._train";
16134 +             COLUMNMETA="&em_nodeid._CMeta_TRAIN";
16135 +             DELTACODE="CDelta_TRAIN";
16136 +             APPLYDELTA='Y';
16137 +             EXPORT='Y';
16138 +             NEEDUPDATE='Y';
16140 +            %if "&em_property_advancedadvisor" eq "Y" %then %do;
16141 +                EMINFO="&em_data_eminfo";
16142 +                EMINFOMODTIME=datetime();
16143 +            %end;
16144 +            %else %do;
16145 +                EMINFO='';
16146 +                EMINFOMODTIME=.;
16147 +            %end;
16148 +          end;
16149 +       run;
16150 +   %end;
16152 +  proc contents data=&em_user_data;
16153 +  run;
16154 +  proc datasets library=work nolist;
16155 +   delete importfile importattrs new;
16156 +   quit;
16157 +  run;
16159 +  /* Reset VALIDVARNAME to original settings */
16160 +  options validvarname=&vvnString;
16162 +  %endtrain:
16163 +%mend train;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              23266.53k
      OS Memory           32896.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     35
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
filetype=*csv*
delimiter=*,*
 
NOTE: Unable to open parameter catalog: SASUSER.PARMS.PARMS.SLIST in update mode. Temporary parameter values will be saved to WORK.PARMS.PARMS.SLIST.
16164   /**********************************************************************
16165   *   PRODUCT:   SAS
16166   *   VERSION:   9.4
16167   *   CREATOR:   External File Interface
16168   *   DATE:      07JAN24
16169   *   DESC:      Generated SAS Datastep Code
16170   *   TEMPLATE SOURCE:  (None Specified.)
16171   ***********************************************************************/
16172      data WORK.IMPORTFILE    ;
16173      %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
16174      infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
16175         informat "Customer ID"N best32. ;
16176         informat Gender $6. ;
16177         informat Gender_Binary best32. ;
16178         informat Age best32. ;
16179         informat City $13. ;
16180         informat "Membership Type"N $6. ;
16181         informat "Total Spend"N best32. ;
16182         informat "Items Purchased"N best32. ;
16183         informat FavoriteCategory $11. ;
16184         informat "Average Rating"N best32. ;
16185         informat "Discount Applied"N $5. ;
16186         informat Discount_Applied_Binary best32. ;
16187         informat "Days Since Last Purchase"N best32. ;
16188         informat "Satisfaction Level"N $11. ;
16189         informat Churn best32. ;
16190         format "Customer ID"N best12. ;
16191         format Gender $6. ;
16192         format Gender_Binary best12. ;
16193         format Age best12. ;
16194         format City $13. ;
16195         format "Membership Type"N $6. ;
16196         format "Total Spend"N best12. ;
16197         format "Items Purchased"N best12. ;
16198         format FavoriteCategory $11. ;
16199         format "Average Rating"N best12. ;
16200         format "Discount Applied"N $5. ;
16201         format Discount_Applied_Binary best12. ;
16202         format "Days Since Last Purchase"N best12. ;
16203         format "Satisfaction Level"N $11. ;
16204         format Churn best12. ;
16205      input
16206                  "Customer ID"N
16207                  Gender  $
16208                  Gender_Binary
16209                  Age
16210                  City  $
16211                  "Membership Type"N  $
16212                  "Total Spend"N
16213                  "Items Purchased"N
16214                  FavoriteCategory  $
16215                  "Average Rating"N
16216                  "Discount Applied"N  $
16217                  Discount_Applied_Binary
16218                  "Days Since Last Purchase"N
16219                  "Satisfaction Level"N  $
16220                  Churn
16221      ;
16222      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
16223      run;
 
NOTE: The infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv' is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:47:33,
      File Size (bytes)=76555
 
NOTE: 1020 records were read from the infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv'.
      The minimum record length was 62.
      The maximum record length was 84.
NOTE: The data set WORK.IMPORTFILE has 1020 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41196.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     181
      Page Swaps                        0
      Voluntary Context Switches        1
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
1020 rows created in WORK.IMPORTFILE from /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv.
 
 
 
NOTE: WORK.IMPORTFILE data set was successfully created.
NOTE: The data set WORK.IMPORTFILE has 1020 observations and 15 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.19 seconds
      user cpu time       0.19 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  7
      Page Faults                       0
      Page Reclaims                     4608
      Page Swaps                        0
      Voluntary Context Switches        24
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           600
 
 
 
NOTE: There were 1020 observations read from the data set WORK.IMPORTFILE.
NOTE: The data set EMWS1.FIMPORT2_DATA has 1020 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.01 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     110
      Page Swaps                        0
      Voluntary Context Switches        30
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
 
NOTE: The data set WORK.IMPORTATTRS has 15 observations and 41 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     210
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           272
 
 
 
NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      23:137
NOTE: There were 15 observations read from the data set WORK.IMPORTATTRS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     69
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
nobs=15  maxcols=10000
 
NOTE: The file EMWS1.FIMPORT2_EMSTATDEFAULT (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: The file EMWS1.FIMPORT2_EMINFO (memtype=DATA) was not found, but appears on a DELETE statement.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     80
      Page Swaps                        0
      Voluntary Context Switches        3
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
16224  %let SYSCC = 0;
16225  %let _dsidTable = 0;
16226  %let _engineTable =;
16227  data _null_;
16228  dsid = open('EMWS1.FIMPORT2_DATA');
16229  call symput('_dsidTable', strip(put(dsid, best.)));
16230  if dsid then do;
16231  call symput('_engineTable', attrc(dsid, 'ENGINE'));
16232  dsid = close(dsid);
16233  end;
16234  run;
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     107
      Page Swaps                        0
      Voluntary Context Switches        7
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           0
 
 
16235  options fmterr;
16236  data _metaTestView;
16237  set EMWS1.FIMPORT2_DATA;
16238  if _N_=1 then do;
16239  output;
16240  stop;
16241  end;
16242  run;
 
NOTE: There were 1 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     135
      Page Swaps                        0
      Voluntary Context Switches        2
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
16243  proc contents data=EMWS1.FIMPORT2_DATA
16244  out=WORK.M15AN_8T noprint;
16245  run;
 
NOTE: The data set WORK.M15AN_8T has 15 observations and 41 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     159
      Page Swaps                        0
      Voluntary Context Switches        1
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           272
 
 
16246  data WORK.M15AN_8T;
16247  length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 36 INFORMAT $36 INDEX $ 1 INDEXTYPE $ 9;
16248  label NAME =;
16249  set WORK.M15AN_8T(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
16250  if itype = 1 then type = 'N';
16251  else type = 'C';
16252  if formatl > 0 then do;
16253  if format ne '' then do;
16254  if type='N' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
16255  else format = strip(format)!!strip(put(formatl, best12.))!!'.';
16256  end;
16257  else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
16258  end;
16259  else if format ne '' then format = strip(format)!!'.';
16260  if informl > 0 then do;
16261  if informat ne ' ' then do;
16262  if type='N' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
16263  else informat = strip(informat)!!strip(put(informl, best12.))!!'.';
16264  end;
16265  else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
16266  end;
16267  else if informat ne '' then informat = strip(informat)!!'.';
16268  if idxusage = 'NONE' then index ="N";
16269  else index = "Y";
16270  indextype = idxusage;
16271  drop idxusage itype formatl formatd informl informd;
16272  run;
 
NOTE: There were 15 observations read from the data set WORK.M15AN_8T.
NOTE: The data set WORK.M15AN_8T has 15 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     136
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
16273  data WORK.M15AN_8T;
16274  length UNAME $64;
16275  set WORK.M15AN_8T;
16276  UNAME = upcase(NAME);
16277  run;
 
NOTE: There were 15 observations read from the data set WORK.M15AN_8T.
NOTE: The data set WORK.M15AN_8T has 15 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     126
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
16281  data WORK.M28M7BN6;
16282  drop UNAME;
16283  set WORK.M28M7BN6;
16284  run;
 
NOTE: There were 15 observations read from the data set WORK.M28M7BN6.
NOTE: The data set WORK.M28M7BN6 has 15 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     136
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.17 seconds
      user cpu time       0.05 seconds
      system cpu time     0.02 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  11
      Page Faults                       0
      Page Reclaims                     5149
      Page Swaps                        0
      Voluntary Context Switches        82
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           3208
 
 
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     28
      Page Swaps                        0
      Voluntary Context Switches        4
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: The data set WORK._ANY has 15 observations and 3 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     169
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           272
 
 
 
NOTE: There were 15 observations read from the data set WORK._ANY.
NOTE: The data set WORK._ANY has 15 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              32344.62k
      OS Memory           41456.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     116
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
filetype=*csv*
delimiter=*,*
 
NOTE: Unable to open parameter catalog: SASUSER.PARMS.PARMS.SLIST in update mode. Temporary parameter values will be saved to WORK.PARMS.PARMS.SLIST.
16546   /**********************************************************************
16547   *   PRODUCT:   SAS
16548   *   VERSION:   9.4
16549   *   CREATOR:   External File Interface
16550   *   DATE:      07JAN24
16551   *   DESC:      Generated SAS Datastep Code
16552   *   TEMPLATE SOURCE:  (None Specified.)
16553   ***********************************************************************/
16554      data WORK.IMPORTFILE2    ;
16555      %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
16556      infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
16557         informat Customer_ID best32. ;
16558         informat Gender $6. ;
16559         informat Gender_Binary best32. ;
16560         informat Age best32. ;
16561         informat City $13. ;
16562         informat Membership_Type $6. ;
16563         informat Total_Spend best32. ;
16564         informat Items_Purchased best32. ;
16565         informat FavoriteCategory $11. ;
16566         informat Average_Rating best32. ;
16567         informat Discount_Applied $5. ;
16568         informat Discount_Applied_Binary best32. ;
16569         informat Days_Since_Last_Purchase best32. ;
16570         informat Satisfaction_Level $11. ;
16571         informat Churn best32. ;
16572         format Customer_ID best12. ;
16573         format Gender $6. ;
16574         format Gender_Binary best12. ;
16575         format Age best12. ;
16576         format City $13. ;
16577         format Membership_Type $6. ;
16578         format Total_Spend best12. ;
16579         format Items_Purchased best12. ;
16580         format FavoriteCategory $11. ;
16581         format Average_Rating best12. ;
16582         format Discount_Applied $5. ;
16583         format Discount_Applied_Binary best12. ;
16584         format Days_Since_Last_Purchase best12. ;
16585         format Satisfaction_Level $11. ;
16586         format Churn best12. ;
16587      input
16588                  Customer_ID
16589                  Gender  $
16590                  Gender_Binary
16591                  Age
16592                  City  $
16593                  Membership_Type  $
16594                  Total_Spend
16595                  Items_Purchased
16596                  FavoriteCategory  $
16597                  Average_Rating
16598                  Discount_Applied  $
16599                  Discount_Applied_Binary
16600                  Days_Since_Last_Purchase
16601                  Satisfaction_Level  $
16602                  Churn
16603      ;
16604      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
16605      run;
 
NOTE: The infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv' is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:47:33,
      File Size (bytes)=76555
 
NOTE: 1020 records were read from the infile '/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv'.
      The minimum record length was 62.
      The maximum record length was 84.
NOTE: The data set WORK.IMPORTFILE2 has 1020 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42476.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     136
      Page Swaps                        0
      Voluntary Context Switches        1
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
1020 rows created in WORK.IMPORTFILE2 from /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/USERIMPORTFILE.csv.
 
 
 
NOTE: WORK.IMPORTFILE2 data set was successfully created.
NOTE: The data set WORK.IMPORTFILE2 has 1020 observations and 15 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.19 seconds
      user cpu time       0.19 seconds
      system cpu time     0.01 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  7
      Page Faults                       0
      Page Reclaims                     2672
      Page Swaps                        0
      Voluntary Context Switches        22
      Involuntary Context Switches      1
      Block Input Operations            0
      Block Output Operations           544
 
 
 
NOTE: The data set WORK._V7 has 15 observations and 3 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     156
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           272
 
 
 
NOTE: There were 15 observations read from the data set WORK._V7.
NOTE: The data set WORK._V7 has 15 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     115
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: The file _FI is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/VVNLABEL.sas,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:51:26
 
NOTE: 24 records were written to the file _FI.
      The minimum record length was 20.
      The maximum record length was 58.
NOTE: There were 15 observations read from the data set WORK._V7.
NOTE: There were 15 observations read from the data set WORK._ANY.
NOTE: The data set WORK._NAMES has 15 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     175
      Page Swaps                        0
      Voluntary Context Switches        4
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           272
 
 
NOTE: %INCLUDE (level 1) file _FI is file /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/VVNLABEL.sas.
16606 +Customer_ID= "Customer ID"n;
16607 +Label Customer_ID='Customer ID';
16608 +drop "Customer ID"n;
16609 +Membership_Type= "Membership Type"n;
16610 +Label Membership_Type='Membership Type';
16611 +drop "Membership Type"n;
16612 +Total_Spend= "Total Spend"n;
16613 +Label Total_Spend='Total Spend';
16614 +drop "Total Spend"n;
16615 +Items_Purchased= "Items Purchased"n;
16616 +Label Items_Purchased='Items Purchased';
16617 +drop "Items Purchased"n;
16618 +Average_Rating= "Average Rating"n;
16619 +Label Average_Rating='Average Rating';
16620 +drop "Average Rating"n;
16621 +Discount_Applied= "Discount Applied"n;
16622 +Label Discount_Applied='Discount Applied';
16623 +drop "Discount Applied"n;
16624 +Days_Since_Last_Purchase= "Days Since Last Purchase"n;
16625 +Label Days_Since_Last_Purchase='Days Since Last Purchase';
16626 +drop "Days Since Last Purchase"n;
16627 +Satisfaction_Level= "Satisfaction Level"n;
16628 +Label Satisfaction_Level='Satisfaction Level';
16629 +drop "Satisfaction Level"n;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _FI has been deassigned.
 
NOTE: There were 1020 observations read from the data set EMWS1.FIMPORT2_DATA.
NOTE: The data set EMWS1.FIMPORT2_DATA has 1020 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     100
      Page Swaps                        0
      Voluntary Context Switches        39
      Involuntary Context Switches      0
      Block Input Operations            256
      Block Output Operations           520
 
 
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_EMCMETADEFAULT.
NOTE: The data set EMWS1.FIMPORT2_EMCMETADEFAULT has 15 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     117
      Page Swaps                        0
      Voluntary Context Switches        34
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 15 observations read from the data set WORK._NAMES.
NOTE: The data set WORK._NAMES has 15 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     116
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_EMCMETADEFAULT.
NOTE: There were 15 observations read from the data set WORK._NAMES.
NOTE: The data set EMWS1.FIMPORT2_EMCMETADEFAULT has 15 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     166
      Page Swaps                        0
      Voluntary Context Switches        37
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: Deleting WORK._ANY (memtype=DATA).
NOTE: Deleting WORK._V7 (memtype=DATA).
NOTE: Deleting WORK._NAMES (memtype=DATA).
NOTE: Deleting WORK.IMPORTFILE2 (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     53
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
16630  %let SYSCC = 0;
16631  data EMWS1.FIMPORT2_EMTMETADEFAULT;
16632  length LIBNAME $8;
16633  LIBNAME = "EMWS1";
16634  run;
 
NOTE: The data set EMWS1.FIMPORT2_EMTMETADEFAULT has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     93
      Page Swaps                        0
      Voluntary Context Switches        11
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.06 seconds
      user cpu time       0.04 seconds
      system cpu time     0.01 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  5
      Page Faults                       0
      Page Reclaims                     1299
      Page Swaps                        0
      Voluntary Context Switches        105
      Involuntary Context Switches      0
      Block Input Operations            576
      Block Output Operations           1328
 
 
 
NOTE: There were 1 observations read from the data set EMWS1.FIMPORT2_EMTMETADEFAULT.
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        10
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_IMPORTSET.
NOTE: The data set EMWS1.FIMPORT2_IMPORTSET has 15 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.11 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     115
      Page Swaps                        0
      Voluntary Context Switches        34
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_IMPORTSET.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set EMWS1.FIMPORT2_IMPORTSET has 15 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:26 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     168
      Page Swaps                        0
      Voluntary Context Switches        38
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
NOTE: %INCLUDE (level 1) file X is file /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/VARIABLESETDELTA.txt.
16663 +if NAME="Churn" then do;
16664 +ROLE="TARGET";
16665 +LEVEL="BINARY";
16666 +ORDER="";
16667 +DROP="N";
16668 +end;
16669 +if NAME="Customer_ID" then do;
16670 +ROLE="ID";
16671 +LEVEL="INTERVAL";
16672 +ORDER="";
16673 +DROP="N";
16674 +end;
16675 +if NAME="Discount_Applied" then do;
16676 +ROLE="REJECTED";
16677 +LEVEL="NOMINAL";
16678 +ORDER="";
16679 +DROP="N";
16680 +end;
16681 +if NAME="Discount_Applied_Binary" then do;
16682 +ROLE="INPUT";
16683 +LEVEL="BINARY";
16684 +ORDER="";
16685 +DROP="N";
16686 +end;
16687 +if NAME="Gender" then do;
16688 +ROLE="REJECTED";
16689 +LEVEL="NOMINAL";
16690 +ORDER="";
16691 +DROP="N";
16692 +end;
16693 +if NAME="Gender_Binary" then do;
16694 +ROLE="INPUT";
16695 +LEVEL="BINARY";
16696 +ORDER="";
16697 +DROP="N";
16698 +end;
NOTE: %INCLUDE (level 1) ending.
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_EMCMETADEFAULT.
NOTE: The data set EMWS1.FIMPORT2_VARIABLESET has 15 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.11 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     129
      Page Swaps                        0
      Voluntary Context Switches        44
      Involuntary Context Switches      0
      Block Input Operations            296
      Block Output Operations           264
 
 
NOTE: Fileref X has been deassigned.
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_VARIABLESET.
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_EMCMETADEFAULT.
NOTE: The data set WORK._DIFFMETA has 12 observations and 23 variables.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     208
      Page Swaps                        0
      Voluntary Context Switches        13
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: The file X1 is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/CDELTA_TRAIN.sas,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:51:27
 
NOTE: 31 records were written to the file X1.
      The minimum record length was 4.
      The maximum record length was 42.
NOTE: There were 6 observations read from the data set WORK._DIFFMETA.
      WHERE _type_='COMPARE';
NOTE: DATA statement used (Total process time):
      real time           0.10 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     71
      Page Swaps                        0
      Voluntary Context Switches        7
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: The file X2 is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/DELTACODE.txt,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:51:27
 
NOTE: 31 records were written to the file X2.
      The minimum record length was 4.
      The maximum record length was 42.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     28
      Page Swaps                        0
      Voluntary Context Switches        8
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
NOTE: Fileref X1 has been deassigned.
NOTE: Fileref X2 has been deassigned.
 
NOTE: The file X is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/VARIABLESETDELTA.txt,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:51:27
 
NOTE: 36 records were written to the file X.
      The minimum record length was 4.
      The maximum record length was 42.
NOTE: There were 6 observations read from the data set WORK._DIFFMETA.
      WHERE _type_='COMPARE';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     66
      Page Swaps                        0
      Voluntary Context Switches        5
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
NOTE: Fileref X has been deassigned.
 
NOTE: Deleting WORK._DIFFMETA (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     50
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: There were 6 observations read from the data set EMWS1.FIMPORT2_EXPORTSET.
NOTE: The data set EMWS1.FIMPORT2_EXPORTSET has 6 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     126
      Page Swaps                        0
      Voluntary Context Switches        31
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     105
      Page Swaps                        0
      Voluntary Context Switches        4
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
NOTE: The PROCEDURE CONTENTS printed page 2.
 
 
NOTE: The file WORK.NEW (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.IMPORTFILE (memtype=DATA).
NOTE: Deleting WORK.IMPORTATTRS (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     48
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
16699  *------------------------------------------------------------*;
16700  * End TRAIN: FIMPORT2;
16701  *------------------------------------------------------------*;
 
16702  *------------------------------------------------------------*;
16703  * Close any missing semi colons;
16704  *------------------------------------------------------------*;
16705  ;
16706  ;
16707  ;
16708  ;
16709  quit;
16710  *------------------------------------------------------------*;
16711  * Close any unbalanced quotes;
16712  *------------------------------------------------------------*;
16713  /*; *"; *'; */
16714  ;
16715  run;
16716  quit;
16717  /* Reset EM Options */
16718  options formchar="|----|+|---+=|-/\<>*";
16719  options nocenter ls=256 ps=10000;
16720  goptions reset=all device=GIF NODISPLAY;
 
*------------------------------------------------------------*
* Score Log
Date:                07 January 2024
Time:                05:51:27
*------------------------------------------------------------*
16822  %let EMEXCEPTIONSTRING=;
16823  *------------------------------------------------------------*;
16824  * SCORE: FIMPORT2;
16825  *------------------------------------------------------------*;
16826  %let EM_ACTION = SCORE;
16827  %let syscc = 0;
16828  /* Fimport.source */
16829  %macro main;
16830        %if %upcase(&EM_ACTION) = CREATE %then %do;
16831           filename temp catalog 'sashelp.emsamp.Fimport_create.source';
16832           %include temp;
16833           filename temp;
16834           %create;
16835        %end;
16836        %else
16837        %if %upcase(&EM_ACTION) = TRAIN %then %do;
16838           filename temp catalog 'sashelp.emsamp.Fimport_train.source';
16839           %include temp;
16840           filename temp;
16841           %train;
16842        %end;
16843        %else
16844        %if %upcase(&EM_ACTION) = UPDATE %then %do;
16845           filename temp catalog 'sashelp.emsamp.Fimport_update.source';
16846           %include temp;
16847           filename temp;
16848           %update;
16849        %end;
16850        %else
16851        %if %upcase(&EM_ACTION) = PROPERTY %then %do;
16852           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
16853           %include temp;
16854           filename temp;
16855           %property;
16856        %end;
16857         %else
16858        %if %upcase(&EM_ACTION) = SCORE %then %do;
16859           filename temp catalog 'sashelp.emsamp.Fimport_score.source';
16860           %include temp;
16861           filename temp;
16862           %score;
16863        %end;
16864        %else
16865        %if %upcase(&EM_ACTION) = REPORT %then %do;
16866           filename temp catalog 'sashelp.emsamp.Fimport_report.source';
16867           %include temp;
16868           filename temp;
16869           %report;
16870        %end;
16871        %else
16872        %if %upcase(&EM_ACTION) = OPENVARIABLESET %then %do;
16873           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
16874           %include temp;
16875           filename temp;
16876           %openvariableset;
16877        %end;
16878        %else
16879        %if %upcase(&EM_ACTION) = CLOSEVARIABLESET %then %do;
16880           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
16881           %include temp;
16882           filename temp;
16883           %closevariableset;
16884        %end;
16885  %mend main;
16886  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMSAMP.FIMPORT_SCORE.SOURCE.
16887 +%macro score;
16888 +
16889 +   filename x "&EM_NODEDIR.&EM_DSEP._updatePath.st";
16890 +   data _null_;
16891 +      file x;
16892 +      put ' ';
16893 +   run;
16894 +   filename x;
16895 +
16896 +   %em_getname(key=DATA, type=DATA);
16897 +   %if %sysfunc(exist(&em_user_data)) %then %do;
16898 +       data &em_export_train / view=&em_export_train;
16899 +          set &em_user_data;
16900 +       run;
16901 +   %end;
16902 +
16903 +%mend score;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
NOTE: The file X is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/FIMPORT2/_updatePath.st,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 05:51:27
 
NOTE: 1 record was written to the file X.
      The minimum record length was 1.
      The maximum record length was 1.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     28
      Page Swaps                        0
      Voluntary Context Switches        5
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
NOTE: Fileref X has been deassigned.
 
NOTE: DATA STEP view saved on file EMWS1.FIMPORT2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              33497.03k
      OS Memory           42736.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     159
      Page Swaps                        0
      Voluntary Context Switches        11
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
16904  *------------------------------------------------------------*;
16905  * End SCORE: FIMPORT2;
16906  *------------------------------------------------------------*;
 
16908  *------------------------------------------------------------*;
16909  * FIMPORT2: Computing metadata for TRAIN data;
16910  *------------------------------------------------------------*;
 
NOTE: View EMWS1.FIMPORT2_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      user cpu time       0.02 seconds
      system cpu time     0.03 seconds
      memory              91098.09k
      OS Memory           104060.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  5
      Page Faults                       0
      Page Reclaims                     16492
      Page Swaps                        0
      Voluntary Context Switches        12
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
NOTE: View EMWS1.FIMPORT2_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      user cpu time       0.01 seconds
      system cpu time     0.03 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  5
      Page Faults                       0
      Page Reclaims                     16438
      Page Swaps                        0
      Voluntary Context Switches        11
      Involuntary Context Switches      1
      Block Input Operations            0
      Block Output Operations           0
 
*------------------------------------------------------------*
* Report Log
Date:                07 January 2024
Time:                05:51:28
*------------------------------------------------------------*
17302  %let EMEXCEPTIONSTRING=;
17303  *------------------------------------------------------------*;
17304  * REPORT: FIMPORT2;
17305  *------------------------------------------------------------*;
17306  %let EM_ACTION = REPORT;
17307  %let syscc = 0;
17308  /* Fimport.source */
17309  %macro main;
17310        %if %upcase(&EM_ACTION) = CREATE %then %do;
17311           filename temp catalog 'sashelp.emsamp.Fimport_create.source';
17312           %include temp;
17313           filename temp;
17314           %create;
17315        %end;
17316        %else
17317        %if %upcase(&EM_ACTION) = TRAIN %then %do;
17318           filename temp catalog 'sashelp.emsamp.Fimport_train.source';
17319           %include temp;
17320           filename temp;
17321           %train;
17322        %end;
17323        %else
17324        %if %upcase(&EM_ACTION) = UPDATE %then %do;
17325           filename temp catalog 'sashelp.emsamp.Fimport_update.source';
17326           %include temp;
17327           filename temp;
17328           %update;
17329        %end;
17330        %else
17331        %if %upcase(&EM_ACTION) = PROPERTY %then %do;
17332           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
17333           %include temp;
17334           filename temp;
17335           %property;
17336        %end;
17337         %else
17338        %if %upcase(&EM_ACTION) = SCORE %then %do;
17339           filename temp catalog 'sashelp.emsamp.Fimport_score.source';
17340           %include temp;
17341           filename temp;
17342           %score;
17343        %end;
17344        %else
17345        %if %upcase(&EM_ACTION) = REPORT %then %do;
17346           filename temp catalog 'sashelp.emsamp.Fimport_report.source';
17347           %include temp;
17348           filename temp;
17349           %report;
17350        %end;
17351        %else
17352        %if %upcase(&EM_ACTION) = OPENVARIABLESET %then %do;
17353           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
17354           %include temp;
17355           filename temp;
17356           %openvariableset;
17357        %end;
17358        %else
17359        %if %upcase(&EM_ACTION) = CLOSEVARIABLESET %then %do;
17360           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
17361           %include temp;
17362           filename temp;
17363           %closevariableset;
17364        %end;
17365  %mend main;
17366  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMSAMP.FIMPORT_REPORT.SOURCE.
17367 +%macro report;
17368 +    %em_getname(key=EMSTAT,     type=DATA);
17369 +    %em_getname(key=EMINFO,     type=DATA);
17370 +    %em_getname(key=CLASS,      type=DATA);
17371 +    %em_getname(key=INTERVAL,   type=DATA);
17372 +
17373 +    %em_REPORT(key=EMSTAT,   viewtype=DATA, description=EMSTAT, block=Report, autodisplay=Y);
17374 +    %em_REPORT(key=INTERVAL, viewtype=LATTICE, LATTICETYPE=HISTOGRAM, LATTICEX=VARIABLE, DISCRETEX=Y, X=VALUE,FREQ=PERCENT,block=Report, description=INTERVALTARGET, autodisplay=N);
17375 +    %em_REPORT(key=CLASS, viewtype=LATTICE, LATTICEtype=BAR, LATTICEX=VARIABLE, X=VALUE,FREQ=PERCENT, block=Report, description=CLASSTARGET, autodisplay=Y);
17376 +
17377 +    %if &em_property_summarize eq Y %then %do;
17378 +        filename temp catalog 'sashelp.emmeta.emadvisestatistics.source';
17379 +        %include temp;
17380 +        filename temp;
17381 +
17382 +        data work.tempmeta;
17383 +           set &em_lib..&em_nodeid._CMETA_TRAIN;
17384 +           if ROLE='TARGET' and LEVEL ne 'INTERVAL' then output;
17385 +         run;
17386 +
17387 +        %class_profile(DATA=&em_export_train, OUTPUT=&em_user_class, VARS=,
17388 +                      METADATA=tempmeta, STAT=_STAT, FREQ=);
17389 +
17390 +         data work.tempmeta;
17391 +           set &em_lib..&em_nodeid._CMETA_TRAIN;
17392 +            if ROLE='TARGET' and LEVEL eq 'INTERVAL' then output;
17393 +         run;
17394 +         %var_profile(DATA=&em_export_train, OUTPUT=&em_user_INTERVAL, VARS=, METADATA=tempmeta, COMPUTESTAT=Y, STAT=_STAT, FREQ=,
17395 +                   BINDATA=, BIN=Y, NUMBARS=8, MINMAX=N);
17396 +
17397 +        data work.tempmeta;
17398 +           set &em_lib..&em_nodeid._CMETA_TRAIN;
17399 +        run;
17400 +
17401 +        %if "&em_property_advancedadvisor" eq "N" %then %do;
17402 +            %EmAdviseStat(&em_export_train, maxClassLevels=32, metadata=tempmeta, statisticData=&em_user_emstat);
17403 +
17404 +            data &em_data_exportset;
17405 +                 set &em_data_exportset;
17406 +                 if NODEPORT='TRAIN' then do;
17407 +                    EMINFO="&em_data_eminfo";
17408 +                    EMINFOMODTIME=datetime();
17409 +                 end;
17410 +            run;
17411 +        %end;
17412 +        %else %do;
17413 +            %em_getname(key=EMSTATDEFAULT,     type=DATA);
17414 +            %if %sysfunc(exist(&em_user_emstatdefault)) %then %do;
17415 +                data &em_user_emstat /  view=&em_user_emstat;
17416 +                   set &em_user_emstatdefault;
17417 +                run;
17418 +            %end;
17419 +        %end;
17420 +    %end;
17421 +    %else %do;
17422 +        %if "&em_property_advancedadvisor" eq "N" %then %do;
17423 +            proc datasets lib=&em_lib nolist;
17424 +               delete &em_nodeid._EMINFO;
17425 +            run;
17426 +            quit;
17427 +            data &em_data_exportset;
17428 +                 set &em_data_exportset;
17429 +                 if NODEPORT='TRAIN' then do;
17430 +                    EMINFO="";
17431 +                    EMINFOMODTIME=.;
17432 +                 end;
17433 +            run;
17434 +        %end;
17435 +    %end;
17436 +
17437 +    data &em_data_exportset;
17438 +       set &em_data_exportset;
17439 +       if NODEPORT='TRAIN' then do;
17440 +          ROLE="&em_property_role";
17441 +       end;
17442 +    run;
17443 +
17444 +    %if %sysfunc(exist(&em_data_variableSet)) %then %do;
17445 +        proc freq data=&em_data_variableset noprint;
17446 +             table ROLE*LEVEL/out=work.tempMeta;
17447 +        run;
17448 +        proc print data=work.tempmeta label noobs;
17449 +           var ROLE LEVEL COUNT;
17450 +           label ROLE  = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))"
17451 +                 LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))"
17452 +                 COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
17453 +        title9  ' ';
17454 +        title10  "%sysfunc(sasmsg(sashelp.dmine, rpt_exptattributes_title, NOQUOTE, TRAIN))";
17455 +        run;
17456 +        title10;
17457 +    %end;
17458 +
17459 +    %if %sysfunc(exist(work.tempmeta)) %then %do;
17460 +        proc datasets lib=work nolist;
17461 +           delete tempmeta;
17462 +        run;
17463 +        quit;
17464 +    %end;
17465 +
17466 +%mend report;
17467 +
17468 +
17469 +
17470 +
17471 +
17472 +
17473 +
17474 +
17475 +
17476 +
17477 +
17478 +
17479 +
17480 +
17481 +
17482 +
17483 +
17484 +
17485 +
17486 +
17487 +
17488 +
17489 +
17490 +
17491 +
17492 +
17493 +
17494 +
17495 +
17496 +
17497 +
17498 +
17499 +
17500 +
17501 +
17502 +
17503 +
17504 +
17505 +
17506 +
17507 +
17508 +
17509 +
17510 +
17511 +
17512 +
17513 +
17514 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
NOTE: The data set WORK.EM_USER_REPORT has 132 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.03 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     214
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 132 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 264 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     196
      Page Swaps                        0
      Voluntary Context Switches        1
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 264 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 396 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     196
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
 
NOTE: The file EMWS1.FIMPORT2_EMINFO (memtype=DATA) was not found, but appears on a DELETE statement.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.01 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     51
      Page Swaps                        0
      Voluntary Context Switches        3
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: There were 6 observations read from the data set EMWS1.FIMPORT2_EXPORTSET.
NOTE: The data set EMWS1.FIMPORT2_EXPORTSET has 6 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     126
      Page Swaps                        0
      Voluntary Context Switches        37
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: There were 6 observations read from the data set EMWS1.FIMPORT2_EXPORTSET.
NOTE: The data set EMWS1.FIMPORT2_EXPORTSET has 6 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     128
      Page Swaps                        0
      Voluntary Context Switches        39
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: There were 15 observations read from the data set EMWS1.FIMPORT2_VARIABLESET.
NOTE: The data set WORK.TEMPMETA has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     385
      Page Swaps                        0
      Voluntary Context Switches        5
      Involuntary Context Switches      1
      Block Input Operations            0
      Block Output Operations           1320
 
 
 
NOTE: There were 6 observations read from the data set WORK.TEMPMETA.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     509
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: Deleting WORK.TEMPMETA (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     48
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
17515  *------------------------------------------------------------*;
17516  * End REPORT: FIMPORT2;
17517  *------------------------------------------------------------*;
 
17518  /* Reset EM Options */
17519  options formchar="|----|+|---+=|-/\<>*";
17520  options nocenter ls=256 ps=10000;
17521  goptions reset=all device=GIF NODISPLAY;
 
17522  proc sort data=WORK.EM_USER_REPORT;
17523  by ID VIEW;
17524  run;
 
NOTE: There were 396 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 396 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              95620.12k
      OS Memory           105692.00k
      Timestamp           07/01/2024 05:51:27 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     105
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
