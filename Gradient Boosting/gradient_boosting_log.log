*------------------------------------------------------------*
User:                u63437975
Date:                07 January 2024
Time:                10:06:12
Site:                70094220
Platform:            Linux
Maintenance Release: 9.04.01M7P080620
EM Version:          15.2
* 
*------------------------------------------------------------*
* Training Log
Date:                07 January 2024
Time:                10:06:07
*------------------------------------------------------------*
15240  proc freq data=EMWS1.Boost_VariableSet noprint;
15241  table ROLE*LEVEL/out=WORK.BoostMETA;
15242  run;
15243  proc print data=WORK.BoostMETA label noobs;
15244  var ROLE LEVEL COUNT;
15245  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
15246  title9 ' ';
15247  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
15248  run;
15249  title10;
15250  %let EMNORLEN = %DMNORLEN;
EMWS1.Part_TRAIN EMWS1.Part_TRAIN
EMWS1.Part_TRAIN EMWS1.Part_TRAIN EMWS1 Part_TRAIN
EMWS1.Part_TRAIN EMWS1.Part_TRAIN
EMWS1.Part_TRAIN EMWS1.Part_TRAIN EMWS1 Part_TRAIN
15297  data WORK.Boost_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
15298  length ORDER $20;
15299  label VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,  NOQUOTE))" EVENT = "%sysfunc(sasmsg(sashelp.dmine, assmt_event_vlabel, NOQUOTE))" NUMLEVELS = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel, NOQUOTE))" LEVEL =
15300     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" ORDER = "%sysfunc(sasmsg(sashelp.dmine, meta_order_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
15301  set EMWS1.BOOST_CHURN_DM( where=(_TYPE_="TARGET"));
15302  NumLevels=2;
15303  select(upcase(ORDER));
15304  when('DESC') ORDER = 'Descending';
15305  when('ASC') ORDER = 'Ascending';
15306  when('FMTDESC') ORDER = 'Formatted Descending';
15307  when('FMTASC') ORDER = 'Formatted Ascending';
15308  otherwise ORDER = 'Descending';
15309  end;
15310  output;
15311  run;
15312  title9 ' ';
15313  proc print data=WORK.Boost_EVENT noobs label;
15314  var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
15315  title9 ' ';
15316  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_modelEvent_title  , NOQUOTE))";
15317  run;
15318  title10;
"No decisions defined for target "Churn"."
15319  proc print data = EMWS1.Boost_Churn_DM noobs label;
15320  var _type_ variable label;
15321  where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 'DECPRIOR');
15322  label _TYPE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,     NOQUOTE))" VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
15323  title9 ' ';
15324  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_predDecVars_title  , NOQUOTE))";
15325  run;
15326  title10;
15327  %let EMEXCEPTIONSTRING=;
15793  *------------------------------------------------------------*;
15794  * Boost: Generation of macros and macro variables;
15795  * To see the code generated, set the EM_DEBUG macro variable to SOURCE or _ALL_;
15796  *------------------------------------------------------------*;
 
15797  %let EMEXCEPTIONSTRING=;
15798  *------------------------------------------------------------*;
15799  * TRAIN: Boost;
15800  *------------------------------------------------------------*;
15801  %let EM_ACTION = TRAIN;
15802  %let syscc = 0;
15803  %macro main;
15804
15805    filename temp catalog 'sashelp.emmodl.boost_macros.source';
15806    %include temp;
15807    filename temp;
15808
15809    %setProperties;
15810
15811    %if %upcase(&EM_ACTION) = CREATE %then %do;
15812      filename temp catalog 'sashelp.emmodl.boost_create.source';
15813      %include temp;
15814      filename temp;
15815
15816      %create;
15817    %end;
15818
15819     %else
15820     %if %upcase(&EM_ACTION) = TRAIN %then %do;
15821
15822         filename temp catalog 'sashelp.emmodl.boost_train.source';
15823         %include temp;
15824         filename temp;
15825         %train;
15826     %end;
15827
15828    %else
15829    %if %upcase(&EM_ACTION) = SCORE %then %do;
15830      filename temp catalog 'sashelp.emmodl.boost_score.source';
15831      %include temp;
15832      filename temp;
15833
15834      %score;
15835
15836    %end;
15837
15838    %else
15839    %if %upcase(&EM_ACTION) = REPORT %then %do;
15840
15841         filename temp catalog 'sashelp.emmodl.boost_report.source';
15842         %include temp;
15843         filename temp;
15844
15845         %report;
15846     %end;
15847
15848     %doendm:
15849  %mend main;
15850
15851  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMMODL.BOOST_MACROS.SOURCE.
15853 +%macro SetProperties;
15855 +     /* boost options */
15856 +     %em_checkmacro(name=EM_PROPERTY_ITERATIONS,   value=50, global=Y);
15857 +     %em_checkmacro(name=EM_PROPERTY_TRAINPROPORTION,   value=60, global=Y);
15858 +     %em_checkmacro(name=EM_PROPERTY_CATEGORICALBINS, value=30, global=Y);
15859 +     %em_checkmacro(name=EM_PROPERTY_INTERVALBINS, value=100, global=Y);
15860 +     %em_checkmacro(name=EM_PROPERTY_HUBER, value=NO, global=Y);
15861 +     %em_checkmacro(name=EM_PROPERTY_SEED,   value=12345, global=Y);
15862 +     %em_checkmacro(name=EM_PROPERTY_SHRINKAGE,   value=0.1, global=Y);
15863 +     %em_checkmacro(name=EM_PROPERTY_LEAFFRACTION,   value=0.001, global=Y);
15864 +     %em_checkmacro(name=EM_PROPERTY_SPLITSIZE,   value=., global=Y);
15865 +     %em_checkmacro(name=EM_PROPERTY_NODESIZE,   value=20000, global=Y);
15866 +     %em_checkmacro(name=EM_PROPERTY_SUBSERIES,   value=BEST, global=Y);
15867 +     %em_checkmacro(name=EM_PROPERTY_ITERATIONNUM,   value=1, global=Y);
15869 +     %em_checkmacro(name=EM_PROPERTY_PRECISION,    value=0, global=Y);
15870 +     %em_checkmacro(name=EM_PROPERTY_MISSING,      value=USEINSEARCH, global=Y);
15871 +     %em_checkmacro(name=EM_PROPERTY_MINCATSIZE, value=5, global=Y);
15872 +     %em_checkmacro(name=EM_PROPERTY_MAXBRANCH,  value=2, global=Y);
15873 +     %em_checkmacro(name=EM_PROPERTY_MAXDEPTH,   value=2, global=Y);
15874 +     %em_checkmacro(name=EM_PROPERTY_REUSEVAR,   value=1, global=Y);
15875 +     %em_checkmacro(name=EM_PROPERTY_EXHAUSTIVE,   value=5000, global=Y);
15876 +     %em_checkmacro(name=EM_PROPERTY_PERFORMANCE,   value=DISK, global=Y);
15878 +     %em_checkmacro(name=EM_PROPERTY_ASSESSMEASURE, value=PROFIT, global=Y);
15879 +     %em_checkmacro(name=EM_PROPERTY_MEASURE, value=PROFIT, global=Y);
15880 +     %em_checkmacro(name=EM_PROPERTY_NSURRS, value=0, global=Y);
15881 +     %em_checkmacro(name=EM_PROPERTY_VARSELECTION, value=Y, global=Y);
15883 +     %em_checkmacro(name=EM_PROPERTY_OBSIMPORTANCE, value=N, global=Y);
15884 +     %em_checkmacro(name=EM_PROPERTY_NUMSINGLEIMP, value=5, global=Y);
15885 +     %em_checkmacro(name=EM_PROPERTY_NUMPAIRIMP, value=0, global=Y);
15887 +%mend SetProperties;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMMODL.BOOST_TRAIN.SOURCE.
15891 +%macro train;
15893 +   filename temp catalog 'sashelp.emmodl.boost_trainmacros.source';
15894 +   %include temp;
15895 +   filename temp;
15897 +   %if &EM_IMPORT_DATA eq %then %do;
15898 +       %let EMEXCEPTIONSTRING = exception.server.IMPORT.NOTRAIN,1;
15899 +       %put &em_codebar;
15900 +       %let errormsg = %sysfunc(sasmsg(sashelp.dmine, error_nodeTrainRawData_note, NOQUOTE));
15901 +       %put &errormsg;
15902 +       %put &em_codebar;
15903 +       %goto doendm;
15904 +   %end;
15905 +   %else
15906 +       %let EMEXCEPTIONSTRING =;
15908 +   %if  &EM_NUM_TARGET ne 1 %then %do;
15909 +        %let EMEXCEPTIONSTRING = exception.server.USE1TARGET;
15910 +        %put &em_codebar;
15911 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, metadata.use01target_err, NOQUOTE));
15912 +        %put &errormsg;
15913 +        %put &em_codebar;
15914 +        %goto doendm;
15915 +   %end;
15917 +   %let target_level = %EM_TARGET_LEVEL;
15918 +   %let target_var = %EM_TARGET;
15920 +   %if ("&target_Level" ne "INTERVAL") %then %do;
15921 +       %em_boost_makeDMDB(indata=&EM_IMPORT_DATA, target=&target_Var,
15922 +                             nLevel=_nTargetLevel);
15923 +   %end;
15925 +   /* check actual num of target levels */
15926 +   %if (&target_Level eq BINARY) %then %do;
15927 +      %if &_nTargetLevel  > 2 %then %do;
15928 +        %let EMEXCEPTIONSTRING = exception.server.METADATA.WRONGTARGETLEVEL,&target_Var;
15929 +        %put &em_codebar;
15930 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, metadata.wrongtargetlevel, NOQUOTE));
15931 +        %put &errormsg;
15932 +        %put &em_codebar;
15933 +        %goto doendm;
15934 +      %end;
15935 +   %end;
15937 +   %if  (&EM_NUM_INTERVAL_INPUT < 1) and (&EM_NUM_BINARY_INPUT < 1) and (&EM_NUM_ORDINAL_INPUT < 1)
15938 +        and (&EM_NUM_NOMINAL_INPUT < 1) %then %do;
15939 +        %let EMEXCEPTIONSTRING = exception.server.USEATLEAST1INPUTREJECT;
15940 +        %put &em_codebar;
15941 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, error_noInput_note, NOQUOTE));
15942 +        %put &errormsg;
15943 +        %put &em_codebar;
15944 +        %goto doendm;
15945 +   %end;
15947 +   /* Initialize property macro variables */
15948 +   %SetProperties;
15950 +   /* data sets */
15951 +   %EM_GETNAME(key=MODEL, type=DATA);
15952 +   %EM_GETNAME(key=IMPORTANCE, type=DATA);
15953 +   %EM_GETNAME(key=SUBFIT, type=DATA);
15954 +   %EM_GETNAME(key=EMOUTFIT, type=DATA);
15956 +   /* files
15957 +   %EM_GETNAME(key=BINNINGCODE, type=FILE, extension=sas);*/
15959 +   /* retrieve target information */
15960 +   %let dsid=%sysfunc(open(&EM_DEC_DECMETA(where=(_TYPE_='TARGET'))));
15962 +   %let vn_event =%sysfunc(varnum(&dsid, EVENT));
15963 +   %let vn_target_type = %sysfunc(varnum(&dsid, TYPE));
15964 +   %let vn_target_format = %sysfunc(varnum(&dsid, FORMAT));
15965 +   %let vn_target_level  = %sysfunc(varnum(&dsid, LEVEL));
15966 +   %do %while(^ %sysfunc(fetch(&dsid)));
15967 +      %let temp = %nrbquote(%sysfunc(getvarc(&dsid, &vn_event)));
15968 +      %let Target_Event = %nrbquote(%sysfunc(tranwrd(&temp, %str(%"),"")));
15969 +      %let Target_Type =  %sysfunc(getvarc(&dsid, &vn_target_type));
15970 +      %let Target_Format = %sysfunc(getvarc(&dsid, &vn_target_format));
15971 +      %let Target_Level = %sysfunc(getvarc(&dsid, &vn_target_level));
15972 +   %end;
15973 +   %let dsid = %sysfunc(close(&dsid));
15975 +   /* if target level is ORDINAL, throw run time exception -- proc boost does not support ordinal target */
15976 +   %if &Target_Level eq ORDINAL %then %do;
15977 +        %let EMEXCEPTIONSTRING = exception.server.METADATA.INVALIDORDINALTARGET;
15978 +        %put &em_codebar;
15979 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, error_invalidordinaltarget_note, NOQUOTE));
15980 +        %put &errormsg;
15981 +        %put &em_codebar;
15982 +        %goto doendm;
15983 +   %end;
15985 +   /* if subSeries=ITERATIONS and iterationNum not specified, exception should be thrown */
15986 +   %if ((&EM_PROPERTY_SUBSERIES eq ITERATIONS) and (&EM_PROPERTY_ITERATIONNUM eq . )) %then %do;
15987 +        %let EMEXCEPTIONSTRING = exception.server.EMTOOL.BOOST.NOITERATIONNUM;
15988 +        %put &em_codebar;
15989 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, error_noiterationnum_note, NOQUOTE));
15990 +        %put &errormsg;
15991 +        %put &em_codebar;
15992 +        %goto doendm;
15993 +   %end;
15995 +   %runBoostProcedure;
15998 +   %doendm:
15999 +%mend train;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMMODL.BOOST_TRAINMACROS.SOURCE.
16000 +%Macro em_boost_makeDMDB(indata=, target=,  nLevel= );
16001 +  %global &nLevel;
16003 +  %let targetLevel=;
16004 +  data _null_;
16005 +     length orderString $64;
16006 +     set &em_data_variableset end=eof;
16007 +     where NAME="&target";
16008 +     select(order);
16009 +            when('')        order ='DESC';
16010 +            when('FMTASC')  order='ASCFMT';
16011 +            when('FMTDESC') order='DESFMT';
16012 +            otherwise;
16013 +     end;
16014 +     if eof then do;
16015 +        call symput("targetOrder", trim(order));
16016 +        call symput("targetLevel", trim(Level));
16017 +     end;
16018 +  run;
16020 +  %if "&targetLevel" ne "INTERVAL" %then %do;
16021 +  proc dmdb batch data=&indata dmdbCat=_BoostDMDB
16022 +    classout=_tmp_dmdbout;
16023 +    class &target(&targetOrder);
16024 +    target &target;
16025 +  run;
16026 +  data _tmp_dmdbout;
16027 +    set _tmp_dmdbout;
16028 +    if strip(TYPE) = 'N' and  strip(LEVEL) = '.' then delete;
16029 +    if strip(TYPE) = 'C' and  strip(LEVEL) = '' then delete;
16030 +  run;
16031 +  data _null_;
16032 +    %let dsid = %sysfunc(open(work._tmp_dmdbout));
16033 +    %let _obs = %sysfunc(attrn(&dsid, NOBS));
16034 +    %let dsid = %sysfunc(close(&dsid));
16035 +     call symput("&nLevel", put(&_obs, Best12.));
16036 +  run;
16038 +  proc datasets lib=work nolist;
16039 +     delete _tmp_dmdbout;
16040 +  run;
16041 +  quit;
16042 +  %end;
16044 +%Mend em_boost_makeDMDB;
16046 +%macro runBoostProcedure;
16048 +  proc sql;
16049 +    reset noprint;
16050 +    select count(*) into :nobs from &EM_IMPORT_DATA;
16051 +  quit;
16053 +  %let arborkluge= "work._BoostDMDB";
16054 +  proc arbor proc=treeboost data=&EM_IMPORT_DATA
16056 +    %if &EM_PROPERTY_ITERATIONS ne %then %do;
16057 +      iterations = &EM_PROPERTY_ITERATIONS
16058 +    %end;
16060 +    %if &EM_PROPERTY_TRAINPROPORTION ne %then %do;
16061 +       %let tprop = %sysevalf(&EM_PROPERTY_TRAINPROPORTION / 100);
16062 +       trainproportion = &tprop
16063 +    %end;
16065 +    %if &EM_PROPERTY_SEED ne %then %do;
16066 +       seed = &EM_PROPERTY_SEED
16067 +    %end;
16069 +    %if &EM_PROPERTY_SHRINKAGE ne %then %do;
16070 +       shrinkage = &EM_PROPERTY_SHRINKAGE
16071 +    %end;
16073 +    %if &EM_PROPERTY_LEAFFRACTION ne %then %do;
16074 +      leaffraction = &EM_PROPERTY_LEAFFRACTION
16075 +    %end;
16077 +    %let splitsize = &EM_PROPERTY_SPLITSIZE;
16078 +    %if &splitsize ge &nobs %then %do;
16079 +       %let splitsize= .;
16080 +    %end;
16081 +    %if &splitsize ne . %then %do;
16082 +      splitsize = &splitsize
16083 +    %end;
16085 +    %if &EM_PROPERTY_MINCATSIZE ne %then %do;
16086 +      mincatsize = &EM_PROPERTY_MINCATSIZE
16087 +    %end;
16089 +    %if &EM_PROPERTY_MAXBRANCH ne %then %do;
16090 +       maxbranch = &EM_PROPERTY_MAXBRANCH
16091 +    %end;
16093 +    %if &EM_PROPERTY_MAXDEPTH ne %then %do;
16094 +       maxdepth = &EM_PROPERTY_MAXDEPTH
16095 +    %end;
16097 +    %let nsurrs = ;
16098 +    %if &EM_PROPERTY_NSURRS ne %then %do;
16099 +      %let numInputs = %sysevalf(&EM_NUM_BINARY_INPUT + &EM_NUM_ORDINAL_INPUT + &EM_NUM_INTERVAL_INPUT + &EM_NUM_NOMINAL_INPUT);
16100 +      %let nsurrs = %sysevalf(%sysfunc(min(&EM_PROPERTY_NSURRS, (&numInputs -1 ))));
16101 +      maxsurrs = &nsurrs
16102 +    %end;
16104 +    %if &EM_PROPERTY_MISSING ne %then %do;
16105 +      Missing = &EM_PROPERTY_MISSING
16106 +    %end;
16108 +    %if &EM_PROPERTY_REUSEVAR ne %then %do;
16109 +      reusevar = &EM_PROPERTY_REUSEVAR
16110 +    %end;
16111 +/*
16112 +    %if &EM_PROPERTY_PRECISION ne %then %do;
16113 +      intervaldecimals=&EM_PROPERTY_PRECISION
16114 +    %end;
16115 +*/
16116 +    %if &EM_PROPERTY_EXHAUSTIVE ne %then %do;
16117 +      Exhaustive = &EM_PROPERTY_EXHAUSTIVE
16118 +    %end;
16120 +    %if &Target_Event ne %then %do;
16121 +      Event="&Target_Event"
16122 +    %end;
16124 +    %if &EM_PROPERTY_CATEGORICALBINS ne %then %do;
16125 +      CategoricalBins = &EM_PROPERTY_CATEGORICALBINS
16126 +    %end;
16128 +    %if &EM_PROPERTY_INTERVALBINS ne %then %do;
16129 +      IntervalBins = &EM_PROPERTY_INTERVALBINS
16130 +    %end;
16132 +    %if &TARGET_LEVEL eq INTERVAL %then %do;
16133 +      %if &EM_PROPERTY_HUBER ne %then %do;
16134 +        Huber=&EM_PROPERTY_HUBER
16135 +      %end;
16136 +    %end;
16137 +    ;
16139 +    %if %EM_INTERVAL_INPUT %EM_INTERVAL_REJECTED ne %then %do;
16140 +      input %EM_INTERVAL_INPUT %EM_INTERVAL_REJECTED/ level = interval;
16141 +    %end;
16143 +    %if %EM_BINARY_INPUT %EM_NOMINAL_INPUT %EM_BINARY_REJECTED %EM_NOMINAL_REJECTED ne  %then %do;
16144 +      input %EM_BINARY_INPUT %EM_BINARY_REJECTED %EM_NOMINAL_INPUT %EM_NOMINAL_REJECTED / level = nominal;
16145 +    %end;
16147 +    %if %EM_ORDINAL_INPUT %EM_ORDINAL_REJECTED ne %then %do;
16148 +      input %EM_ORDINAL_INPUT %EM_ORDINAL_REJECTED/ level = ordinal;
16149 +    %end;
16151 +    %if %EM_FREQ ne %then %do;
16152 +       freq %EM_FREQ;
16153 +    %end;
16155 +    target %EM_TARGET / level = &TARGET_LEVEL;
16157 +    &EM_DEC_STATEMENT;
16159 +    %if &EM_PROPERTY_PERFORMANCE ne %then %do;
16160 +      performance  workdatalocation = &EM_PROPERTY_PERFORMANCE
16161 +    %end;
16162 +    %if &EM_PROPERTY_NODESIZE ne %then %do;
16163 +       nodesize = &EM_PROPERTY_NODESIZE
16164 +    %end;
16165 +    ;
16166 +    save model=&EM_USER_MODEL;
16167 +  run;
16168 +  quit;
16169 +  %em_checkerror();
16171 +%mend runBoostProcedure;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
NOTE: Variable orderString is uninitialized.
NOTE: There were 1 observations read from the data set EMWS1.BOOST_VARIABLESET.
      WHERE NAME='Churn';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              29661.96k
      OS Memory           38784.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     65
      Page Swaps                        0
      Voluntary Context Switches        2
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: Records processed = 816   Memory used = 511K.
NOTE: There were 816 observations read from the data set EMWS1.PART_TRAIN.
NOTE: The data set WORK._TMP_DMDBOUT has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              29661.96k
      OS Memory           39780.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     246
      Page Swaps                        0
      Voluntary Context Switches        8
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           320
 
 
 
NOTE: There were 2 observations read from the data set WORK._TMP_DMDBOUT.
NOTE: The data set WORK._TMP_DMDBOUT has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              29661.96k
      OS Memory           39780.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              29661.96k
      OS Memory           39780.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     61
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: Deleting WORK._TMP_DMDBOUT (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              29661.96k
      OS Memory           39780.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     58
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              31773.40k
      OS Memory           43636.00k
      Timestamp           07/01/2024 10:06:07 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     320
      Page Swaps                        0
      Voluntary Context Switches        4
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
NOTE: 3324671 kilobytes of physical memory.
NOTE: Will use 816 out of 816 training cases.
NOTE: Using memory pool with 72338432 bytes.
NOTE: Passed training data 945 times.
NOTE: Current TREEBOOST model contains 189 trees.
NOTE: Training used 167376 bytes of work memory.
NOTE: The data set EMWS1.BOOST_MODEL has 26727 observations and 4 variables.
 
 
NOTE: There were 816 observations read from the data set EMWS1.PART_TRAIN.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           1.25 seconds
      user cpu time       1.24 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113260.00k
      Timestamp           07/01/2024 10:06:08 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     1186
      Page Swaps                        0
      Voluntary Context Switches        55
      Involuntary Context Switches      1
      Block Input Operations            32
      Block Output Operations           2312
 
 
 
16174  %let SYSCC = 0;
NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113260.00k
      Timestamp           07/01/2024 10:06:08 AM
      Step Count                        1  Switch Count  1
      Page Faults                       0
      Page Reclaims                     47
      Page Swaps                        0
      Voluntary Context Switches        1
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
16175  *------------------------------------------------------------*;
16176  * End TRAIN: Boost;
16177  *------------------------------------------------------------*;
16178
 
16179  *------------------------------------------------------------*;
16180  * Close any missing semi colons;
16181  *------------------------------------------------------------*;
16182  ;
16183  ;
16184  ;
16185  ;
16186  quit;
16187  *------------------------------------------------------------*;
16188  * Close any unbalanced quotes;
16189  *------------------------------------------------------------*;
16190  /*; *"; *'; */
16191  ;
16192  run;
16193  quit;
16194  /* Reset EM Options */
16195  options formchar="|----|+|---+=|-/\<>*";
16196  options nocenter ls=256 ps=10000;
16197  goptions reset=all device=GIF NODISPLAY;
 
*------------------------------------------------------------*
* Score Log
Date:                07 January 2024
Time:                10:06:09
*------------------------------------------------------------*
16299  %let EMEXCEPTIONSTRING=;
16300  *------------------------------------------------------------*;
16301  * SCORE: Boost;
16302  *------------------------------------------------------------*;
16303  %let EM_ACTION = SCORE;
16304  %let syscc = 0;
16305  %macro main;
16306
16307    filename temp catalog 'sashelp.emmodl.boost_macros.source';
16308    %include temp;
16309    filename temp;
16310
16311    %setProperties;
16312
16313    %if %upcase(&EM_ACTION) = CREATE %then %do;
16314      filename temp catalog 'sashelp.emmodl.boost_create.source';
16315      %include temp;
16316      filename temp;
16317
16318      %create;
16319    %end;
16320
16321     %else
16322     %if %upcase(&EM_ACTION) = TRAIN %then %do;
16323
16324         filename temp catalog 'sashelp.emmodl.boost_train.source';
16325         %include temp;
16326         filename temp;
16327         %train;
16328     %end;
16329
16330    %else
16331    %if %upcase(&EM_ACTION) = SCORE %then %do;
16332      filename temp catalog 'sashelp.emmodl.boost_score.source';
16333      %include temp;
16334      filename temp;
16335
16336      %score;
16337
16338    %end;
16339
16340    %else
16341    %if %upcase(&EM_ACTION) = REPORT %then %do;
16342
16343         filename temp catalog 'sashelp.emmodl.boost_report.source';
16344         %include temp;
16345         filename temp;
16346
16347         %report;
16348     %end;
16349
16350     %doendm:
16351  %mend main;
16352
16353  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMMODL.BOOST_MACROS.SOURCE.
16355 +%macro SetProperties;
16357 +     /* boost options */
16358 +     %em_checkmacro(name=EM_PROPERTY_ITERATIONS,   value=50, global=Y);
16359 +     %em_checkmacro(name=EM_PROPERTY_TRAINPROPORTION,   value=60, global=Y);
16360 +     %em_checkmacro(name=EM_PROPERTY_CATEGORICALBINS, value=30, global=Y);
16361 +     %em_checkmacro(name=EM_PROPERTY_INTERVALBINS, value=100, global=Y);
16362 +     %em_checkmacro(name=EM_PROPERTY_HUBER, value=NO, global=Y);
16363 +     %em_checkmacro(name=EM_PROPERTY_SEED,   value=12345, global=Y);
16364 +     %em_checkmacro(name=EM_PROPERTY_SHRINKAGE,   value=0.1, global=Y);
16365 +     %em_checkmacro(name=EM_PROPERTY_LEAFFRACTION,   value=0.001, global=Y);
16366 +     %em_checkmacro(name=EM_PROPERTY_SPLITSIZE,   value=., global=Y);
16367 +     %em_checkmacro(name=EM_PROPERTY_NODESIZE,   value=20000, global=Y);
16368 +     %em_checkmacro(name=EM_PROPERTY_SUBSERIES,   value=BEST, global=Y);
16369 +     %em_checkmacro(name=EM_PROPERTY_ITERATIONNUM,   value=1, global=Y);
16371 +     %em_checkmacro(name=EM_PROPERTY_PRECISION,    value=0, global=Y);
16372 +     %em_checkmacro(name=EM_PROPERTY_MISSING,      value=USEINSEARCH, global=Y);
16373 +     %em_checkmacro(name=EM_PROPERTY_MINCATSIZE, value=5, global=Y);
16374 +     %em_checkmacro(name=EM_PROPERTY_MAXBRANCH,  value=2, global=Y);
16375 +     %em_checkmacro(name=EM_PROPERTY_MAXDEPTH,   value=2, global=Y);
16376 +     %em_checkmacro(name=EM_PROPERTY_REUSEVAR,   value=1, global=Y);
16377 +     %em_checkmacro(name=EM_PROPERTY_EXHAUSTIVE,   value=5000, global=Y);
16378 +     %em_checkmacro(name=EM_PROPERTY_PERFORMANCE,   value=DISK, global=Y);
16380 +     %em_checkmacro(name=EM_PROPERTY_ASSESSMEASURE, value=PROFIT, global=Y);
16381 +     %em_checkmacro(name=EM_PROPERTY_MEASURE, value=PROFIT, global=Y);
16382 +     %em_checkmacro(name=EM_PROPERTY_NSURRS, value=0, global=Y);
16383 +     %em_checkmacro(name=EM_PROPERTY_VARSELECTION, value=Y, global=Y);
16385 +     %em_checkmacro(name=EM_PROPERTY_OBSIMPORTANCE, value=N, global=Y);
16386 +     %em_checkmacro(name=EM_PROPERTY_NUMSINGLEIMP, value=5, global=Y);
16387 +     %em_checkmacro(name=EM_PROPERTY_NUMPAIRIMP, value=0, global=Y);
16389 +%mend SetProperties;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMMODL.BOOST_SCORE.SOURCE.
16393 +%global ntrees ni nclasses;
16394 +%macro selectSubseries;
16396 +  %let arborkluge= "work._BoostDMDB";
16397 +  %if ^%sysfunc(cexist(work._BoostDMDB)) %then %do;
16398 +      filename temp catalog 'sashelp.emmodl.boost_trainmacros.source';
16399 +      %include temp;
16400 +      filename temp;
16402 +     %let target_var = %EM_TARGET;
16403 +     %em_boost_makeDMDB(indata=&EM_IMPORT_DATA, target=&target_Var, nLevel=_nTargetLevel);
16404 +  %end;
16406 +    %EM_GETNAME(key=MODEL, type=DATA);
16407 +    %EM_GETNAME(key=IMPORTANCE, type=DATA);
16408 +    proc arbor proc=treeboost data=&EM_IMPORT_DATA inmodel=&EM_USER_MODEL;
16410 +    %if &EM_PROPERTY_SUBSERIES ne %then %do;
16411 +      subseries
16412 +      %if &EM_PROPERTY_SUBSERIES eq ITERATIONS %then %do;
16413 +         &EM_PROPERTY_SUBSERIES = &EM_PROPERTY_ITERATIONNUM
16414 +      %end;
16415 +      %else %do;
16416 +         &EM_PROPERTY_SUBSERIES
16417 +      %end;
16418 +    %end;
16419 +    ;
16421 +    makemacro nimportant=ni nclasses=nclasses
16422 +    %if &EM_PROPERTY_SUBSERIES eq BEST %then %do;
16423 +       nitsase=nitsase nitsmisc=nitsmisc nitsprofit=nitsprofit
16424 +    %end;
16425 +    ;
16427 +    %if &EM_PROPERTY_ASSESSMEASURE ne %then %do;
16428 +      assess
16429 +      %if &EM_IMPORT_VALIDATE ne %then %do;
16430 +        Validata=&EM_IMPORT_VALIDATE
16431 +      %end;
16432 +      %else %do;
16433 +        NoValidata
16434 +      %end;
16436 +      %if &EM_PROPERTY_ASSESSMEASURE eq PROFIT %then %do;
16437 +         %if %sysfunc(exist(&EM_DEC_DECMETA, DATA)) eq 0 %then %do;
16438 +           %if %upcase(&Target_Level) eq INTERVAL %then %do;
16439 +             %let EM_PROPERTY_MEASURE = ASE;
16440 +           %end;
16441 +           %else %do;
16442 +             %let EM_PROPERTY_MEASURE= MISC;
16443 +           %end;
16444 +           %let note = %sysfunc(sasmsg(sashelp.dmine, profitlossmatrix_note, NOQUOTE));
16445 +           %put &note;
16446 +           %let note = %sysfunc(sasmsg(sashelp.dmine, assessmearerest_note, NOQUOTE));
16447 +           %put &note;
16448 +         %end;
16449 +         %else %do;
16450 +            %let dsid = %sysfunc(open(&EM_DEC_DECMETA(where=(_TYPE_='MATRIX'))));
16451 +            %if &dsid eq %then %do;
16452 +               %if %upcase(&Target_Level) eq INTERVAL %then %do;
16453 +                  %let EM_PROPERTY_MEASURE = ASE;
16454 +               %end;
16455 +               %else %do;
16456 +                  %let EM_PROPERTY_MEASURE = MISC;
16457 +               %end;
16458 +               %let note = %sysfunc(sasmsg(sashelp.dmine, profitlossmatrix_note, NOQUOTE));
16459 +               %put &note;
16460 +               %let note = %sysfunc(sasmsg(sashelp.dmine, assessmeasurereset_note, NOQUOTE));
16461 +               %put &note;
16462 +            %end;
16463 +            %else %do;
16464 +               %let firstobs = %sysfunc(fetchobs(&dsid, 1));
16465 +               %let usenum   = %sysfunc(VARNUM(&dsid, USE));
16466 +               %let use      = %sysfunc(getvarc(&dsid, &usenum));
16468 +               %if &use eq N %then %do;
16469 +                 %if %upcase(&Target_Level) eq INTERVAL %then %do;
16470 +                    %let EM_PROPERTY_MEASURE = ASE;
16471 +                 %end;
16472 +                 %else %do;
16473 +                    %let EM_PROPERTY_MEASURE = MISC;
16474 +                 %end;
16475 +                 %let note = %sysfunc(sasmsg(sashelp.dmine, profitlossmatrix_note, NOQUOTE));
16476 +                 %put &note;
16477 +                 %let note = %sysfunc(sasmsg(sashelp.dmine, assessmeasurereset_note, NOQUOTE));
16478 +                 %put &note;
16480 +               %end;
16481 +               %else %do;
16482 +                 %let EM_PROPERTY_MEASURE = PROFIT;
16483 +               %end;
16484 +            %end;
16485 +            %if &dsid ne %then %let dsid = %sysfunc(close(&dsid));
16486 +         %end;
16487 +      %end;
16488 +      %else %if &EM_PROPERTY_ASSESSMEASURE eq MISC %then %do;
16489 +         %if %upcase(&Target_Level) eq INTERVAL %then %do;
16490 +           %let EM_PROPERTY_MEASURE = ASE;
16491 +         %end;
16492 +         %else %do;
16493 +           %let EM_PROPERTY_MEASURE = MISC;
16494 +         %end;
16495 +      %end;
16496 +      %else %if &EM_PROPERTY_ASSESSMEASURE eq ASE %then %do;
16497 +         %let EM_PROPERTY_MEASURE = ASE;
16498 +      %end;
16500 +      measure = &EM_PROPERTY_MEASURE
16502 +      ;
16503 +    %end;
16505 +    %let lookupString = ;
16506 +    %if ^%symexist(EM_OPTION) %then
16507 +        %let EM_OPTION=;
16509 +    %if %sysfunc(index(%upcase(&EM_DEBUG), I18N)) or %sysfunc(index(%upcase(&EM_OPTION), I18N)) %then %do;
16510 +           %let lookupString = LOOKUP=SELECT;
16511 +    %end;
16513 +    code file="&EM_FILE_EMFLOWSCORECODE" res group=&emloopid &lookupString;
16514 +    code file="&EM_FILE_EMPUBLISHSCORECODE" nores group=&emloopid &lookupString;
16516 +    save fit=SUBFIT importance=&EM_USER_IMPORTANCE model=&EM_USER_MODEL;
16518 +    score data=&EM_IMPORT_DATA out=fds(keep= p_:) outfit=work.fit_train role=TRAIN;
16519 +    %if &EM_IMPORT_VALIDATE ne %then %do;
16520 +      score data=&EM_IMPORT_VALIDATE out=_NULL_ outfit=work.fit_valid role=VALID;
16521 +    %end;
16522 +    %if &EM_IMPORT_TEST ne %then %do;
16523 +      score data=&EM_IMPORT_TEST out=_NULL_ outfit=work.fit_test role=TEST;
16524 +    %end;
16526 +    run;
16527 +    quit;
16529 +    %if %sysfunc(cexist(work._BoostDMDB)) %then %do;
16530 +        /* Delete DMDB catalog */
16531 +        proc datasets lib=work nolist;
16532 +           delete _BoostDMDB / mt=cat;
16533 +        run;
16534 +    %end;
16538 +    /* set ntrees macro to selected iteration based on subseries property */
16539 +    %if &EM_PROPERTY_SUBSERIES eq ITERATIONS %then %do;
16540 +      %let ntrees = &EM_PROPERTY_ITERATIONNUM;
16541 +    %end;
16542 +    %else %if &EM_PROPERTY_SUBSERIES eq LONGEST %then %do;
16543 +      %let ntrees = &EM_PROPERTY_ITERATIONS;
16544 +    %end;
16545 +    %else %if &EM_PROPERTY_SUBSERIES eq BEST %then %do;
16546 +       %if &EM_PROPERTY_MEASURE eq ASE %then %let ntrees=&NITSASE;
16547 +       %else %if &EM_PROPERTY_MEASURE eq MISC %then %let ntrees=&NITSMISC;
16548 +       %else %let ntrees=&NITSPROFIT;
16549 +    %end;
16550 +%mend selectSubseries;
16552 +%macro createSubFit;
16554 +  %EM_GETNAME(key=SUBFIT, type=DATA);
16555 +   data &EM_USER_SUBFIT;
16556 +     length datarole $8;
16557 +     set SUBFIT;
16558 +     datarole = "TRAIN";
16559 +     label  _MISC_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_misclassrate_title, noquote))"
16560 +            _MAX_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_maxabserror_vlabel, noquote))"
16561 +            _SSE_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_sumsqerror_vlabel, noquote))"
16562 +            _ASE_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgsquareerror_title, noquote))"
16563 +            _RASE_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_rootavgsqerror_vlabel, noquote))"
16564 +            _APROF_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgprofit_vlabel, noquote))"
16565 +            _PROF_   = "%sysfunc(sasmsg(sashelp.dmine, assmt_profitt_vlabel, noquote))"
16566 +            _PASE_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgsqerrprior_vlabel, noquote))"
16567 +            _PMISC_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_missprior_vlabel, noquote))"
16568 +            _NLEAVES_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_nleaves_vlabel, noquote))"
16569 +            _ITERATION_="%sysfunc(sasmsg(sashelp.dmine, rpt_iter_vlabel , noquote))"
16570 +            _NW_ = "%sysfunc(sasmsg(sashelp.dmine,  rpt_nleaves_vlabel , noquote))"
16571 +            datarole = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel  , noquote))";
16572 +     keep _ITERATION_ _NW_ _MISC_ _MAX_ _SSE_ _ASE_ _RASE_ _NLEAVES_ datarole
16573 +          %if &EM_DEC_DECDATA ne %then %do;
16574 +            _APROF_ _PROF_ _PASE_ _PMISC_
16575 +          %end;
16576 +          ;
16577 +   run;
16579 +   %if &EM_IMPORT_VALIDATE ne %then %do;
16580 +      data tempvalid;
16581 +        length datarole $8;
16582 +        set SUBFIT;
16583 +        rename  _VMISC_ = _MISC_
16584 +                _VMAX_  = _MAX_
16585 +                _VSSE_ = _SSE_
16586 +                _VASE_ = _ASE_
16587 +                _VRASE_ = _RASE_
16588 +                %if &EM_DEC_DECDATA ne %then %do;
16589 +                  _VAPROF_ = _APROF_
16590 +                  _VPROF_  = _PROF_
16591 +                  _VPASE_  = _PASE_
16592 +                  _VPMISC_ = _PMISC_
16593 +                %end;
16594 +                ;
16595 +        datarole = "VALID";
16596 +         label  _VMISC_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_misclassrate_title, noquote))"
16597 +                _VMAX_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_maxabserror_vlabel, noquote))"
16598 +                _VSSE_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_sumsqerror_vlabel, noquote))"
16599 +                _VASE_    = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgsquareerror_title, noquote))"
16600 +                _VRASE_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_rootavgsqerror_vlabel, noquote))"
16601 +                _VAPROF_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgprofit_vlabel, noquote))"
16602 +                _VPROF_   = "%sysfunc(sasmsg(sashelp.dmine, assmt_profitt_vlabel, noquote))"
16603 +                _VPASE_   = "%sysfunc(sasmsg(sashelp.dmine, rpt_avgsqerrprior_vlabel, noquote))"
16604 +                _VPMISC_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_missprior_vlabel, noquote))"
16605 +                _NLEAVES_  = "%sysfunc(sasmsg(sashelp.dmine, rpt_nleaves_vlabel, noquote))"
16606 +                datarole = "%sysfunc(sasmsg(sashelp.dmine, rpt_datarole_vlabel, noquote))";
16607 +        keep _ITERATION_ _NW_ _VMISC_ _VMAX_ _VSSE_ _VASE_ _VRASE_ _NLEAVES_ datarole
16608 +             %if &EM_DEC_DECDATA ne %then %do;
16609 +                _VAPROF_ _VPROF_ _VPASE_ _VPMISC_
16610 +             %end;
16611 +             ;
16612 +      run;
16614 +      data &EM_USER_SUBFIT;
16615 +        set &EM_USER_SUBFIT tempvalid;
16616 +      run;
16618 +      proc datasets library=work nolist;
16619 +        delete tempvalid;
16620 +      run;
16621 +   %end;
16623 +   proc datasets library=work nolist;
16624 +     delete subfit;
16625 +   run;
16627 +%mend createSubFit;
16629 +%macro createFitStatistics;
16631 +  %EM_GETNAME(key=EMOUTFIT, type=DATA);
16632 +   data &EM_USER_EMOUTFIT;
16633 +     length target $32;
16634 +     merge work.fit_train
16635 +     %if &EM_IMPORT_VALIDATE ne %then %do;
16636 +       work.fit_valid
16637 +     %end;
16638 +     %if &EM_IMPORT_TEST ne %then %do;
16639 +       work.fit_test
16640 +     %end;
16641 +     ;
16642 +     target = "%EM_TARGET";
16643 +     drop _NW_;
16644 +   run;
16646 +   %if &EM_IMPORT_VALIDATE ne %then %do;
16647 +     proc datasets library=work nolist;
16648 +       delete fit_valid;
16649 +     run;
16650 +   %end;
16651 +   %if &EM_IMPORT_TEST ne %then %do;
16652 +     proc datasets library=work nolist;
16653 +       delete fit_test;
16654 +     run;
16655 +   %end;
16658 +%mend createFitStatistics;
16660 +%macro generatePartialDependencyTable(iteration= ,ds1=, var=);
16662 +  %EM_GETNAME(key=PARTIALDEPENDENCY, type=DATA);
16664 +  %if &iteration eq 1 %then %do;
16665 +    data &EM_USER_PARTIALDEPENDENCY;
16666 +    run;
16667 +  %end;
16669 +  %let partialvar = partial&iteration;
16670 +  data &EM_USER_PARTIALDEPENDENCY;
16671 +    merge &EM_USER_PARTIALDEPENDENCY &ds1(rename=(P_BAD1=&partialvar) keep=P_BAD1 &var);
16672 +    label &partialvar = "%sysfunc(sasmsg(sashelp.dmine, rpt_partialdep_vlabel, noquote, &var))";
16673 +  run;
16675 +%mend generatePartialDependencyTable;
16677 +%macro merge_imp_h (iactds=, impds= );
16678 +   %if &ni gt 0 %then %do;
16679 +    data _imp;
16680 +       set &impds.;
16681 +       _obs_ = _n_;
16682 +    run;
16683 +    proc sort data=_imp;
16684 +       by name;
16685 +    run;
16686 +    proc sort data= &iactds.;
16687 +       by name;
16688 +    run;
16689 +    data &impds;
16690 +       merge _imp &iactds;
16691 +       by name;
16692 +    run;
16693 +    proc sort data=&impds;
16694 +       by _obs_;
16695 +    run;
16696 +    data &impds;
16697 +       set &impds;
16698 +       drop _obs_;
16699 +    run;
16700 +    quit;
16701 +    %end;
16702 +%mend;
16704 +***************************************************************************
16705 +** MACROS FOR DISCOVERING INTERACTION OF INPUTS IN ARBORETUM MODELS
16706 +**
16707 +** AUTHOR:    saspgn
16708 +** REVISED:    1 MAY 2007
16709 +**
16710 +** REFERENCE: Jerome H. Friedman and Bogdan E. Popescu
16711 +**                  Predictive Models via Rule Ensembles
16712 +**                  28 Feb 2005
16713 +***************************************************************************;
16715 +%macro compute_iact_h(data=, model=, outds=);
16717 +/*** NOTE: this macro was modified to also calculation 1 way partial dependency values as well ****/
16719 +***************************************************************************
16720 +** MACRO:     COMPUTE_IACT_H
16721 +** PURPOSE:   ESTIMATE INTERACTION OF INPUT TO ANY OTHER INPUTS IN MODEL
16722 +** AUTHOR:    saspgn
16723 +** DATE:      30 APR 2007
16724 +**
16725 +** ARGUMENTS: DATA=  data with which to evaluate interaction.
16726 +**                   Typically training data.
16727 +**            MODEL= Model data set from SAVE MODEL= option
16728 +**                   of PROC ARBORETUM  (or SPLIT, FOREST, TREEBOOST)
16729 +**            OUTDS= output data set from this macro.
16730 +**                   Contains two variables:
16731 +**                   NAME   containing name of input variable
16732 +**                   H      containing the H statistic for interaction.
16733 +**
16734 +** DETAILS:   In Predictive Models via Rule Ensembles the authors
16735 +**            define statistic Hj that will be greater than 0 to
16736 +**            the extant that input variable j interacts with some
16737 +**            other variable (section 8.1, equation 45 ).
16738 +**            Macro COMPUTE_IACT_H computes Hj for all variables
16739 +**            used as a primary splitting rule in the model.
16740 +**            The computation of interactions is time consuming.
16741 +**            The user might therefore consult Hj before selecting
16742 +**            which interactions to compute.
16743 +**
16744 +** REFERENCE: Jerome H. Friedman and Bogdan E. Popescu
16745 +**                  Predictive Models via Rule Ensembles
16746 +**                  28 Feb 2005
16747 +**                  http://www.stat-stanford.edu/~jhf
16748 +**************************************************************************;
16750 +    %do v=1 %to &ni;
16751 +        proc arbor proc=treeboost inmodel=&model;
16752 +            makemacro importantid=&v  var=var;
16753 +            partialdep data=&data out=vds(keep= p_: &var) var= (&var);
16754 +            partialdep data=&data out=eds(keep= p_:) exceptvar= (&var);
16755 +        quit;
16757 +        %let predvar=;
16758 +        %let dsid=%sysfunc(open(&EM_DEC_DECMETA(where=(_TYPE_='PREDICTED'))));
16759 +        %let varnum =%sysfunc(varnum(&dsid, VARIABLE));
16760 +        %do %while(^ %sysfunc(fetch(&dsid)));
16761 +           %let variable = %sysfunc(getvarc(&dsid, &varnum));
16762 +           %let predvar = &predvar &variable;
16763 +        %end;
16764 +        %let dsid = %sysfunc(close(&dsid));
16766 +        data fds;  set fds;  keep &predvar; run;
16767 +        data vds;  set vds;  keep &predvar; run;
16768 +        data eds;  set eds;  keep &predvar; run;
16771 +        %compute_iact_sub(ds1=fds, ds2=vds, ds3=eds, nc=&nclasses, outds=h);
16773 +        /* generates table same size as training data -- too large to plot; removing for now
16774 +        %generatePartialDependencyTable(iteration=&v, ds1=vds, var=&var); */
16776 +        data h;
16777 +             set h;
16778 +             length name $ 32;
16779 +             name = "&var";
16780 +        run;
16781 +        data &outds;
16782 +          set
16783 +              %if &v ne 1 %then %do;
16784 +                  &outds
16785 +              %end;
16786 +               h;
16787 +        run;
16789 +    %end;
16790 +%mend;
16792 +%macro compute_iact_sub(ds1=, ds2=, ds3=, nc=, outds=);
16794 +        %if &nc eq 0 %then %do;
16795 +             data ads; set &ds1; array r p_:; keep a; a = r(1); run;
16796 +             data bds; set &ds2; array r p_:; keep b; b = r(1); run;
16797 +             data cds; set &ds3; array r p_:; keep c; c = r(1); run;
16798 +             data mds; merge ads bds cds;         run;
16800 +             proc stdize data= mds method=mean out=sds;
16801 +                  var a b c;
16802 +             run;
16804 +             data &outds;
16805 +                 retain ss 0  sf 0;
16806 +                 set sds end=the_end;
16807 +                 keep H;
16809 +                 s = a - b - c;
16810 +                 ss = ss + s*s;
16811 +                 sf = sf + a * a;
16813 +                 if the_end ne 0 then do;
16814 +                    H = ss/sf;
16815 +                    output;
16816 +                 end;
16817 +             run;
16818 +        %end;
16820 +        %else %do;  * categorical response. nclasses > 0 ;
16821 +            data ads;
16822 +                 set &ds1;
16823 +                 array r{*} p_:;
16824 +                 keep a:;
16825 +                 %do j = 1 %to &nclasses;
16826 +                     a&j = r(&j);
16827 +                 %end;
16828 +              run;
16829 +              data bds;
16830 +                 set &ds2;
16831 +                 array r{*} p_:;
16832 +                 keep b:;
16833 +                 %do j = 1 %to &nclasses;
16834 +                     b&j = r(&j);
16835 +                 %end;
16836 +              run;
16837 +              data cds;
16838 +                 set &ds3;
16839 +                 array r{*} p_:;
16840 +                 keep c:;
16841 +                 %do j = 1 %to &nclasses;
16842 +                     c&j = r(&j);
16843 +                 %end;
16844 +              run;
16846 +              data mds;
16847 +                   merge ads bds cds;
16848 +              run;
16849 +              proc stdize data=mds method=mean out=sds;
16850 +                   var a: b: c:;
16851 +              run;
16853 +             data &outds;
16854 +                 retain ss 0  sf 0;
16855 +                 set sds end=the_end;
16856 +                 array ra a:;
16857 +                 array rb b:;
16858 +                 array rc c:;
16859 +                 keep H;
16861 +                 do j = 1 to dim(ra);
16862 +                    s = ra(j) - rb(j) - rc(j);
16863 +                    ss = ss + s*s;
16864 +                    sf = sf + ra(j) * ra(j);
16865 +                 end;
16867 +                 if the_end ne 0 then do;
16868 +                    H = ss/sf;
16869 +                    output;
16870 +                 end;
16871 +            run;
16872 +        %end;
16873 +%mend;
16875 +%macro score;
16877 +   /* retrieve target information */
16878 +   %let dsid=%sysfunc(open(&EM_DEC_DECMETA(where=(_TYPE_='TARGET'))));
16880 +   %let vn_event =%sysfunc(varnum(&dsid, EVENT));
16881 +   %let vn_target_type = %sysfunc(varnum(&dsid, TYPE));
16882 +   %let vn_target_format = %sysfunc(varnum(&dsid, FORMAT));
16883 +   %let vn_target_level  = %sysfunc(varnum(&dsid, LEVEL));
16884 +   %do %while(^ %sysfunc(fetch(&dsid)));
16885 +      %let temp = %nrbquote(%sysfunc(getvarc(&dsid, &vn_event)));
16886 +      %let Target_Event = %nrbquote(%sysfunc(tranwrd(&temp, %str(%"),"")));
16887 +      %let Target_Type =  %sysfunc(getvarc(&dsid, &vn_target_type));
16888 +      %let Target_Format = %sysfunc(getvarc(&dsid, &vn_target_format));
16889 +      %let Target_Level = %sysfunc(getvarc(&dsid, &vn_target_level));
16890 +   %end;
16891 +   %let dsid = %sysfunc(close(&dsid));
16893 +   /* if subSeries=ITERATIONS and iterationNum not specified, exception should be thrown */
16894 +   %if ((&EM_PROPERTY_SUBSERIES eq ITERATIONS) and (&EM_PROPERTY_ITERATIONNUM eq . )) %then %do;
16895 +        %let EMEXCEPTIONSTRING = exception.server.EMTOOL.BOOST.NOITERATIONNUM;
16896 +        %put &em_codebar;
16897 +        %let errormsg = %sysfunc(sasmsg(sashelp.dmine, error_noiterationnum_note, NOQUOTE));
16898 +        %put &errormsg;
16899 +        %put &em_codebar;
16900 +        %goto doendm;
16901 +   %end;
16903 +   /* score based on selected subseries */
16904 +   %selectSubseries;
16906 +   /* detect variables that have interaction with other input variables in model;    */
16907 +   /* also used to calculate 1 way partial dependency statistics                     */
16908 +   %if %symexist(EM_PROPERTY_CREATEHSTAT) %then %do;
16909 +     %if &EM_PROPERTY_CREATEHSTAT eq Y %then %do;
16910 +       %compute_iact_h(data=&EM_IMPORT_DATA, model=&EM_USER_MODEL, outds=iact);
16911 +     %end;
16912 +   %end;
16914 +   /* determine whether priors were used during modelling */
16915 +   %let usePriors = N;
16916 +   data _null_;
16917 +     set &EM_DEC_DECMETA(where=(_TYPE_='DECPRIOR'));
16918 +     call symput('usePriors', strip(USE));
16919 +   run;
16921 +   /* update scorecode with code to calculated unadjusted residual variables if priors were detected */
16922 +   %if &usePriors eq Y %then %do;
16923 +      filename temp catalog 'sashelp.emutil.em_makeunadjustedresidualvars.source';
16924 +      %include temp;
16925 +      filename temp;
16927 +      %EM_GETNAME(key=ADJUSTEDRESIDUALS, type=FILE, extension=sas);
16928 +      filename adjref "&EM_USER_ADJUSTEDRESIDUALS";
16929 +      %makeUnadjustedResidualVars(target=%EM_TARGET, decmeta=&EM_DEC_DECMETA, fref=adjref);
16931 +      /* append adjusted residual code to already populated flowscorecode */
16932 +      filename temp catalog 'sashelp.emutil.em_copyfile.source';
16933 +      %include temp;
16934 +      filename temp;
16936 +      filename fref "&EM_FILE_EMFLOWSCORECODE";
16937 +      %em_copyfile(infref=adjref, outfref=fref, append=Y);
16938 +      filename adjref;
16939 +      filenmae fref;
16941 +   %end;
16943 +   /* set all Q variables created by proc arbor to have a role of ASSESS */
16944 +   %let numLevels = 0;
16945 +   data _null_;
16946 +     set &EM_DEC_DECMETA end=eof;
16947 +     where _TYPE_ ='RESIDUAL';
16948 +     call symput('res_vars'!!strip(put(_N_,BEST.)),   strip(Variable));
16949 +     if eof then
16950 +       call symput('numLevels', strip(put(_N_,BEST.)));
16951 +   run;
16953 +   %do i=1 %to &numLevels;
16954 +     %let qvar = &&res_vars&i;
16955 +     %let qvar = %substr(&qvar,2);
16956 +     %let qvar = Q&qvar;
16957 +     %em_metachange(name=&qvar, role=ASSESS);
16958 +   %end;
16960 +   /* merge H Statistic into the outimportance dataset */
16961 +   %EM_GETNAME(key=IMPORTANCE, type=DATA);
16962 +   %if %symexist(EM_PROPERTY_CREATEHSTAT) %then %do;
16963 +     %if &EM_PROPERTY_CREATEHSTAT eq Y %then %do;
16964 +       %merge_imp_h(iactds=iact, impds=&EM_USER_IMPORTANCE);
16965 +     %end;
16966 +   %end;
16968 +   /* add labels to importance table */
16969 +   data &EM_USER_IMPORTANCE;
16970 +     set &EM_USER_IMPORTANCE;
16971 +     label  NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel, noquote))"
16972 +            LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, noquote))"
16973 +            NRULES = "%sysfunc(sasmsg(sashelp.dmine, rpt_nrules_vlabel, noquote))"
16974 +            IMPORTANCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_importance_vlabel, noquote))"
16975 +            %if %symexist(EM_PROPERTY_CREATEHSTAT) %then %do;
16976 +              %if &EM_PROPERTY_CREATEHSTAT eq Y %then %do;
16977 +                H = "%sysfunc(sasmsg(sashelp.dmine, rpt_h_vlabel, noquote))"
16978 +              %end;
16979 +            %end;
16980 +            %if &EM_IMPORT_VALIDATE ne %then %do;
16981 +              VIMPORTANCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_vimportance_vlabel, noquote))"
16982 +              RATIO = "%sysfunc(sasmsg(sashelp.dmine, rpt_ratio_vlabel, noquote))"
16983 +            %end;
16984 +            %let nsurrs = ;
16985 +            %if &EM_PROPERTY_NSURRS ne %then %do;
16986 +              %let numInputs = %sysevalf(&EM_NUM_BINARY_INPUT + &EM_NUM_ORDINAL_INPUT + &EM_NUM_INTERVAL_INPUT + &EM_NUM_NOMINAL_INPUT);
16987 +              %let nsurrs = %sysevalf(%sysfunc(min(&EM_PROPERTY_NSURRS, (&numInputs -1 ))));
16988 +              %if &nsurrs gt 0 %then %do;
16989 +                 NSURROGATES =  "%sysfunc(sasmsg(sashelp.dmine, rpt_nsurrogates_vlabel, noquote))";
16990 +              %end;
16991 +            %end;
16992 +            ;
16993 +   run;
16995 +   /* print outimportance dataset to output window */
16996 +   %let title10 = %sysfunc(sasmsg(sashelp.dmine, rpt_variableImportance_title, NOQUOTE));
16997 +   %if &EM_PROPERTY_NSURRS gt 0 %then %do;
16998 +     title10 "&title10";
17000 +     %if &ni gt 0 %then %do;
17001 +       proc print data=&EM_USER_IMPORTANCE (where=((nrules>0) OR (nsurrogates > 0)
17002 +       %if %symexist(EM_PROPERTY_CREATEHSTAT) %then %do;
17003 +         %if &EM_PROPERTY_CREATEHSTAT eq Y %then %do;
17004 +         OR (H ne .)
17005 +         %end;
17006 +       %end;
17007 +       ));
17008 +     %end;
17009 +     %else %do;
17010 +       proc print data=&EM_USER_IMPORTANCE (where=((nrules>0) OR (nsurrogates > 0)));
17011 +     %end;
17012 +     run;
17013 +     title10;
17014 +   %end;
17015 +   %else %do;
17016 +     title10 "&title10";
17017 +     %if &ni gt 0 %then %do;
17018 +       proc print data=&EM_USER_IMPORTANCE (where=((nrules>0)
17019 +      %if %symexist(EM_PROPERTY_CREATEHSTAT) %then %do;
17020 +         %if &EM_PROPERTY_CREATEHSTAT eq Y %then %do;
17021 +           OR (H ne .)
17022 +         %end;
17023 +      %end;
17024 +      ));
17025 +     %end;
17026 +     %else %do;
17027 +       proc print data=&EM_USER_IMPORTANCE (where=((nrules>0)));
17028 +     %end;
17029 +     run;
17030 +     title10;
17031 +   %end;
17033 +   /* generate EM_USER_SUBFIT dataset to plot train and validation data across iterations*/
17034 +   %createSubFit;
17036 +   /* generate fit statistics for train, valid and test datasets */
17037 +   %createFitStatistics;
17039 +   /* refresh exports */
17040 +    /* variable selection based on importance values */
17041 +    %if &EM_PROPERTY_VARSELECTION eq Y %then %do;
17042 +      %let dsid = %sysfunc(open(&EM_USER_IMPORTANCE));
17043 +      %if &dsid %then %do;
17044 +        %let obs= %sysfunc(fetch(&dsid));
17045 +        %let imp_num = %sysfunc(VARNUM(&dsid, IMPORTANCE));
17046 +        %let var_num = %sysfunc(VARNUM(&dsid, NAME));
17047 +        %let nobs = %sysfunc(ATTRN(&dsid, NOBS));
17049 +        %if ((&imp_num ne 0 ) AND (&var_num ne 0)) %then %do;
17050 +          %do %while(&obs=0);
17051 +             %let nobs = %eval(&nobs-1);
17052 +             %let imp_value = %sysfunc(getvarn(&dsid, &imp_num));
17053 +             %let varname = %upcase(%sysfunc(getvarc(&dsid, &var_num)));
17055 +             %if &imp_value lt 0.05 %then %do;
17056 +               %em_metachange(name=&varname, role=REJECTED);
17057 +             %end;
17058 +             %else %do;
17059 +               %em_metachange(name=&varname, role=INPUT);
17060 +             %end;
17061 +             %let obs= %sysfunc(fetch(&dsid));
17062 +          %end;
17063 +        %end;
17064 +      %end;
17065 +      %if &dsid %then %let dsid= %sysfunc(close(&dsid));
17066 +    %end;
17068 +   /* build reports dependent on subseries selection */
17069 +   %EM_REPORT(key=SUBFIT, viewtype=LINEPLOT, block=MODEL, view=1, X=_ITERATION_, Y=_ASE_, group=dataRole, autodisplay=Y, xref=&ntrees, DESCRIPTION=SUBFIT);
17070 +   %EM_REPORT(VIEW=1, Y=_NW_, xref=&ntrees);
17071 +   %EM_REPORT(VIEW=1, Y=_MISC_, xref=&ntrees);
17072 +   %EM_REPORT(VIEW=1, Y=_MAX_, xref=&ntrees);
17073 +   %EM_REPORT(VIEW=1, Y=_SSE_, xref=&ntrees);
17074 +   %EM_REPORT(VIEW=1, Y=_RASE_, xref=&ntrees);
17075 +   %EM_REPORT(VIEW=1, Y=_APROF_, xref=&ntrees);
17076 +   %EM_REPORT(VIEW=1, Y=_PROF_, xref=&ntrees);
17077 +   %EM_REPORT(VIEW=1, Y=_PASE_, xref=&ntrees);
17078 +   %EM_REPORT(VIEW=1, Y=_PMISC_, xref=&ntrees);
17080 +   /* build importance table including H statistics for display */
17081 +   %EM_REPORT(key=IMPORTANCE, viewtype=DATA, block=MODEL, DESCRIPTION=IMPORTANCE, AUTODISPLAY=Y);
17083 +   %doendm:
17084 +%mend score;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: 3323029 kilobytes of physical memory.
NOTE: Will use 816 out of 816 training cases.
NOTE: Using memory pool with 72159232 bytes.
NOTE: Passed training data 945 times.
NOTE: Current TREEBOOST model contains 189 trees.
NOTE: Training used 167376 bytes of work memory.
NOTE: Current TREEBOOST model contains 189 trees.
NOTE: Created macro variable NCLASSES equal to 2.
NOTE: Created macro variable NI equal to 11.
NOTE: Created macro variable NITSASE equal to 189.
NOTE: Created macro variable NITSMISC equal to 189.
NOTE: Created macro variable NITSPROFIT equal to 0.
NOTE: Current TREEBOOST model contains 189 trees.
NOTE: External file /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/EMFLOWSCORE.sas opened.
NOTE: External file /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/EMPUBLISHSCORE.sas opened.
NOTE: The data set WORK.SUBFIT has 189 observations and 11 variables.
NOTE: The data set EMWS1.BOOST_IMPORTANCE has 11 observations and 4 variables.
NOTE: The data set EMWS1.BOOST_MODEL has 26761 observations and 4 variables.
NOTE: The data set WORK.FIT_TRAIN has 1 observations and 10 variables.
NOTE: The data set WORK.FDS has 816 observations and 2 variables.
NOTE: The data set WORK.FIT_TEST has 1 observations and 8 variables.
 
 
NOTE: There were 816 observations read from the data set EMWS1.PART_TRAIN.
NOTE: The data set WORK._NAMEDAT has 2 observations and 5 variables.
NOTE: PROCEDURE ARBOR used (Total process time):
      real time           0.68 seconds
      user cpu time       0.65 seconds
      system cpu time     0.01 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     1593
      Page Swaps                        0
      Voluntary Context Switches        131
      Involuntary Context Switches      1
      Block Input Operations            2336
      Block Output Operations           5704
 
 
 
NOTE: Deleting WORK._BOOSTDMDB (memtype=CATALOG).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     54
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: There were 1 observations read from the data set EMWS1.BOOST_CHURN_DM.
      WHERE _TYPE_='DECPRIOR';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     60
      Page Swaps                        0
      Voluntary Context Switches        2
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.BOOST_CHURN_DM.
      WHERE _TYPE_='RESIDUAL';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     62
      Page Swaps                        0
      Voluntary Context Switches        3
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           0
 
 
 
NOTE: The data set WORK.EM_METACHANGE has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     91
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 1 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     132
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 11 observations read from the data set EMWS1.BOOST_IMPORTANCE.
NOTE: The data set EMWS1.BOOST_IMPORTANCE has 11 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.00 seconds
      system cpu time     0.01 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     632
      Page Swaps                        0
      Voluntary Context Switches        37
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           264
 
 
 
NOTE: There were 11 observations read from the data set EMWS1.BOOST_IMPORTANCE.
      WHERE nrules>0;
NOTE: The PROCEDURE PRINT printed page 4.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     57
      Page Swaps                        0
      Voluntary Context Switches        10
      Involuntary Context Switches      0
      Block Input Operations            288
      Block Output Operations           0
 
 
 
NOTE: Variable _APROF_ is uninitialized.
NOTE: Variable _PROF_ is uninitialized.
NOTE: Variable _PASE_ is uninitialized.
NOTE: Variable _PMISC_ is uninitialized.
NOTE: Variable _NLEAVES_ is uninitialized.
WARNING: The variable _NLEAVES_ in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _APROF_ in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _PROF_ in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _PASE_ in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _PMISC_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 189 observations read from the data set WORK.SUBFIT.
NOTE: The data set EMWS1.BOOST_SUBFIT has 189 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     1605
      Page Swaps                        0
      Voluntary Context Switches        23
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: Deleting WORK.SUBFIT (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     51
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: There were 1 observations read from the data set WORK.FIT_TRAIN.
NOTE: There were 1 observations read from the data set WORK.FIT_TEST.
NOTE: The data set EMWS1.BOOST_EMOUTFIT has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     168
      Page Swaps                        0
      Voluntary Context Switches        22
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: Deleting WORK.FIT_TEST (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     82
      Page Swaps                        0
      Voluntary Context Switches        3
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
 
NOTE: There were 2 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.01 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     128
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 3 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.01 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 4 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 5 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 5 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 6 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 6 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 7 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 7 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 8 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 9 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 9 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 10 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 10 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 11 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 12 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 12 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 13 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     130
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: The data set WORK.EM_USER_REPORT has 133 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     211
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 133 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 266 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     235
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
 
NOTE: There were 266 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 399 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     196
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           520
 
 
 
NOTE: There were 399 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 532 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      user cpu time       0.03 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     196
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           528
 
 
 
NOTE: There were 532 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 665 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.03 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     196
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           776
 
 
 
NOTE: There were 665 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 798 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     228
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           776
 
 
 
NOTE: There were 798 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 931 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     228
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      1
      Block Input Operations            0
      Block Output Operations           1032
 
 
 
NOTE: There were 931 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 1064 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     260
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           1032
 
 
 
NOTE: There were 1064 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 1197 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     260
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      1
      Block Input Operations            0
      Block Output Operations           1288
 
 
 
NOTE: There were 1197 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 1330 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.02 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     292
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           1288
 
 
 
NOTE: There were 1330 observations read from the data set WORK.EM_USER_REPORT.
NOTE: The data set WORK.EM_USER_REPORT has 1462 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      user cpu time       0.03 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     292
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           1544
 
 
17085  *------------------------------------------------------------*;
17086  * End SCORE: Boost;
17087  *------------------------------------------------------------*;
17088
 
17089  proc sort data=WORK.EM_METACHANGE;
17090  by key uname;
17091  run;
 
NOTE: There were 13 observations read from the data set WORK.EM_METACHANGE.
NOTE: The data set WORK.EM_METACHANGE has 13 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     119
      Page Swaps                        0
      Voluntary Context Switches        0
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           264
 
 
17092  filename x "/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/CDELTA_TRAIN.sas";
17093  data _null_;
17094  file x;
17095  put 'if upcase(NAME) = "AVERAGE_RATING" then do;';
17096  put 'ROLE = "INPUT";';
17097  put 'end;';
17098  put 'else ';
17099  put 'if upcase(NAME) = "CITY" then do;';
17100  put 'ROLE = "INPUT";';
17101  put 'end;';
17102  put 'else ';
17103  put 'if upcase(NAME) = "DAYS_SINCE_LAST_PURCHASE" then do;';
17104  put 'ROLE = "INPUT";';
17105  put 'end;';
17106  put 'else ';
17107  put 'if upcase(NAME) = "DISCOUNT_APPLIED_BINARY" then do;';
17108  put 'ROLE = "INPUT";';
17109  put 'end;';
17110  put 'else ';
17111  put 'if upcase(NAME) = "FAVORITECATEGORY" then do;';
17112  put 'ROLE = "INPUT";';
17113  put 'end;';
17114  put 'else ';
17115  put 'if upcase(NAME) = "GENDER_BINARY" then do;';
17116  put 'ROLE = "INPUT";';
17117  put 'end;';
17118  put 'else ';
17119  put 'if upcase(NAME) = "IMP_SATISFACTION_LEVEL" then do;';
17120  put 'ROLE = "INPUT";';
17121  put 'end;';
17122  put 'else ';
17123  put 'if upcase(NAME) = "LOG_IMP_AGE" then do;';
17124  put 'ROLE = "INPUT";';
17125  put 'end;';
17126  put 'else ';
17127  put 'if upcase(NAME) = "LOG_ITEMS_PURCHASED" then do;';
17128  put 'ROLE = "INPUT";';
17129  put 'end;';
17130  put 'else ';
17131  put 'if upcase(NAME) = "MEMBERSHIP_TYPE" then do;';
17132  put 'ROLE = "INPUT";';
17133  put 'end;';
17134  put 'else ';
17135  put 'if upcase(NAME) = "Q_CHURN0" then do;';
17136  put 'ROLE = "ASSESS";';
17137  put 'end;';
17138  put 'else ';
17139  put 'if upcase(NAME) = "Q_CHURN1" then do;';
17140  put 'ROLE = "ASSESS";';
17141  put 'end;';
17142  put 'else ';
17143  put 'if upcase(NAME) = "TOTAL_SPEND" then do;';
17144  put 'ROLE = "INPUT";';
17145  put 'end;';
17146  run;
 
NOTE: The file X is:
      Filename=/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/CDELTA_TRAIN.sas,
      Owner Name=u63437975,Group Name=oda,
      Access Permission=-rw-r--r--,
      Last Modified=07 January 2024 10:06:09
 
NOTE: 51 records were written to the file X.
      The minimum record length was 4.
      The maximum record length was 53.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      user cpu time       0.00 seconds
      system cpu time     0.00 seconds
      memory              102166.78k
      OS Memory           113336.00k
      Timestamp           07/01/2024 10:06:09 AM
      Step Count                        1  Switch Count  0
      Page Faults                       0
      Page Reclaims                     55
      Page Swaps                        0
      Voluntary Context Switches        5
      Involuntary Context Switches      0
      Block Input Operations            0
      Block Output Operations           8
 
 
17147  filename x;
NOTE: Fileref X has been deassigned.
 
17148  filename emflow "/home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/EMFLOWSCORE.sas";
17149  *------------------------------------------------------------*;
17150  * Boost: Scoring DATA data;
17151  *------------------------------------------------------------*;
17152  data EMWS1.Boost_TRAIN
17153  / view=EMWS1.Boost_TRAIN
17154  ;
17155  set EMWS1.Part_TRAIN
17156  ;
17157  %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/EMFLOWSCORE.sas.
17158 +****************************************************************;
17159 +******             DECISION TREE SCORING CODE             ******;
17160 +****************************************************************;
17161 +
17162 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17163 +LENGTH F_Churn  $   12;
17164 +LENGTH I_Churn  $   12;
17165 +LENGTH _WARN_  $    4;
17166 +
17167 +******              LABELS FOR NEW VARIABLES              ******;
17168 +label P_Churn1 = 'Predicted: Churn=1' ;
17169 +      P_Churn1  = 0;
17170 +label P_Churn0 = 'Predicted: Churn=0' ;
17171 +      P_Churn0  = 0;
17172 +label Q_Churn1 = 'Unadjusted P: Churn=1' ;
17173 +      Q_Churn1  = 0;
17174 +label Q_Churn0 = 'Unadjusted P: Churn=0' ;
17175 +      Q_Churn0  = 0;
17176 +label R_Churn1 = 'Residual: Churn=1' ;
17177 +label R_Churn0 = 'Residual: Churn=0' ;
17178 +label F_Churn = 'From: Churn' ;
17179 +label I_Churn = 'Into: Churn' ;
17180 +label U_Churn = 'Unnormalized Into: Churn' ;
17181 +label _WARN_ = 'Warnings' ;
17182 +
17183 +
17184 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17185 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17186 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17187 +LENGTH _ARBFMT_13 $     13; DROP _ARBFMT_13;
17188 +_ARBFMT_13 = ' '; /* Initialize to avoid warning. */
17189 +LENGTH _ARBFMT_11 $     11; DROP _ARBFMT_11;
17190 +_ARBFMT_11 = ' '; /* Initialize to avoid warning. */
17191 +LENGTH _ARBFMT_6 $      6; DROP _ARBFMT_6;
17192 +_ARBFMT_6 = ' '; /* Initialize to avoid warning. */
17193 +
17194 +
17195 +_ARBFMT_12 = PUT( Churn , BEST12.);
17196 + %DMNORMCP( _ARBFMT_12, F_Churn );
17197 +
17198 + DROP _ARB_F_;
17199 + DROP _ARB_BADF_;
17200 +     _ARB_F_ = 0.0564323779;
17201 +     _ARB_BADF_ = 0;
17202 +******             ASSIGN OBSERVATION TO NODE             ******;
17203 + DROP _ARB_P_;
17204 + _ARB_P_ = 0;
17205 + DROP _ARB_PPATH_; _ARB_PPATH_ = 1;
17206 +
17207 +********** LEAF     1  NODE  1263 ***************;
17208 +IF _ARB_BADF_ EQ 0 THEN DO;
17209 +
17210 +   DROP _BRANCH_;
17211 +  _BRANCH_ = -1;
17212 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17213 +   %DMNORMIP( _ARBFMT_11);
17214 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
17215 +     _BRANCH_ =    1;
17216 +    END;
17217 +
17218 +  IF _BRANCH_ GT 0 THEN DO;
17219 +
17220 +    _BRANCH_ = -1;
17221 +    _ARBFMT_13 = PUT( City , $13.);
17222 +     %DMNORMIP( _ARBFMT_13);
17223 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ) THEN DO;
17224 +       _BRANCH_ =    1;
17225 +      END;
17226 +    IF _BRANCH_ LT 0 THEN DO;
17227 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
17228 +      ELSE IF _ARBFMT_13 NOTIN (
17229 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
17230 +        'CHICAGO'
17231 +         ) THEN _BRANCH_ = 1;
17232 +    END;
17233 +    IF _BRANCH_ GT 0 THEN DO;
17234 +       _ARB_F_ + -0.045174754;
17235 +      END;
17236 +    END;
17237 +  END;
17238 +
17239 +********** LEAF     2  NODE  1264 ***************;
17240 +IF _ARB_BADF_ EQ 0 THEN DO;
17241 +
17242 +  _BRANCH_ = -1;
17243 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17244 +   %DMNORMIP( _ARBFMT_11);
17245 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
17246 +     _BRANCH_ =    1;
17247 +    END;
17248 +
17249 +  IF _BRANCH_ GT 0 THEN DO;
17250 +
17251 +    _BRANCH_ = -1;
17252 +    _ARBFMT_13 = PUT( City , $13.);
17253 +     %DMNORMIP( _ARBFMT_13);
17254 +      IF _ARBFMT_13 IN ('LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ) THEN DO;
17255 +       _BRANCH_ =    2;
17256 +      END;
17257 +
17258 +    IF _BRANCH_ GT 0 THEN DO;
17259 +       _ARB_F_ + 0.0096476413;
17260 +      END;
17261 +    END;
17262 +  END;
17263 +
17264 +********** LEAF     3  NODE  1265 ***************;
17265 +IF _ARB_BADF_ EQ 0 THEN DO;
17266 +
17267 +  _BRANCH_ = -1;
17268 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17269 +   %DMNORMIP( _ARBFMT_11);
17270 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
17271 +     _BRANCH_ =    2;
17272 +    END;
17273 +  IF _BRANCH_ LT 0 THEN DO;
17274 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
17275 +    ELSE IF _ARBFMT_11 NOTIN (
17276 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17277 +       ) THEN _BRANCH_ = 2;
17278 +  END;
17279 +  IF _BRANCH_ GT 0 THEN DO;
17280 +
17281 +    _BRANCH_ = -1;
17282 +      IF  NOT MISSING(Total_Spend ) AND
17283 +      Total_Spend  <                 1447 THEN DO;
17284 +       _BRANCH_ =    1;
17285 +      END;
17286 +    IF _BRANCH_ LT 0 THEN DO;
17287 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
17288 +    END;
17289 +    IF _BRANCH_ GT 0 THEN DO;
17290 +       _ARB_F_ + 0.0101219141;
17291 +      END;
17292 +    END;
17293 +  END;
17294 +
17295 +********** LEAF     4  NODE  1266 ***************;
17296 +IF _ARB_BADF_ EQ 0 THEN DO;
17297 +
17298 +  _BRANCH_ = -1;
17299 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17300 +   %DMNORMIP( _ARBFMT_11);
17301 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
17302 +     _BRANCH_ =    2;
17303 +    END;
17304 +  IF _BRANCH_ LT 0 THEN DO;
17305 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
17306 +    ELSE IF _ARBFMT_11 NOTIN (
17307 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17308 +       ) THEN _BRANCH_ = 2;
17309 +  END;
17310 +  IF _BRANCH_ GT 0 THEN DO;
17311 +
17312 +    _BRANCH_ = -1;
17313 +      IF  NOT MISSING(Total_Spend ) AND
17314 +                      1447 <= Total_Spend  THEN DO;
17315 +       _BRANCH_ =    2;
17316 +      END;
17317 +
17318 +    IF _BRANCH_ GT 0 THEN DO;
17319 +       _ARB_F_ + -0.034317741;
17320 +      END;
17321 +    END;
17322 +  END;
17323 +
17324 +********** LEAF     5  NODE  1270 ***************;
17325 +IF _ARB_BADF_ EQ 0 THEN DO;
17326 +
17327 +  _BRANCH_ = -1;
17328 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17329 +   %DMNORMIP( _ARBFMT_11);
17330 +    IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ,'BOOKS' ) THEN DO;
17331 +     _BRANCH_ =    1;
17332 +    END;
17333 +  IF _BRANCH_ LT 0 THEN DO;
17334 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
17335 +    ELSE IF _ARBFMT_11 NOTIN (
17336 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17337 +       ) THEN _BRANCH_ = 1;
17338 +  END;
17339 +  IF _BRANCH_ GT 0 THEN DO;
17340 +
17341 +    _BRANCH_ = -1;
17342 +      IF  NOT MISSING(LOG_IMP_Age ) AND
17343 +      LOG_IMP_Age  <     3.51143404304132 THEN DO;
17344 +       _BRANCH_ =    1;
17345 +      END;
17346 +
17347 +    IF _BRANCH_ GT 0 THEN DO;
17348 +       _ARB_F_ + 0.009650595;
17349 +      END;
17350 +    END;
17351 +  END;
17352 +
17353 +********** LEAF     6  NODE  1271 ***************;
17354 +IF _ARB_BADF_ EQ 0 THEN DO;
17355 +
17356 +  _BRANCH_ = -1;
17357 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17358 +   %DMNORMIP( _ARBFMT_11);
17359 +    IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ,'BOOKS' ) THEN DO;
17360 +     _BRANCH_ =    1;
17361 +    END;
17362 +  IF _BRANCH_ LT 0 THEN DO;
17363 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
17364 +    ELSE IF _ARBFMT_11 NOTIN (
17365 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17366 +       ) THEN _BRANCH_ = 1;
17367 +  END;
17368 +  IF _BRANCH_ GT 0 THEN DO;
17369 +
17370 +    _BRANCH_ = -1;
17371 +      IF  NOT MISSING(LOG_IMP_Age ) AND
17372 +          3.51143404304132 <= LOG_IMP_Age  THEN DO;
17373 +       _BRANCH_ =    2;
17374 +      END;
17375 +    IF _BRANCH_ LT 0 THEN DO;
17376 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
17377 +    END;
17378 +    IF _BRANCH_ GT 0 THEN DO;
17379 +       _ARB_F_ + -0.017862486;
17380 +      END;
17381 +    END;
17382 +  END;
17383 +
17384 +********** LEAF     7  NODE  1272 ***************;
17385 +IF _ARB_BADF_ EQ 0 THEN DO;
17386 +
17387 +  _BRANCH_ = -1;
17388 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17389 +   %DMNORMIP( _ARBFMT_11);
17390 +    IF _ARBFMT_11 IN ('HOME GOODS' ) THEN DO;
17391 +     _BRANCH_ =    2;
17392 +    END;
17393 +
17394 +  IF _BRANCH_ GT 0 THEN DO;
17395 +
17396 +    _BRANCH_ = -1;
17397 +      IF  NOT MISSING(Average_Rating ) AND
17398 +      Average_Rating  <                 3.95 THEN DO;
17399 +       _BRANCH_ =    1;
17400 +      END;
17401 +
17402 +    IF _BRANCH_ GT 0 THEN DO;
17403 +       _ARB_F_ + -0.004955144;
17404 +      END;
17405 +    END;
17406 +  END;
17407 +
17408 +********** LEAF     8  NODE  1273 ***************;
17409 +IF _ARB_BADF_ EQ 0 THEN DO;
17410 +
17411 +  _BRANCH_ = -1;
17412 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17413 +   %DMNORMIP( _ARBFMT_11);
17414 +    IF _ARBFMT_11 IN ('HOME GOODS' ) THEN DO;
17415 +     _BRANCH_ =    2;
17416 +    END;
17417 +
17418 +  IF _BRANCH_ GT 0 THEN DO;
17419 +
17420 +    _BRANCH_ = -1;
17421 +      IF  NOT MISSING(Average_Rating ) AND
17422 +                      3.95 <= Average_Rating  THEN DO;
17423 +       _BRANCH_ =    2;
17424 +      END;
17425 +    IF _BRANCH_ LT 0 THEN DO;
17426 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
17427 +    END;
17428 +    IF _BRANCH_ GT 0 THEN DO;
17429 +       _ARB_F_ + 0.0426628347;
17430 +      END;
17431 +    END;
17432 +  END;
17433 +
17434 +********** LEAF     9  NODE  1277 ***************;
17435 +IF _ARB_BADF_ EQ 0 THEN DO;
17436 +
17437 +  _BRANCH_ = -1;
17438 +    IF  NOT MISSING(Total_Spend ) AND
17439 +    Total_Spend  <                690.8 THEN DO;
17440 +     _BRANCH_ =    1;
17441 +    END;
17442 +
17443 +  IF _BRANCH_ GT 0 THEN DO;
17444 +
17445 +    _BRANCH_ = -1;
17446 +      IF  NOT MISSING(Total_Spend ) AND
17447 +      Total_Spend  <               669.65 THEN DO;
17448 +       _BRANCH_ =    1;
17449 +      END;
17450 +    IF _BRANCH_ LT 0 THEN DO;
17451 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
17452 +    END;
17453 +    IF _BRANCH_ GT 0 THEN DO;
17454 +       _ARB_F_ + 0.0060697138;
17455 +      END;
17456 +    END;
17457 +  END;
17458 +
17459 +********** LEAF    10  NODE  1278 ***************;
17460 +IF _ARB_BADF_ EQ 0 THEN DO;
17461 +
17462 +  _BRANCH_ = -1;
17463 +    IF  NOT MISSING(Total_Spend ) AND
17464 +    Total_Spend  <                690.8 THEN DO;
17465 +     _BRANCH_ =    1;
17466 +    END;
17467 +
17468 +  IF _BRANCH_ GT 0 THEN DO;
17469 +
17470 +    _BRANCH_ = -1;
17471 +      IF  NOT MISSING(Total_Spend ) AND
17472 +                    669.65 <= Total_Spend  THEN DO;
17473 +       _BRANCH_ =    2;
17474 +      END;
17475 +
17476 +    IF _BRANCH_ GT 0 THEN DO;
17477 +       _ARB_F_ + 0.0635185437;
17478 +      END;
17479 +    END;
17480 +  END;
17481 +
17482 +********** LEAF    11  NODE  1279 ***************;
17483 +IF _ARB_BADF_ EQ 0 THEN DO;
17484 +
17485 +  _BRANCH_ = -1;
17486 +    IF  NOT MISSING(Total_Spend ) AND
17487 +                   690.8 <= Total_Spend  THEN DO;
17488 +     _BRANCH_ =    2;
17489 +    END;
17490 +  IF _BRANCH_ LT 0 THEN DO;
17491 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
17492 +  END;
17493 +  IF _BRANCH_ GT 0 THEN DO;
17494 +
17495 +    _BRANCH_ = -1;
17496 +      IF  NOT MISSING(Total_Spend ) AND
17497 +      Total_Spend  <                  769 THEN DO;
17498 +       _BRANCH_ =    1;
17499 +      END;
17500 +
17501 +    IF _BRANCH_ GT 0 THEN DO;
17502 +       _ARB_F_ + -0.066817906;
17503 +      END;
17504 +    END;
17505 +  END;
17506 +
17507 +********** LEAF    12  NODE  1280 ***************;
17508 +IF _ARB_BADF_ EQ 0 THEN DO;
17509 +
17510 +  _BRANCH_ = -1;
17511 +    IF  NOT MISSING(Total_Spend ) AND
17512 +                   690.8 <= Total_Spend  THEN DO;
17513 +     _BRANCH_ =    2;
17514 +    END;
17515 +  IF _BRANCH_ LT 0 THEN DO;
17516 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
17517 +  END;
17518 +  IF _BRANCH_ GT 0 THEN DO;
17519 +
17520 +    _BRANCH_ = -1;
17521 +      IF  NOT MISSING(Total_Spend ) AND
17522 +                       769 <= Total_Spend  THEN DO;
17523 +       _BRANCH_ =    2;
17524 +      END;
17525 +    IF _BRANCH_ LT 0 THEN DO;
17526 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
17527 +    END;
17528 +    IF _BRANCH_ GT 0 THEN DO;
17529 +       _ARB_F_ + -0.000608448;
17530 +      END;
17531 +    END;
17532 +  END;
17533 +
17534 +********** LEAF    13  NODE  1284 ***************;
17535 +IF _ARB_BADF_ EQ 0 THEN DO;
17536 +
17537 +  _BRANCH_ = -1;
17538 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
17539 +   %DMNORMIP( _ARBFMT_12);
17540 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
17541 +     _BRANCH_ =    1;
17542 +    END;
17543 +  IF _BRANCH_ LT 0 THEN DO;
17544 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
17545 +    ELSE IF _ARBFMT_12 NOTIN (
17546 +      '0' ,'1'
17547 +       ) THEN _BRANCH_ = 1;
17548 +  END;
17549 +  IF _BRANCH_ GT 0 THEN DO;
17550 +
17551 +    _BRANCH_ = -1;
17552 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
17553 +      Days_Since_Last_Purchase  <                 16.5 THEN DO;
17554 +       _BRANCH_ =    1;
17555 +      END;
17556 +
17557 +    IF _BRANCH_ GT 0 THEN DO;
17558 +       _ARB_F_ + 0.0509577908;
17559 +      END;
17560 +    END;
17561 +  END;
17562 +
17563 +********** LEAF    14  NODE  1285 ***************;
17564 +IF _ARB_BADF_ EQ 0 THEN DO;
17565 +
17566 +  _BRANCH_ = -1;
17567 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
17568 +   %DMNORMIP( _ARBFMT_12);
17569 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
17570 +     _BRANCH_ =    1;
17571 +    END;
17572 +  IF _BRANCH_ LT 0 THEN DO;
17573 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
17574 +    ELSE IF _ARBFMT_12 NOTIN (
17575 +      '0' ,'1'
17576 +       ) THEN _BRANCH_ = 1;
17577 +  END;
17578 +  IF _BRANCH_ GT 0 THEN DO;
17579 +
17580 +    _BRANCH_ = -1;
17581 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
17582 +                      16.5 <= Days_Since_Last_Purchase  THEN DO;
17583 +       _BRANCH_ =    2;
17584 +      END;
17585 +    IF _BRANCH_ LT 0 THEN DO;
17586 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
17587 +    END;
17588 +    IF _BRANCH_ GT 0 THEN DO;
17589 +       _ARB_F_ + 0.0061724398;
17590 +      END;
17591 +    END;
17592 +  END;
17593 +
17594 +********** LEAF    15  NODE  1286 ***************;
17595 +IF _ARB_BADF_ EQ 0 THEN DO;
17596 +
17597 +  _BRANCH_ = -1;
17598 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
17599 +   %DMNORMIP( _ARBFMT_12);
17600 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
17601 +     _BRANCH_ =    2;
17602 +    END;
17603 +
17604 +  IF _BRANCH_ GT 0 THEN DO;
17605 +
17606 +    _BRANCH_ = -1;
17607 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
17608 +     %DMNORMIP( _ARBFMT_11);
17609 +      IF _ARBFMT_11 IN ('SATISFIED' ) THEN DO;
17610 +       _BRANCH_ =    1;
17611 +      END;
17612 +
17613 +    IF _BRANCH_ GT 0 THEN DO;
17614 +       _ARB_F_ + -0.035286623;
17615 +      END;
17616 +    END;
17617 +  END;
17618 +
17619 +********** LEAF    16  NODE  1287 ***************;
17620 +IF _ARB_BADF_ EQ 0 THEN DO;
17621 +
17622 +  _BRANCH_ = -1;
17623 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
17624 +   %DMNORMIP( _ARBFMT_12);
17625 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
17626 +     _BRANCH_ =    2;
17627 +    END;
17628 +
17629 +  IF _BRANCH_ GT 0 THEN DO;
17630 +
17631 +    _BRANCH_ = -1;
17632 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
17633 +     %DMNORMIP( _ARBFMT_11);
17634 +      IF _ARBFMT_11 IN ('NEUTRAL' ,'UNSATISFIED' ) THEN DO;
17635 +       _BRANCH_ =    2;
17636 +      END;
17637 +    IF _BRANCH_ LT 0 THEN DO;
17638 +       IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 2;
17639 +      ELSE IF _ARBFMT_11 NOTIN (
17640 +        'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
17641 +         ) THEN _BRANCH_ = 2;
17642 +    END;
17643 +    IF _BRANCH_ GT 0 THEN DO;
17644 +       _ARB_F_ + -0.000254466;
17645 +      END;
17646 +    END;
17647 +  END;
17648 +
17649 +********** LEAF    17  NODE  1291 ***************;
17650 +IF _ARB_BADF_ EQ 0 THEN DO;
17651 +
17652 +  _BRANCH_ = -1;
17653 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17654 +    LOG_IMP_Age  <      3.2769667020129 THEN DO;
17655 +     _BRANCH_ =    1;
17656 +    END;
17657 +
17658 +  IF _BRANCH_ GT 0 THEN DO;
17659 +
17660 +    _BRANCH_ = -1;
17661 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
17662 +      LOG_Items_Purchased  <     3.25735634543626 THEN DO;
17663 +       _BRANCH_ =    1;
17664 +      END;
17665 +
17666 +    IF _BRANCH_ GT 0 THEN DO;
17667 +       _ARB_F_ + 0.0128755984;
17668 +      END;
17669 +    END;
17670 +  END;
17671 +
17672 +********** LEAF    18  NODE  1292 ***************;
17673 +IF _ARB_BADF_ EQ 0 THEN DO;
17674 +
17675 +  _BRANCH_ = -1;
17676 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17677 +    LOG_IMP_Age  <      3.2769667020129 THEN DO;
17678 +     _BRANCH_ =    1;
17679 +    END;
17680 +
17681 +  IF _BRANCH_ GT 0 THEN DO;
17682 +
17683 +    _BRANCH_ = -1;
17684 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
17685 +          3.25735634543626 <= LOG_Items_Purchased  THEN DO;
17686 +       _BRANCH_ =    2;
17687 +      END;
17688 +    IF _BRANCH_ LT 0 THEN DO;
17689 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
17690 +    END;
17691 +    IF _BRANCH_ GT 0 THEN DO;
17692 +       _ARB_F_ + 0.0682284516;
17693 +      END;
17694 +    END;
17695 +  END;
17696 +
17697 +********** LEAF    19  NODE  1293 ***************;
17698 +IF _ARB_BADF_ EQ 0 THEN DO;
17699 +
17700 +  _BRANCH_ = -1;
17701 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17702 +         3.2769667020129 <= LOG_IMP_Age  THEN DO;
17703 +     _BRANCH_ =    2;
17704 +    END;
17705 +  IF _BRANCH_ LT 0 THEN DO;
17706 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
17707 +  END;
17708 +  IF _BRANCH_ GT 0 THEN DO;
17709 +
17710 +    _BRANCH_ = -1;
17711 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
17712 +      Days_Since_Last_Purchase  <                 55.5 THEN DO;
17713 +       _BRANCH_ =    1;
17714 +      END;
17715 +    IF _BRANCH_ LT 0 THEN DO;
17716 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
17717 +    END;
17718 +    IF _BRANCH_ GT 0 THEN DO;
17719 +       _ARB_F_ + -0.007175672;
17720 +      END;
17721 +    END;
17722 +  END;
17723 +
17724 +********** LEAF    20  NODE  1294 ***************;
17725 +IF _ARB_BADF_ EQ 0 THEN DO;
17726 +
17727 +  _BRANCH_ = -1;
17728 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17729 +         3.2769667020129 <= LOG_IMP_Age  THEN DO;
17730 +     _BRANCH_ =    2;
17731 +    END;
17732 +  IF _BRANCH_ LT 0 THEN DO;
17733 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
17734 +  END;
17735 +  IF _BRANCH_ GT 0 THEN DO;
17736 +
17737 +    _BRANCH_ = -1;
17738 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
17739 +                      55.5 <= Days_Since_Last_Purchase  THEN DO;
17740 +       _BRANCH_ =    2;
17741 +      END;
17742 +
17743 +    IF _BRANCH_ GT 0 THEN DO;
17744 +       _ARB_F_ + 0.0271863892;
17745 +      END;
17746 +    END;
17747 +  END;
17748 +
17749 +********** LEAF    21  NODE  1298 ***************;
17750 +IF _ARB_BADF_ EQ 0 THEN DO;
17751 +
17752 +  _BRANCH_ = -1;
17753 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17754 +   %DMNORMIP( _ARBFMT_11);
17755 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
17756 +     _BRANCH_ =    1;
17757 +    END;
17758 +
17759 +  IF _BRANCH_ GT 0 THEN DO;
17760 +
17761 +    _BRANCH_ = -1;
17762 +    _ARBFMT_13 = PUT( City , $13.);
17763 +     %DMNORMIP( _ARBFMT_13);
17764 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' )
17765 +       THEN DO;
17766 +       _BRANCH_ =    1;
17767 +      END;
17768 +    IF _BRANCH_ LT 0 THEN DO;
17769 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
17770 +      ELSE IF _ARBFMT_13 NOTIN (
17771 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
17772 +        'CHICAGO'
17773 +         ) THEN _BRANCH_ = 1;
17774 +    END;
17775 +    IF _BRANCH_ GT 0 THEN DO;
17776 +       _ARB_F_ + -0.0359112;
17777 +      END;
17778 +    END;
17779 +  END;
17780 +
17781 +********** LEAF    22  NODE  1299 ***************;
17782 +IF _ARB_BADF_ EQ 0 THEN DO;
17783 +
17784 +  _BRANCH_ = -1;
17785 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17786 +   %DMNORMIP( _ARBFMT_11);
17787 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
17788 +     _BRANCH_ =    1;
17789 +    END;
17790 +
17791 +  IF _BRANCH_ GT 0 THEN DO;
17792 +
17793 +    _BRANCH_ = -1;
17794 +    _ARBFMT_13 = PUT( City , $13.);
17795 +     %DMNORMIP( _ARBFMT_13);
17796 +      IF _ARBFMT_13 IN ('HOUSTON' ,'CHICAGO' ) THEN DO;
17797 +       _BRANCH_ =    2;
17798 +      END;
17799 +
17800 +    IF _BRANCH_ GT 0 THEN DO;
17801 +       _ARB_F_ + 0.0193573686;
17802 +      END;
17803 +    END;
17804 +  END;
17805 +
17806 +********** LEAF    23  NODE  1300 ***************;
17807 +IF _ARB_BADF_ EQ 0 THEN DO;
17808 +
17809 +  _BRANCH_ = -1;
17810 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17811 +   %DMNORMIP( _ARBFMT_11);
17812 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
17813 +     _BRANCH_ =    2;
17814 +    END;
17815 +  IF _BRANCH_ LT 0 THEN DO;
17816 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
17817 +    ELSE IF _ARBFMT_11 NOTIN (
17818 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17819 +       ) THEN _BRANCH_ = 2;
17820 +  END;
17821 +  IF _BRANCH_ GT 0 THEN DO;
17822 +
17823 +    _BRANCH_ = -1;
17824 +      IF  NOT MISSING(Average_Rating ) AND
17825 +      Average_Rating  <                 4.25 THEN DO;
17826 +       _BRANCH_ =    1;
17827 +      END;
17828 +    IF _BRANCH_ LT 0 THEN DO;
17829 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
17830 +    END;
17831 +    IF _BRANCH_ GT 0 THEN DO;
17832 +       _ARB_F_ + -0.001464133;
17833 +      END;
17834 +    END;
17835 +  END;
17836 +
17837 +********** LEAF    24  NODE  1301 ***************;
17838 +IF _ARB_BADF_ EQ 0 THEN DO;
17839 +
17840 +  _BRANCH_ = -1;
17841 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
17842 +   %DMNORMIP( _ARBFMT_11);
17843 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
17844 +     _BRANCH_ =    2;
17845 +    END;
17846 +  IF _BRANCH_ LT 0 THEN DO;
17847 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
17848 +    ELSE IF _ARBFMT_11 NOTIN (
17849 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
17850 +       ) THEN _BRANCH_ = 2;
17851 +  END;
17852 +  IF _BRANCH_ GT 0 THEN DO;
17853 +
17854 +    _BRANCH_ = -1;
17855 +      IF  NOT MISSING(Average_Rating ) AND
17856 +                      4.25 <= Average_Rating  THEN DO;
17857 +       _BRANCH_ =    2;
17858 +      END;
17859 +
17860 +    IF _BRANCH_ GT 0 THEN DO;
17861 +       _ARB_F_ + 0.0210441842;
17862 +      END;
17863 +    END;
17864 +  END;
17865 +
17866 +********** LEAF    25  NODE  1305 ***************;
17867 +IF _ARB_BADF_ EQ 0 THEN DO;
17868 +
17869 +  _BRANCH_ = -1;
17870 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17871 +    LOG_IMP_Age  <     3.31402068808976 THEN DO;
17872 +     _BRANCH_ =    1;
17873 +    END;
17874 +
17875 +  IF _BRANCH_ GT 0 THEN DO;
17876 +
17877 +    _BRANCH_ = -1;
17878 +    _ARBFMT_13 = PUT( City , $13.);
17879 +     %DMNORMIP( _ARBFMT_13);
17880 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'MIAMI' ,'HOUSTON' ) THEN DO;
17881 +       _BRANCH_ =    1;
17882 +      END;
17883 +    IF _BRANCH_ LT 0 THEN DO;
17884 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
17885 +      ELSE IF _ARBFMT_13 NOTIN (
17886 +        'SAN FRANCISCO' ,'MIAMI' ,'HOUSTON' ,'NEW YORK' ,'LOS ANGELES'
17887 +         ) THEN _BRANCH_ = 1;
17888 +    END;
17889 +    IF _BRANCH_ GT 0 THEN DO;
17890 +       _ARB_F_ + 0.0515104719;
17891 +      END;
17892 +    END;
17893 +  END;
17894 +
17895 +********** LEAF    26  NODE  1306 ***************;
17896 +IF _ARB_BADF_ EQ 0 THEN DO;
17897 +
17898 +  _BRANCH_ = -1;
17899 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17900 +    LOG_IMP_Age  <     3.31402068808976 THEN DO;
17901 +     _BRANCH_ =    1;
17902 +    END;
17903 +
17904 +  IF _BRANCH_ GT 0 THEN DO;
17905 +
17906 +    _BRANCH_ = -1;
17907 +    _ARBFMT_13 = PUT( City , $13.);
17908 +     %DMNORMIP( _ARBFMT_13);
17909 +      IF _ARBFMT_13 IN ('NEW YORK' ,'LOS ANGELES' ) THEN DO;
17910 +       _BRANCH_ =    2;
17911 +      END;
17912 +
17913 +    IF _BRANCH_ GT 0 THEN DO;
17914 +       _ARB_F_ + -0.022523801;
17915 +      END;
17916 +    END;
17917 +  END;
17918 +
17919 +********** LEAF    27  NODE  1307 ***************;
17920 +IF _ARB_BADF_ EQ 0 THEN DO;
17921 +
17922 +  _BRANCH_ = -1;
17923 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17924 +        3.31402068808976 <= LOG_IMP_Age  THEN DO;
17925 +     _BRANCH_ =    2;
17926 +    END;
17927 +  IF _BRANCH_ LT 0 THEN DO;
17928 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
17929 +  END;
17930 +  IF _BRANCH_ GT 0 THEN DO;
17931 +
17932 +    _BRANCH_ = -1;
17933 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
17934 +      LOG_Items_Purchased  <     3.56943349997276 THEN DO;
17935 +       _BRANCH_ =    1;
17936 +      END;
17937 +    IF _BRANCH_ LT 0 THEN DO;
17938 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
17939 +    END;
17940 +    IF _BRANCH_ GT 0 THEN DO;
17941 +       _ARB_F_ + 0.0012293684;
17942 +      END;
17943 +    END;
17944 +  END;
17945 +
17946 +********** LEAF    28  NODE  1308 ***************;
17947 +IF _ARB_BADF_ EQ 0 THEN DO;
17948 +
17949 +  _BRANCH_ = -1;
17950 +    IF  NOT MISSING(LOG_IMP_Age ) AND
17951 +        3.31402068808976 <= LOG_IMP_Age  THEN DO;
17952 +     _BRANCH_ =    2;
17953 +    END;
17954 +  IF _BRANCH_ LT 0 THEN DO;
17955 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
17956 +  END;
17957 +  IF _BRANCH_ GT 0 THEN DO;
17958 +
17959 +    _BRANCH_ = -1;
17960 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
17961 +          3.56943349997276 <= LOG_Items_Purchased  THEN DO;
17962 +       _BRANCH_ =    2;
17963 +      END;
17964 +
17965 +    IF _BRANCH_ GT 0 THEN DO;
17966 +       _ARB_F_ + -0.023174924;
17967 +      END;
17968 +    END;
17969 +  END;
17970 +
17971 +********** LEAF    29  NODE  1312 ***************;
17972 +IF _ARB_BADF_ EQ 0 THEN DO;
17973 +
17974 +  _BRANCH_ = -1;
17975 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
17976 +    Days_Since_Last_Purchase  <                 47.5 THEN DO;
17977 +     _BRANCH_ =    1;
17978 +    END;
17979 +  IF _BRANCH_ LT 0 THEN DO;
17980 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
17981 +  END;
17982 +  IF _BRANCH_ GT 0 THEN DO;
17983 +
17984 +    _BRANCH_ = -1;
17985 +      IF  NOT MISSING(Total_Spend ) AND
17986 +      Total_Spend  <                420.9 THEN DO;
17987 +       _BRANCH_ =    1;
17988 +      END;
17989 +
17990 +    IF _BRANCH_ GT 0 THEN DO;
17991 +       _ARB_F_ + 0.0532786678;
17992 +      END;
17993 +    END;
17994 +  END;
17995 +
17996 +********** LEAF    30  NODE  1313 ***************;
17997 +IF _ARB_BADF_ EQ 0 THEN DO;
17998 +
17999 +  _BRANCH_ = -1;
18000 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18001 +    Days_Since_Last_Purchase  <                 47.5 THEN DO;
18002 +     _BRANCH_ =    1;
18003 +    END;
18004 +  IF _BRANCH_ LT 0 THEN DO;
18005 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
18006 +  END;
18007 +  IF _BRANCH_ GT 0 THEN DO;
18008 +
18009 +    _BRANCH_ = -1;
18010 +      IF  NOT MISSING(Total_Spend ) AND
18011 +                     420.9 <= Total_Spend  THEN DO;
18012 +       _BRANCH_ =    2;
18013 +      END;
18014 +    IF _BRANCH_ LT 0 THEN DO;
18015 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
18016 +    END;
18017 +    IF _BRANCH_ GT 0 THEN DO;
18018 +       _ARB_F_ + -0.00768308;
18019 +      END;
18020 +    END;
18021 +  END;
18022 +
18023 +********** LEAF    31  NODE  1314 ***************;
18024 +IF _ARB_BADF_ EQ 0 THEN DO;
18025 +
18026 +  _BRANCH_ = -1;
18027 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18028 +                    47.5 <= Days_Since_Last_Purchase  THEN DO;
18029 +     _BRANCH_ =    2;
18030 +    END;
18031 +
18032 +  IF _BRANCH_ GT 0 THEN DO;
18033 +
18034 +    _BRANCH_ = -1;
18035 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18036 +     %DMNORMIP( _ARBFMT_11);
18037 +      IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
18038 +       _BRANCH_ =    1;
18039 +      END;
18040 +
18041 +    IF _BRANCH_ GT 0 THEN DO;
18042 +       _ARB_F_ + -0.021212772;
18043 +      END;
18044 +    END;
18045 +  END;
18046 +
18047 +********** LEAF    32  NODE  1315 ***************;
18048 +IF _ARB_BADF_ EQ 0 THEN DO;
18049 +
18050 +  _BRANCH_ = -1;
18051 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18052 +                    47.5 <= Days_Since_Last_Purchase  THEN DO;
18053 +     _BRANCH_ =    2;
18054 +    END;
18055 +
18056 +  IF _BRANCH_ GT 0 THEN DO;
18057 +
18058 +    _BRANCH_ = -1;
18059 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18060 +     %DMNORMIP( _ARBFMT_11);
18061 +      IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
18062 +       _BRANCH_ =    2;
18063 +      END;
18064 +    IF _BRANCH_ LT 0 THEN DO;
18065 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
18066 +      ELSE IF _ARBFMT_11 NOTIN (
18067 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
18068 +         ) THEN _BRANCH_ = 2;
18069 +    END;
18070 +    IF _BRANCH_ GT 0 THEN DO;
18071 +       _ARB_F_ + 0.0385295749;
18072 +      END;
18073 +    END;
18074 +  END;
18075 +
18076 +********** LEAF    33  NODE  1319 ***************;
18077 +IF _ARB_BADF_ EQ 0 THEN DO;
18078 +
18079 +  _BRANCH_ = -1;
18080 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
18081 +   %DMNORMIP( _ARBFMT_12);
18082 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
18083 +     _BRANCH_ =    1;
18084 +    END;
18085 +  IF _BRANCH_ LT 0 THEN DO;
18086 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
18087 +    ELSE IF _ARBFMT_12 NOTIN (
18088 +      '0' ,'1'
18089 +       ) THEN _BRANCH_ = 1;
18090 +  END;
18091 +  IF _BRANCH_ GT 0 THEN DO;
18092 +
18093 +    _BRANCH_ = -1;
18094 +    _ARBFMT_13 = PUT( City , $13.);
18095 +     %DMNORMIP( _ARBFMT_13);
18096 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'HOUSTON' ,
18097 +      'CHICAGO' ) THEN DO;
18098 +       _BRANCH_ =    1;
18099 +      END;
18100 +    IF _BRANCH_ LT 0 THEN DO;
18101 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
18102 +      ELSE IF _ARBFMT_13 NOTIN (
18103 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'HOUSTON' ,'CHICAGO' ,
18104 +        'LOS ANGELES'
18105 +         ) THEN _BRANCH_ = 1;
18106 +    END;
18107 +    IF _BRANCH_ GT 0 THEN DO;
18108 +       _ARB_F_ + 0.0149751677;
18109 +      END;
18110 +    END;
18111 +  END;
18112 +
18113 +********** LEAF    34  NODE  1320 ***************;
18114 +IF _ARB_BADF_ EQ 0 THEN DO;
18115 +
18116 +  _BRANCH_ = -1;
18117 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
18118 +   %DMNORMIP( _ARBFMT_12);
18119 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
18120 +     _BRANCH_ =    1;
18121 +    END;
18122 +  IF _BRANCH_ LT 0 THEN DO;
18123 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
18124 +    ELSE IF _ARBFMT_12 NOTIN (
18125 +      '0' ,'1'
18126 +       ) THEN _BRANCH_ = 1;
18127 +  END;
18128 +  IF _BRANCH_ GT 0 THEN DO;
18129 +
18130 +    _BRANCH_ = -1;
18131 +    _ARBFMT_13 = PUT( City , $13.);
18132 +     %DMNORMIP( _ARBFMT_13);
18133 +      IF _ARBFMT_13 IN ('LOS ANGELES' ) THEN DO;
18134 +       _BRANCH_ =    2;
18135 +      END;
18136 +
18137 +    IF _BRANCH_ GT 0 THEN DO;
18138 +       _ARB_F_ + -0.034369959;
18139 +      END;
18140 +    END;
18141 +  END;
18142 +
18143 +********** LEAF    35  NODE  1321 ***************;
18144 +IF _ARB_BADF_ EQ 0 THEN DO;
18145 +
18146 +  _BRANCH_ = -1;
18147 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
18148 +   %DMNORMIP( _ARBFMT_12);
18149 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
18150 +     _BRANCH_ =    2;
18151 +    END;
18152 +
18153 +  IF _BRANCH_ GT 0 THEN DO;
18154 +
18155 +    _BRANCH_ = -1;
18156 +      IF  NOT MISSING(Total_Spend ) AND
18157 +      Total_Spend  <                  451 THEN DO;
18158 +       _BRANCH_ =    1;
18159 +      END;
18160 +
18161 +    IF _BRANCH_ GT 0 THEN DO;
18162 +       _ARB_F_ + -0.106432522;
18163 +      END;
18164 +    END;
18165 +  END;
18166 +
18167 +********** LEAF    36  NODE  1322 ***************;
18168 +IF _ARB_BADF_ EQ 0 THEN DO;
18169 +
18170 +  _BRANCH_ = -1;
18171 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
18172 +   %DMNORMIP( _ARBFMT_12);
18173 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
18174 +     _BRANCH_ =    2;
18175 +    END;
18176 +
18177 +  IF _BRANCH_ GT 0 THEN DO;
18178 +
18179 +    _BRANCH_ = -1;
18180 +      IF  NOT MISSING(Total_Spend ) AND
18181 +                       451 <= Total_Spend  THEN DO;
18182 +       _BRANCH_ =    2;
18183 +      END;
18184 +    IF _BRANCH_ LT 0 THEN DO;
18185 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
18186 +    END;
18187 +    IF _BRANCH_ GT 0 THEN DO;
18188 +       _ARB_F_ + -0.008557635;
18189 +      END;
18190 +    END;
18191 +  END;
18192 +
18193 +********** LEAF    37  NODE  1326 ***************;
18194 +IF _ARB_BADF_ EQ 0 THEN DO;
18195 +
18196 +  _BRANCH_ = -1;
18197 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18198 +    LOG_IMP_Age  <     3.99815861589837 THEN DO;
18199 +     _BRANCH_ =    1;
18200 +    END;
18201 +  IF _BRANCH_ LT 0 THEN DO;
18202 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18203 +  END;
18204 +  IF _BRANCH_ GT 0 THEN DO;
18205 +
18206 +    _BRANCH_ = -1;
18207 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
18208 +      LOG_Items_Purchased  <     3.88151065450925 THEN DO;
18209 +       _BRANCH_ =    1;
18210 +      END;
18211 +    IF _BRANCH_ LT 0 THEN DO;
18212 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
18213 +    END;
18214 +    IF _BRANCH_ GT 0 THEN DO;
18215 +       _ARB_F_ + -0.003699106;
18216 +      END;
18217 +    END;
18218 +  END;
18219 +
18220 +********** LEAF    38  NODE  1327 ***************;
18221 +IF _ARB_BADF_ EQ 0 THEN DO;
18222 +
18223 +  _BRANCH_ = -1;
18224 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18225 +    LOG_IMP_Age  <     3.99815861589837 THEN DO;
18226 +     _BRANCH_ =    1;
18227 +    END;
18228 +  IF _BRANCH_ LT 0 THEN DO;
18229 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18230 +  END;
18231 +  IF _BRANCH_ GT 0 THEN DO;
18232 +
18233 +    _BRANCH_ = -1;
18234 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
18235 +          3.88151065450925 <= LOG_Items_Purchased  THEN DO;
18236 +       _BRANCH_ =    2;
18237 +      END;
18238 +
18239 +    IF _BRANCH_ GT 0 THEN DO;
18240 +       _ARB_F_ + 0.0474261494;
18241 +      END;
18242 +    END;
18243 +  END;
18244 +
18245 +********** LEAF    39  NODE  1328 ***************;
18246 +IF _ARB_BADF_ EQ 0 THEN DO;
18247 +
18248 +  _BRANCH_ = -1;
18249 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18250 +        3.99815861589837 <= LOG_IMP_Age  THEN DO;
18251 +     _BRANCH_ =    2;
18252 +    END;
18253 +
18254 +  IF _BRANCH_ GT 0 THEN DO;
18255 +
18256 +    _BRANCH_ = -1;
18257 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18258 +     %DMNORMIP( _ARBFMT_11);
18259 +      IF _ARBFMT_11 IN ('CLOTHING' ) THEN DO;
18260 +       _BRANCH_ =    1;
18261 +      END;
18262 +    IF _BRANCH_ LT 0 THEN DO;
18263 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
18264 +      ELSE IF _ARBFMT_11 NOTIN (
18265 +        'CLOTHING' ,'ELECTRONICS'
18266 +         ) THEN _BRANCH_ = 1;
18267 +    END;
18268 +    IF _BRANCH_ GT 0 THEN DO;
18269 +       _ARB_F_ + 0.092826162;
18270 +      END;
18271 +    END;
18272 +  END;
18273 +
18274 +********** LEAF    40  NODE  1329 ***************;
18275 +IF _ARB_BADF_ EQ 0 THEN DO;
18276 +
18277 +  _BRANCH_ = -1;
18278 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18279 +        3.99815861589837 <= LOG_IMP_Age  THEN DO;
18280 +     _BRANCH_ =    2;
18281 +    END;
18282 +
18283 +  IF _BRANCH_ GT 0 THEN DO;
18284 +
18285 +    _BRANCH_ = -1;
18286 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18287 +     %DMNORMIP( _ARBFMT_11);
18288 +      IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
18289 +       _BRANCH_ =    2;
18290 +      END;
18291 +
18292 +    IF _BRANCH_ GT 0 THEN DO;
18293 +       _ARB_F_ + 0.02215716;
18294 +      END;
18295 +    END;
18296 +  END;
18297 +
18298 +********** LEAF    41  NODE  1333 ***************;
18299 +IF _ARB_BADF_ EQ 0 THEN DO;
18300 +
18301 +  _BRANCH_ = -1;
18302 +  _ARBFMT_13 = PUT( City , $13.);
18303 +   %DMNORMIP( _ARBFMT_13);
18304 +    IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ) THEN DO;
18305 +     _BRANCH_ =    1;
18306 +    END;
18307 +  IF _BRANCH_ LT 0 THEN DO;
18308 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
18309 +    ELSE IF _ARBFMT_13 NOTIN (
18310 +      'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'SAN FRANCISCO' ,
18311 +      'CHICAGO'
18312 +       ) THEN _BRANCH_ = 1;
18313 +  END;
18314 +  IF _BRANCH_ GT 0 THEN DO;
18315 +
18316 +    _BRANCH_ = -1;
18317 +      IF  NOT MISSING(Total_Spend ) AND
18318 +      Total_Spend  <               1212.8 THEN DO;
18319 +       _BRANCH_ =    1;
18320 +      END;
18321 +    IF _BRANCH_ LT 0 THEN DO;
18322 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
18323 +    END;
18324 +    IF _BRANCH_ GT 0 THEN DO;
18325 +       _ARB_F_ + 0.0002232372;
18326 +      END;
18327 +    END;
18328 +  END;
18329 +
18330 +********** LEAF    42  NODE  1334 ***************;
18331 +IF _ARB_BADF_ EQ 0 THEN DO;
18332 +
18333 +  _BRANCH_ = -1;
18334 +  _ARBFMT_13 = PUT( City , $13.);
18335 +   %DMNORMIP( _ARBFMT_13);
18336 +    IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ) THEN DO;
18337 +     _BRANCH_ =    1;
18338 +    END;
18339 +  IF _BRANCH_ LT 0 THEN DO;
18340 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
18341 +    ELSE IF _ARBFMT_13 NOTIN (
18342 +      'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'SAN FRANCISCO' ,
18343 +      'CHICAGO'
18344 +       ) THEN _BRANCH_ = 1;
18345 +  END;
18346 +  IF _BRANCH_ GT 0 THEN DO;
18347 +
18348 +    _BRANCH_ = -1;
18349 +      IF  NOT MISSING(Total_Spend ) AND
18350 +                    1212.8 <= Total_Spend  THEN DO;
18351 +       _BRANCH_ =    2;
18352 +      END;
18353 +
18354 +    IF _BRANCH_ GT 0 THEN DO;
18355 +       _ARB_F_ + 0.0343007635;
18356 +      END;
18357 +    END;
18358 +  END;
18359 +
18360 +********** LEAF    43  NODE  1335 ***************;
18361 +IF _ARB_BADF_ EQ 0 THEN DO;
18362 +
18363 +  _BRANCH_ = -1;
18364 +  _ARBFMT_13 = PUT( City , $13.);
18365 +   %DMNORMIP( _ARBFMT_13);
18366 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'CHICAGO' ) THEN DO;
18367 +     _BRANCH_ =    2;
18368 +    END;
18369 +
18370 +  IF _BRANCH_ GT 0 THEN DO;
18371 +
18372 +    _BRANCH_ = -1;
18373 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18374 +      Days_Since_Last_Purchase  <                 38.5 THEN DO;
18375 +       _BRANCH_ =    1;
18376 +      END;
18377 +    IF _BRANCH_ LT 0 THEN DO;
18378 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
18379 +    END;
18380 +    IF _BRANCH_ GT 0 THEN DO;
18381 +       _ARB_F_ + -0.032175013;
18382 +      END;
18383 +    END;
18384 +  END;
18385 +
18386 +********** LEAF    44  NODE  1336 ***************;
18387 +IF _ARB_BADF_ EQ 0 THEN DO;
18388 +
18389 +  _BRANCH_ = -1;
18390 +  _ARBFMT_13 = PUT( City , $13.);
18391 +   %DMNORMIP( _ARBFMT_13);
18392 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'CHICAGO' ) THEN DO;
18393 +     _BRANCH_ =    2;
18394 +    END;
18395 +
18396 +  IF _BRANCH_ GT 0 THEN DO;
18397 +
18398 +    _BRANCH_ = -1;
18399 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18400 +                      38.5 <= Days_Since_Last_Purchase  THEN DO;
18401 +       _BRANCH_ =    2;
18402 +      END;
18403 +
18404 +    IF _BRANCH_ GT 0 THEN DO;
18405 +       _ARB_F_ + 0.0071671207;
18406 +      END;
18407 +    END;
18408 +  END;
18409 +
18410 +********** LEAF    45  NODE  1340 ***************;
18411 +IF _ARB_BADF_ EQ 0 THEN DO;
18412 +
18413 +  _BRANCH_ = -1;
18414 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18415 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
18416 +     _BRANCH_ =    1;
18417 +    END;
18418 +  IF _BRANCH_ LT 0 THEN DO;
18419 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18420 +  END;
18421 +  IF _BRANCH_ GT 0 THEN DO;
18422 +
18423 +    _BRANCH_ = -1;
18424 +    _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
18425 +     %DMNORMIP( _ARBFMT_12);
18426 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
18427 +       _BRANCH_ =    1;
18428 +      END;
18429 +    IF _BRANCH_ LT 0 THEN DO;
18430 +       IF MISSING( Discount_Applied_Binary  ) THEN _BRANCH_ = 1;
18431 +      ELSE IF _ARBFMT_12 NOTIN (
18432 +        '1' ,'0'
18433 +         ) THEN _BRANCH_ = 1;
18434 +    END;
18435 +    IF _BRANCH_ GT 0 THEN DO;
18436 +       _ARB_F_ + 0.0102925859;
18437 +      END;
18438 +    END;
18439 +  END;
18440 +
18441 +********** LEAF    46  NODE  1341 ***************;
18442 +IF _ARB_BADF_ EQ 0 THEN DO;
18443 +
18444 +  _BRANCH_ = -1;
18445 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18446 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
18447 +     _BRANCH_ =    1;
18448 +    END;
18449 +  IF _BRANCH_ LT 0 THEN DO;
18450 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18451 +  END;
18452 +  IF _BRANCH_ GT 0 THEN DO;
18453 +
18454 +    _BRANCH_ = -1;
18455 +    _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
18456 +     %DMNORMIP( _ARBFMT_12);
18457 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
18458 +       _BRANCH_ =    2;
18459 +      END;
18460 +
18461 +    IF _BRANCH_ GT 0 THEN DO;
18462 +       _ARB_F_ + -0.008752601;
18463 +      END;
18464 +    END;
18465 +  END;
18466 +
18467 +********** LEAF    47  NODE  1339 ***************;
18468 +IF _ARB_BADF_ EQ 0 THEN DO;
18469 +
18470 +  _BRANCH_ = -1;
18471 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18472 +        4.01634243798381 <= LOG_IMP_Age  THEN DO;
18473 +     _BRANCH_ =    2;
18474 +    END;
18475 +
18476 +  IF _BRANCH_ GT 0 THEN DO;
18477 +     _ARB_F_ + -0.087844366;
18478 +    END;
18479 +  END;
18480 +
18481 +********** LEAF    48  NODE  1345 ***************;
18482 +IF _ARB_BADF_ EQ 0 THEN DO;
18483 +
18484 +  _BRANCH_ = -1;
18485 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18486 +    LOG_IMP_Age  <     3.83939449909957 THEN DO;
18487 +     _BRANCH_ =    1;
18488 +    END;
18489 +  IF _BRANCH_ LT 0 THEN DO;
18490 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18491 +  END;
18492 +  IF _BRANCH_ GT 0 THEN DO;
18493 +
18494 +    _BRANCH_ = -1;
18495 +      IF  NOT MISSING(LOG_IMP_Age ) AND
18496 +      LOG_IMP_Age  <      3.8176519431297 THEN DO;
18497 +       _BRANCH_ =    1;
18498 +      END;
18499 +    IF _BRANCH_ LT 0 THEN DO;
18500 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18501 +    END;
18502 +    IF _BRANCH_ GT 0 THEN DO;
18503 +       _ARB_F_ + 0.0031286311;
18504 +      END;
18505 +    END;
18506 +  END;
18507 +
18508 +********** LEAF    49  NODE  1346 ***************;
18509 +IF _ARB_BADF_ EQ 0 THEN DO;
18510 +
18511 +  _BRANCH_ = -1;
18512 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18513 +    LOG_IMP_Age  <     3.83939449909957 THEN DO;
18514 +     _BRANCH_ =    1;
18515 +    END;
18516 +  IF _BRANCH_ LT 0 THEN DO;
18517 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18518 +  END;
18519 +  IF _BRANCH_ GT 0 THEN DO;
18520 +
18521 +    _BRANCH_ = -1;
18522 +      IF  NOT MISSING(LOG_IMP_Age ) AND
18523 +           3.8176519431297 <= LOG_IMP_Age  THEN DO;
18524 +       _BRANCH_ =    2;
18525 +      END;
18526 +
18527 +    IF _BRANCH_ GT 0 THEN DO;
18528 +       _ARB_F_ + 0.0969230432;
18529 +      END;
18530 +    END;
18531 +  END;
18532 +
18533 +********** LEAF    50  NODE  1347 ***************;
18534 +IF _ARB_BADF_ EQ 0 THEN DO;
18535 +
18536 +  _BRANCH_ = -1;
18537 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18538 +        3.83939449909957 <= LOG_IMP_Age  THEN DO;
18539 +     _BRANCH_ =    2;
18540 +    END;
18541 +
18542 +  IF _BRANCH_ GT 0 THEN DO;
18543 +
18544 +    _BRANCH_ = -1;
18545 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18546 +     %DMNORMIP( _ARBFMT_11);
18547 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'BOOKS' ) THEN DO;
18548 +       _BRANCH_ =    1;
18549 +      END;
18550 +    IF _BRANCH_ LT 0 THEN DO;
18551 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
18552 +      ELSE IF _ARBFMT_11 NOTIN (
18553 +        'ELECTRONICS' ,'BOOKS' ,'CLOTHING' ,'HOME GOODS'
18554 +         ) THEN _BRANCH_ = 1;
18555 +    END;
18556 +    IF _BRANCH_ GT 0 THEN DO;
18557 +       _ARB_F_ + -0.049732719;
18558 +      END;
18559 +    END;
18560 +  END;
18561 +
18562 +********** LEAF    51  NODE  1348 ***************;
18563 +IF _ARB_BADF_ EQ 0 THEN DO;
18564 +
18565 +  _BRANCH_ = -1;
18566 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18567 +        3.83939449909957 <= LOG_IMP_Age  THEN DO;
18568 +     _BRANCH_ =    2;
18569 +    END;
18570 +
18571 +  IF _BRANCH_ GT 0 THEN DO;
18572 +
18573 +    _BRANCH_ = -1;
18574 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18575 +     %DMNORMIP( _ARBFMT_11);
18576 +      IF _ARBFMT_11 IN ('CLOTHING' ,'HOME GOODS' ) THEN DO;
18577 +       _BRANCH_ =    2;
18578 +      END;
18579 +
18580 +    IF _BRANCH_ GT 0 THEN DO;
18581 +       _ARB_F_ + 0.0067321956;
18582 +      END;
18583 +    END;
18584 +  END;
18585 +
18586 +********** LEAF    52  NODE  1352 ***************;
18587 +IF _ARB_BADF_ EQ 0 THEN DO;
18588 +
18589 +  _BRANCH_ = -1;
18590 +  _ARBFMT_13 = PUT( City , $13.);
18591 +   %DMNORMIP( _ARBFMT_13);
18592 +    IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
18593 +    'CHICAGO' ) THEN DO;
18594 +     _BRANCH_ =    1;
18595 +    END;
18596 +  IF _BRANCH_ LT 0 THEN DO;
18597 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
18598 +    ELSE IF _ARBFMT_13 NOTIN (
18599 +      'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ,
18600 +      'SAN FRANCISCO'
18601 +       ) THEN _BRANCH_ = 1;
18602 +  END;
18603 +  IF _BRANCH_ GT 0 THEN DO;
18604 +
18605 +    _BRANCH_ = -1;
18606 +      IF  NOT MISSING(Total_Spend ) AND
18607 +      Total_Spend  <              1160.45 THEN DO;
18608 +       _BRANCH_ =    1;
18609 +      END;
18610 +    IF _BRANCH_ LT 0 THEN DO;
18611 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
18612 +    END;
18613 +    IF _BRANCH_ GT 0 THEN DO;
18614 +       _ARB_F_ + 0.000808987;
18615 +      END;
18616 +    END;
18617 +  END;
18618 +
18619 +********** LEAF    53  NODE  1353 ***************;
18620 +IF _ARB_BADF_ EQ 0 THEN DO;
18621 +
18622 +  _BRANCH_ = -1;
18623 +  _ARBFMT_13 = PUT( City , $13.);
18624 +   %DMNORMIP( _ARBFMT_13);
18625 +    IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
18626 +    'CHICAGO' ) THEN DO;
18627 +     _BRANCH_ =    1;
18628 +    END;
18629 +  IF _BRANCH_ LT 0 THEN DO;
18630 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
18631 +    ELSE IF _ARBFMT_13 NOTIN (
18632 +      'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ,
18633 +      'SAN FRANCISCO'
18634 +       ) THEN _BRANCH_ = 1;
18635 +  END;
18636 +  IF _BRANCH_ GT 0 THEN DO;
18637 +
18638 +    _BRANCH_ = -1;
18639 +      IF  NOT MISSING(Total_Spend ) AND
18640 +                   1160.45 <= Total_Spend  THEN DO;
18641 +       _BRANCH_ =    2;
18642 +      END;
18643 +
18644 +    IF _BRANCH_ GT 0 THEN DO;
18645 +       _ARB_F_ + 0.0277640862;
18646 +      END;
18647 +    END;
18648 +  END;
18649 +
18650 +********** LEAF    54  NODE  1354 ***************;
18651 +IF _ARB_BADF_ EQ 0 THEN DO;
18652 +
18653 +  _BRANCH_ = -1;
18654 +  _ARBFMT_13 = PUT( City , $13.);
18655 +   %DMNORMIP( _ARBFMT_13);
18656 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ) THEN DO;
18657 +     _BRANCH_ =    2;
18658 +    END;
18659 +
18660 +  IF _BRANCH_ GT 0 THEN DO;
18661 +
18662 +    _BRANCH_ = -1;
18663 +      IF  NOT MISSING(Total_Spend ) AND
18664 +      Total_Spend  <                683.5 THEN DO;
18665 +       _BRANCH_ =    1;
18666 +      END;
18667 +
18668 +    IF _BRANCH_ GT 0 THEN DO;
18669 +       _ARB_F_ + 0.0212130931;
18670 +      END;
18671 +    END;
18672 +  END;
18673 +
18674 +********** LEAF    55  NODE  1355 ***************;
18675 +IF _ARB_BADF_ EQ 0 THEN DO;
18676 +
18677 +  _BRANCH_ = -1;
18678 +  _ARBFMT_13 = PUT( City , $13.);
18679 +   %DMNORMIP( _ARBFMT_13);
18680 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ) THEN DO;
18681 +     _BRANCH_ =    2;
18682 +    END;
18683 +
18684 +  IF _BRANCH_ GT 0 THEN DO;
18685 +
18686 +    _BRANCH_ = -1;
18687 +      IF  NOT MISSING(Total_Spend ) AND
18688 +                     683.5 <= Total_Spend  THEN DO;
18689 +       _BRANCH_ =    2;
18690 +      END;
18691 +    IF _BRANCH_ LT 0 THEN DO;
18692 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
18693 +    END;
18694 +    IF _BRANCH_ GT 0 THEN DO;
18695 +       _ARB_F_ + -0.041163937;
18696 +      END;
18697 +    END;
18698 +  END;
18699 +
18700 +********** LEAF    56  NODE  1359 ***************;
18701 +IF _ARB_BADF_ EQ 0 THEN DO;
18702 +
18703 +  _BRANCH_ = -1;
18704 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18705 +   %DMNORMIP( _ARBFMT_11);
18706 +    IF _ARBFMT_11 IN ('ELECTRONICS' ,'BOOKS' ) THEN DO;
18707 +     _BRANCH_ =    1;
18708 +    END;
18709 +  IF _BRANCH_ LT 0 THEN DO;
18710 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
18711 +    ELSE IF _ARBFMT_11 NOTIN (
18712 +      'ELECTRONICS' ,'BOOKS' ,'CLOTHING' ,'HOME GOODS'
18713 +       ) THEN _BRANCH_ = 1;
18714 +  END;
18715 +  IF _BRANCH_ GT 0 THEN DO;
18716 +
18717 +    _BRANCH_ = -1;
18718 +    _ARBFMT_13 = PUT( City , $13.);
18719 +     %DMNORMIP( _ARBFMT_13);
18720 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
18721 +      'CHICAGO' ) THEN DO;
18722 +       _BRANCH_ =    1;
18723 +      END;
18724 +    IF _BRANCH_ LT 0 THEN DO;
18725 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
18726 +      ELSE IF _ARBFMT_13 NOTIN (
18727 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'CHICAGO' ,
18728 +        'HOUSTON'
18729 +         ) THEN _BRANCH_ = 1;
18730 +    END;
18731 +    IF _BRANCH_ GT 0 THEN DO;
18732 +       _ARB_F_ + -0.020663226;
18733 +      END;
18734 +    END;
18735 +  END;
18736 +
18737 +********** LEAF    57  NODE  1360 ***************;
18738 +IF _ARB_BADF_ EQ 0 THEN DO;
18739 +
18740 +  _BRANCH_ = -1;
18741 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18742 +   %DMNORMIP( _ARBFMT_11);
18743 +    IF _ARBFMT_11 IN ('ELECTRONICS' ,'BOOKS' ) THEN DO;
18744 +     _BRANCH_ =    1;
18745 +    END;
18746 +  IF _BRANCH_ LT 0 THEN DO;
18747 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
18748 +    ELSE IF _ARBFMT_11 NOTIN (
18749 +      'ELECTRONICS' ,'BOOKS' ,'CLOTHING' ,'HOME GOODS'
18750 +       ) THEN _BRANCH_ = 1;
18751 +  END;
18752 +  IF _BRANCH_ GT 0 THEN DO;
18753 +
18754 +    _BRANCH_ = -1;
18755 +    _ARBFMT_13 = PUT( City , $13.);
18756 +     %DMNORMIP( _ARBFMT_13);
18757 +      IF _ARBFMT_13 IN ('HOUSTON' ) THEN DO;
18758 +       _BRANCH_ =    2;
18759 +      END;
18760 +
18761 +    IF _BRANCH_ GT 0 THEN DO;
18762 +       _ARB_F_ + 0.0151901769;
18763 +      END;
18764 +    END;
18765 +  END;
18766 +
18767 +********** LEAF    58  NODE  1361 ***************;
18768 +IF _ARB_BADF_ EQ 0 THEN DO;
18769 +
18770 +  _BRANCH_ = -1;
18771 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18772 +   %DMNORMIP( _ARBFMT_11);
18773 +    IF _ARBFMT_11 IN ('CLOTHING' ,'HOME GOODS' ) THEN DO;
18774 +     _BRANCH_ =    2;
18775 +    END;
18776 +
18777 +  IF _BRANCH_ GT 0 THEN DO;
18778 +
18779 +    _BRANCH_ = -1;
18780 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
18781 +      LOG_Items_Purchased  <     2.52492800362476 THEN DO;
18782 +       _BRANCH_ =    1;
18783 +      END;
18784 +
18785 +    IF _BRANCH_ GT 0 THEN DO;
18786 +       _ARB_F_ + 0.0430426048;
18787 +      END;
18788 +    END;
18789 +  END;
18790 +
18791 +********** LEAF    59  NODE  1362 ***************;
18792 +IF _ARB_BADF_ EQ 0 THEN DO;
18793 +
18794 +  _BRANCH_ = -1;
18795 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18796 +   %DMNORMIP( _ARBFMT_11);
18797 +    IF _ARBFMT_11 IN ('CLOTHING' ,'HOME GOODS' ) THEN DO;
18798 +     _BRANCH_ =    2;
18799 +    END;
18800 +
18801 +  IF _BRANCH_ GT 0 THEN DO;
18802 +
18803 +    _BRANCH_ = -1;
18804 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
18805 +          2.52492800362476 <= LOG_Items_Purchased  THEN DO;
18806 +       _BRANCH_ =    2;
18807 +      END;
18808 +    IF _BRANCH_ LT 0 THEN DO;
18809 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
18810 +    END;
18811 +    IF _BRANCH_ GT 0 THEN DO;
18812 +       _ARB_F_ + 0.0033004602;
18813 +      END;
18814 +    END;
18815 +  END;
18816 +
18817 +********** LEAF    60  NODE  1366 ***************;
18818 +IF _ARB_BADF_ EQ 0 THEN DO;
18819 +
18820 +  _BRANCH_ = -1;
18821 +    IF  NOT MISSING(Average_Rating ) AND
18822 +    Average_Rating  <                 3.75 THEN DO;
18823 +     _BRANCH_ =    1;
18824 +    END;
18825 +
18826 +  IF _BRANCH_ GT 0 THEN DO;
18827 +
18828 +    _BRANCH_ = -1;
18829 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18830 +      Days_Since_Last_Purchase  <                 15.5 THEN DO;
18831 +       _BRANCH_ =    1;
18832 +      END;
18833 +
18834 +    IF _BRANCH_ GT 0 THEN DO;
18835 +       _ARB_F_ + 0.0529766754;
18836 +      END;
18837 +    END;
18838 +  END;
18839 +
18840 +********** LEAF    61  NODE  1367 ***************;
18841 +IF _ARB_BADF_ EQ 0 THEN DO;
18842 +
18843 +  _BRANCH_ = -1;
18844 +    IF  NOT MISSING(Average_Rating ) AND
18845 +    Average_Rating  <                 3.75 THEN DO;
18846 +     _BRANCH_ =    1;
18847 +    END;
18848 +
18849 +  IF _BRANCH_ GT 0 THEN DO;
18850 +
18851 +    _BRANCH_ = -1;
18852 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
18853 +                      15.5 <= Days_Since_Last_Purchase  THEN DO;
18854 +       _BRANCH_ =    2;
18855 +      END;
18856 +    IF _BRANCH_ LT 0 THEN DO;
18857 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
18858 +    END;
18859 +    IF _BRANCH_ GT 0 THEN DO;
18860 +       _ARB_F_ + -0.019249629;
18861 +      END;
18862 +    END;
18863 +  END;
18864 +
18865 +********** LEAF    62  NODE  1368 ***************;
18866 +IF _ARB_BADF_ EQ 0 THEN DO;
18867 +
18868 +  _BRANCH_ = -1;
18869 +    IF  NOT MISSING(Average_Rating ) AND
18870 +                    3.75 <= Average_Rating  THEN DO;
18871 +     _BRANCH_ =    2;
18872 +    END;
18873 +  IF _BRANCH_ LT 0 THEN DO;
18874 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
18875 +  END;
18876 +  IF _BRANCH_ GT 0 THEN DO;
18877 +
18878 +    _BRANCH_ = -1;
18879 +      IF  NOT MISSING(Total_Spend ) AND
18880 +      Total_Spend  <                  478 THEN DO;
18881 +       _BRANCH_ =    1;
18882 +      END;
18883 +
18884 +    IF _BRANCH_ GT 0 THEN DO;
18885 +       _ARB_F_ + 0.0673302129;
18886 +      END;
18887 +    END;
18888 +  END;
18889 +
18890 +********** LEAF    63  NODE  1369 ***************;
18891 +IF _ARB_BADF_ EQ 0 THEN DO;
18892 +
18893 +  _BRANCH_ = -1;
18894 +    IF  NOT MISSING(Average_Rating ) AND
18895 +                    3.75 <= Average_Rating  THEN DO;
18896 +     _BRANCH_ =    2;
18897 +    END;
18898 +  IF _BRANCH_ LT 0 THEN DO;
18899 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
18900 +  END;
18901 +  IF _BRANCH_ GT 0 THEN DO;
18902 +
18903 +    _BRANCH_ = -1;
18904 +      IF  NOT MISSING(Total_Spend ) AND
18905 +                       478 <= Total_Spend  THEN DO;
18906 +       _BRANCH_ =    2;
18907 +      END;
18908 +    IF _BRANCH_ LT 0 THEN DO;
18909 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
18910 +    END;
18911 +    IF _BRANCH_ GT 0 THEN DO;
18912 +       _ARB_F_ + 0.0041995596;
18913 +      END;
18914 +    END;
18915 +  END;
18916 +
18917 +********** LEAF    64  NODE  1373 ***************;
18918 +IF _ARB_BADF_ EQ 0 THEN DO;
18919 +
18920 +  _BRANCH_ = -1;
18921 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18922 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
18923 +     _BRANCH_ =    1;
18924 +    END;
18925 +  IF _BRANCH_ LT 0 THEN DO;
18926 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18927 +  END;
18928 +  IF _BRANCH_ GT 0 THEN DO;
18929 +
18930 +    _BRANCH_ = -1;
18931 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18932 +     %DMNORMIP( _ARBFMT_11);
18933 +      IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
18934 +       _BRANCH_ =    1;
18935 +      END;
18936 +
18937 +    IF _BRANCH_ GT 0 THEN DO;
18938 +       _ARB_F_ + -0.013899784;
18939 +      END;
18940 +    END;
18941 +  END;
18942 +
18943 +********** LEAF    65  NODE  1374 ***************;
18944 +IF _ARB_BADF_ EQ 0 THEN DO;
18945 +
18946 +  _BRANCH_ = -1;
18947 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18948 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
18949 +     _BRANCH_ =    1;
18950 +    END;
18951 +  IF _BRANCH_ LT 0 THEN DO;
18952 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
18953 +  END;
18954 +  IF _BRANCH_ GT 0 THEN DO;
18955 +
18956 +    _BRANCH_ = -1;
18957 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
18958 +     %DMNORMIP( _ARBFMT_11);
18959 +      IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
18960 +       _BRANCH_ =    2;
18961 +      END;
18962 +    IF _BRANCH_ LT 0 THEN DO;
18963 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
18964 +      ELSE IF _ARBFMT_11 NOTIN (
18965 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
18966 +         ) THEN _BRANCH_ = 2;
18967 +    END;
18968 +    IF _BRANCH_ GT 0 THEN DO;
18969 +       _ARB_F_ + 0.0061633274;
18970 +      END;
18971 +    END;
18972 +  END;
18973 +
18974 +********** LEAF    66  NODE  1372 ***************;
18975 +IF _ARB_BADF_ EQ 0 THEN DO;
18976 +
18977 +  _BRANCH_ = -1;
18978 +    IF  NOT MISSING(LOG_IMP_Age ) AND
18979 +        4.01634243798381 <= LOG_IMP_Age  THEN DO;
18980 +     _BRANCH_ =    2;
18981 +    END;
18982 +
18983 +  IF _BRANCH_ GT 0 THEN DO;
18984 +     _ARB_F_ + -0.078419436;
18985 +    END;
18986 +  END;
18987 +
18988 +********** LEAF    67  NODE  1376 ***************;
18989 +IF _ARB_BADF_ EQ 0 THEN DO;
18990 +
18991 +  _BRANCH_ = -1;
18992 +    IF  NOT MISSING(Total_Spend ) AND
18993 +    Total_Spend  <                  407 THEN DO;
18994 +     _BRANCH_ =    1;
18995 +    END;
18996 +
18997 +  IF _BRANCH_ GT 0 THEN DO;
18998 +     _ARB_F_ + -0.116497652;
18999 +    END;
19000 +  END;
19001 +
19002 +********** LEAF    68  NODE  1378 ***************;
19003 +IF _ARB_BADF_ EQ 0 THEN DO;
19004 +
19005 +  _BRANCH_ = -1;
19006 +    IF  NOT MISSING(Total_Spend ) AND
19007 +                     407 <= Total_Spend  THEN DO;
19008 +     _BRANCH_ =    2;
19009 +    END;
19010 +  IF _BRANCH_ LT 0 THEN DO;
19011 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
19012 +  END;
19013 +  IF _BRANCH_ GT 0 THEN DO;
19014 +
19015 +    _BRANCH_ = -1;
19016 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
19017 +     %DMNORMIP( _ARBFMT_11);
19018 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ) THEN DO;
19019 +       _BRANCH_ =    1;
19020 +      END;
19021 +    IF _BRANCH_ LT 0 THEN DO;
19022 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
19023 +      ELSE IF _ARBFMT_11 NOTIN (
19024 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
19025 +         ) THEN _BRANCH_ = 1;
19026 +    END;
19027 +    IF _BRANCH_ GT 0 THEN DO;
19028 +       _ARB_F_ + -0.007225759;
19029 +      END;
19030 +    END;
19031 +  END;
19032 +
19033 +********** LEAF    69  NODE  1379 ***************;
19034 +IF _ARB_BADF_ EQ 0 THEN DO;
19035 +
19036 +  _BRANCH_ = -1;
19037 +    IF  NOT MISSING(Total_Spend ) AND
19038 +                     407 <= Total_Spend  THEN DO;
19039 +     _BRANCH_ =    2;
19040 +    END;
19041 +  IF _BRANCH_ LT 0 THEN DO;
19042 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
19043 +  END;
19044 +  IF _BRANCH_ GT 0 THEN DO;
19045 +
19046 +    _BRANCH_ = -1;
19047 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
19048 +     %DMNORMIP( _ARBFMT_11);
19049 +      IF _ARBFMT_11 IN ('BOOKS' ,'HOME GOODS' ) THEN DO;
19050 +       _BRANCH_ =    2;
19051 +      END;
19052 +
19053 +    IF _BRANCH_ GT 0 THEN DO;
19054 +       _ARB_F_ + 0.0090235886;
19055 +      END;
19056 +    END;
19057 +  END;
19058 +
19059 +********** LEAF    70  NODE  1381 ***************;
19060 +IF _ARB_BADF_ EQ 0 THEN DO;
19061 +
19062 +  _BRANCH_ = -1;
19063 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19064 +    LOG_Items_Purchased  <     2.01267584536757 THEN DO;
19065 +     _BRANCH_ =    1;
19066 +    END;
19067 +
19068 +  IF _BRANCH_ GT 0 THEN DO;
19069 +     _ARB_F_ + 0.0701785937;
19070 +    END;
19071 +  END;
19072 +
19073 +********** LEAF    71  NODE  1383 ***************;
19074 +IF _ARB_BADF_ EQ 0 THEN DO;
19075 +
19076 +  _BRANCH_ = -1;
19077 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19078 +        2.01267584536757 <= LOG_Items_Purchased  THEN DO;
19079 +     _BRANCH_ =    2;
19080 +    END;
19081 +  IF _BRANCH_ LT 0 THEN DO;
19082 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19083 +  END;
19084 +  IF _BRANCH_ GT 0 THEN DO;
19085 +
19086 +    _BRANCH_ = -1;
19087 +    _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
19088 +     %DMNORMIP( _ARBFMT_12);
19089 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
19090 +       _BRANCH_ =    1;
19091 +      END;
19092 +    IF _BRANCH_ LT 0 THEN DO;
19093 +       IF MISSING( Discount_Applied_Binary  ) THEN _BRANCH_ = 1;
19094 +      ELSE IF _ARBFMT_12 NOTIN (
19095 +        '1' ,'0'
19096 +         ) THEN _BRANCH_ = 1;
19097 +    END;
19098 +    IF _BRANCH_ GT 0 THEN DO;
19099 +       _ARB_F_ + 0.0068300687;
19100 +      END;
19101 +    END;
19102 +  END;
19103 +
19104 +********** LEAF    72  NODE  1384 ***************;
19105 +IF _ARB_BADF_ EQ 0 THEN DO;
19106 +
19107 +  _BRANCH_ = -1;
19108 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19109 +        2.01267584536757 <= LOG_Items_Purchased  THEN DO;
19110 +     _BRANCH_ =    2;
19111 +    END;
19112 +  IF _BRANCH_ LT 0 THEN DO;
19113 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19114 +  END;
19115 +  IF _BRANCH_ GT 0 THEN DO;
19116 +
19117 +    _BRANCH_ = -1;
19118 +    _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
19119 +     %DMNORMIP( _ARBFMT_12);
19120 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
19121 +       _BRANCH_ =    2;
19122 +      END;
19123 +
19124 +    IF _BRANCH_ GT 0 THEN DO;
19125 +       _ARB_F_ + -0.009883411;
19126 +      END;
19127 +    END;
19128 +  END;
19129 +
19130 +********** LEAF    73  NODE  1388 ***************;
19131 +IF _ARB_BADF_ EQ 0 THEN DO;
19132 +
19133 +  _BRANCH_ = -1;
19134 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19135 +   %DMNORMIP( _ARBFMT_11);
19136 +    IF _ARBFMT_11 IN ('SATISFIED' ) THEN DO;
19137 +     _BRANCH_ =    1;
19138 +    END;
19139 +
19140 +  IF _BRANCH_ GT 0 THEN DO;
19141 +
19142 +    _BRANCH_ = -1;
19143 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
19144 +     %DMNORMIP( _ARBFMT_6);
19145 +      IF _ARBFMT_6 IN ('GOLD' ) THEN DO;
19146 +       _BRANCH_ =    1;
19147 +      END;
19148 +    IF _BRANCH_ LT 0 THEN DO;
19149 +       IF MISSING( Membership_Type  ) THEN _BRANCH_ = 1;
19150 +      ELSE IF _ARBFMT_6 NOTIN (
19151 +        'GOLD' ,'SILVER' ,'BRONZE'
19152 +         ) THEN _BRANCH_ = 1;
19153 +    END;
19154 +    IF _BRANCH_ GT 0 THEN DO;
19155 +       _ARB_F_ + 0.0111381234;
19156 +      END;
19157 +    END;
19158 +  END;
19159 +
19160 +********** LEAF    74  NODE  1389 ***************;
19161 +IF _ARB_BADF_ EQ 0 THEN DO;
19162 +
19163 +  _BRANCH_ = -1;
19164 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19165 +   %DMNORMIP( _ARBFMT_11);
19166 +    IF _ARBFMT_11 IN ('SATISFIED' ) THEN DO;
19167 +     _BRANCH_ =    1;
19168 +    END;
19169 +
19170 +  IF _BRANCH_ GT 0 THEN DO;
19171 +
19172 +    _BRANCH_ = -1;
19173 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
19174 +     %DMNORMIP( _ARBFMT_6);
19175 +      IF _ARBFMT_6 IN ('SILVER' ,'BRONZE' ) THEN DO;
19176 +       _BRANCH_ =    2;
19177 +      END;
19178 +
19179 +    IF _BRANCH_ GT 0 THEN DO;
19180 +       _ARB_F_ + -0.040302872;
19181 +      END;
19182 +    END;
19183 +  END;
19184 +
19185 +********** LEAF    75  NODE  1390 ***************;
19186 +IF _ARB_BADF_ EQ 0 THEN DO;
19187 +
19188 +  _BRANCH_ = -1;
19189 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19190 +   %DMNORMIP( _ARBFMT_11);
19191 +    IF _ARBFMT_11 IN ('NEUTRAL' ,'UNSATISFIED' ) THEN DO;
19192 +     _BRANCH_ =    2;
19193 +    END;
19194 +  IF _BRANCH_ LT 0 THEN DO;
19195 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 2;
19196 +    ELSE IF _ARBFMT_11 NOTIN (
19197 +      'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
19198 +       ) THEN _BRANCH_ = 2;
19199 +  END;
19200 +  IF _BRANCH_ GT 0 THEN DO;
19201 +
19202 +    _BRANCH_ = -1;
19203 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
19204 +     %DMNORMIP( _ARBFMT_11);
19205 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ) THEN DO;
19206 +       _BRANCH_ =    1;
19207 +      END;
19208 +    IF _BRANCH_ LT 0 THEN DO;
19209 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
19210 +      ELSE IF _ARBFMT_11 NOTIN (
19211 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
19212 +         ) THEN _BRANCH_ = 1;
19213 +    END;
19214 +    IF _BRANCH_ GT 0 THEN DO;
19215 +       _ARB_F_ + -0.006714082;
19216 +      END;
19217 +    END;
19218 +  END;
19219 +
19220 +********** LEAF    76  NODE  1391 ***************;
19221 +IF _ARB_BADF_ EQ 0 THEN DO;
19222 +
19223 +  _BRANCH_ = -1;
19224 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19225 +   %DMNORMIP( _ARBFMT_11);
19226 +    IF _ARBFMT_11 IN ('NEUTRAL' ,'UNSATISFIED' ) THEN DO;
19227 +     _BRANCH_ =    2;
19228 +    END;
19229 +  IF _BRANCH_ LT 0 THEN DO;
19230 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 2;
19231 +    ELSE IF _ARBFMT_11 NOTIN (
19232 +      'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
19233 +       ) THEN _BRANCH_ = 2;
19234 +  END;
19235 +  IF _BRANCH_ GT 0 THEN DO;
19236 +
19237 +    _BRANCH_ = -1;
19238 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
19239 +     %DMNORMIP( _ARBFMT_11);
19240 +      IF _ARBFMT_11 IN ('BOOKS' ,'HOME GOODS' ) THEN DO;
19241 +       _BRANCH_ =    2;
19242 +      END;
19243 +
19244 +    IF _BRANCH_ GT 0 THEN DO;
19245 +       _ARB_F_ + 0.0198463995;
19246 +      END;
19247 +    END;
19248 +  END;
19249 +
19250 +********** LEAF    77  NODE  1395 ***************;
19251 +IF _ARB_BADF_ EQ 0 THEN DO;
19252 +
19253 +  _BRANCH_ = -1;
19254 +    IF  NOT MISSING(Total_Spend ) AND
19255 +    Total_Spend  <               1497.5 THEN DO;
19256 +     _BRANCH_ =    1;
19257 +    END;
19258 +  IF _BRANCH_ LT 0 THEN DO;
19259 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19260 +  END;
19261 +  IF _BRANCH_ GT 0 THEN DO;
19262 +
19263 +    _BRANCH_ = -1;
19264 +      IF  NOT MISSING(Average_Rating ) AND
19265 +      Average_Rating  <                 3.75 THEN DO;
19266 +       _BRANCH_ =    1;
19267 +      END;
19268 +
19269 +    IF _BRANCH_ GT 0 THEN DO;
19270 +       _ARB_F_ + -0.012755568;
19271 +      END;
19272 +    END;
19273 +  END;
19274 +
19275 +********** LEAF    78  NODE  1396 ***************;
19276 +IF _ARB_BADF_ EQ 0 THEN DO;
19277 +
19278 +  _BRANCH_ = -1;
19279 +    IF  NOT MISSING(Total_Spend ) AND
19280 +    Total_Spend  <               1497.5 THEN DO;
19281 +     _BRANCH_ =    1;
19282 +    END;
19283 +  IF _BRANCH_ LT 0 THEN DO;
19284 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19285 +  END;
19286 +  IF _BRANCH_ GT 0 THEN DO;
19287 +
19288 +    _BRANCH_ = -1;
19289 +      IF  NOT MISSING(Average_Rating ) AND
19290 +                      3.75 <= Average_Rating  THEN DO;
19291 +       _BRANCH_ =    2;
19292 +      END;
19293 +    IF _BRANCH_ LT 0 THEN DO;
19294 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
19295 +    END;
19296 +    IF _BRANCH_ GT 0 THEN DO;
19297 +       _ARB_F_ + 0.0078264154;
19298 +      END;
19299 +    END;
19300 +  END;
19301 +
19302 +********** LEAF    79  NODE  1394 ***************;
19303 +IF _ARB_BADF_ EQ 0 THEN DO;
19304 +
19305 +  _BRANCH_ = -1;
19306 +    IF  NOT MISSING(Total_Spend ) AND
19307 +                  1497.5 <= Total_Spend  THEN DO;
19308 +     _BRANCH_ =    2;
19309 +    END;
19310 +
19311 +  IF _BRANCH_ GT 0 THEN DO;
19312 +     _ARB_F_ + -0.09242734;
19313 +    END;
19314 +  END;
19315 +
19316 +********** LEAF    80  NODE  1400 ***************;
19317 +IF _ARB_BADF_ EQ 0 THEN DO;
19318 +
19319 +  _BRANCH_ = -1;
19320 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19321 +    Days_Since_Last_Purchase  <                 49.5 THEN DO;
19322 +     _BRANCH_ =    1;
19323 +    END;
19324 +  IF _BRANCH_ LT 0 THEN DO;
19325 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
19326 +  END;
19327 +  IF _BRANCH_ GT 0 THEN DO;
19328 +
19329 +    _BRANCH_ = -1;
19330 +    _ARBFMT_13 = PUT( City , $13.);
19331 +     %DMNORMIP( _ARBFMT_13);
19332 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ) THEN DO;
19333 +       _BRANCH_ =    1;
19334 +      END;
19335 +
19336 +    IF _BRANCH_ GT 0 THEN DO;
19337 +       _ARB_F_ + -0.015821198;
19338 +      END;
19339 +    END;
19340 +  END;
19341 +
19342 +********** LEAF    81  NODE  1401 ***************;
19343 +IF _ARB_BADF_ EQ 0 THEN DO;
19344 +
19345 +  _BRANCH_ = -1;
19346 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19347 +    Days_Since_Last_Purchase  <                 49.5 THEN DO;
19348 +     _BRANCH_ =    1;
19349 +    END;
19350 +  IF _BRANCH_ LT 0 THEN DO;
19351 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
19352 +  END;
19353 +  IF _BRANCH_ GT 0 THEN DO;
19354 +
19355 +    _BRANCH_ = -1;
19356 +    _ARBFMT_13 = PUT( City , $13.);
19357 +     %DMNORMIP( _ARBFMT_13);
19358 +      IF _ARBFMT_13 IN ('LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ) THEN DO;
19359 +       _BRANCH_ =    2;
19360 +      END;
19361 +    IF _BRANCH_ LT 0 THEN DO;
19362 +       IF MISSING( City  ) THEN _BRANCH_ = 2;
19363 +      ELSE IF _ARBFMT_13 NOTIN (
19364 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
19365 +        'CHICAGO'
19366 +         ) THEN _BRANCH_ = 2;
19367 +    END;
19368 +    IF _BRANCH_ GT 0 THEN DO;
19369 +       _ARB_F_ + 0.0044617597;
19370 +      END;
19371 +    END;
19372 +  END;
19373 +
19374 +********** LEAF    82  NODE  1402 ***************;
19375 +IF _ARB_BADF_ EQ 0 THEN DO;
19376 +
19377 +  _BRANCH_ = -1;
19378 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19379 +                    49.5 <= Days_Since_Last_Purchase  THEN DO;
19380 +     _BRANCH_ =    2;
19381 +    END;
19382 +
19383 +  IF _BRANCH_ GT 0 THEN DO;
19384 +
19385 +    _BRANCH_ = -1;
19386 +      IF  NOT MISSING(Total_Spend ) AND
19387 +      Total_Spend  <               1351.5 THEN DO;
19388 +       _BRANCH_ =    1;
19389 +      END;
19390 +    IF _BRANCH_ LT 0 THEN DO;
19391 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19392 +    END;
19393 +    IF _BRANCH_ GT 0 THEN DO;
19394 +       _ARB_F_ + 0.0166661841;
19395 +      END;
19396 +    END;
19397 +  END;
19398 +
19399 +********** LEAF    83  NODE  1403 ***************;
19400 +IF _ARB_BADF_ EQ 0 THEN DO;
19401 +
19402 +  _BRANCH_ = -1;
19403 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19404 +                    49.5 <= Days_Since_Last_Purchase  THEN DO;
19405 +     _BRANCH_ =    2;
19406 +    END;
19407 +
19408 +  IF _BRANCH_ GT 0 THEN DO;
19409 +
19410 +    _BRANCH_ = -1;
19411 +      IF  NOT MISSING(Total_Spend ) AND
19412 +                    1351.5 <= Total_Spend  THEN DO;
19413 +       _BRANCH_ =    2;
19414 +      END;
19415 +
19416 +    IF _BRANCH_ GT 0 THEN DO;
19417 +       _ARB_F_ + 0.0888723709;
19418 +      END;
19419 +    END;
19420 +  END;
19421 +
19422 +********** LEAF    84  NODE  1407 ***************;
19423 +IF _ARB_BADF_ EQ 0 THEN DO;
19424 +
19425 +  _BRANCH_ = -1;
19426 +    IF  NOT MISSING(Average_Rating ) AND
19427 +    Average_Rating  <                 4.15 THEN DO;
19428 +     _BRANCH_ =    1;
19429 +    END;
19430 +  IF _BRANCH_ LT 0 THEN DO;
19431 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
19432 +  END;
19433 +  IF _BRANCH_ GT 0 THEN DO;
19434 +
19435 +    _BRANCH_ = -1;
19436 +      IF  NOT MISSING(Total_Spend ) AND
19437 +      Total_Spend  <               1386.5 THEN DO;
19438 +       _BRANCH_ =    1;
19439 +      END;
19440 +    IF _BRANCH_ LT 0 THEN DO;
19441 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19442 +    END;
19443 +    IF _BRANCH_ GT 0 THEN DO;
19444 +       _ARB_F_ + 0.0049725299;
19445 +      END;
19446 +    END;
19447 +  END;
19448 +
19449 +********** LEAF    85  NODE  1408 ***************;
19450 +IF _ARB_BADF_ EQ 0 THEN DO;
19451 +
19452 +  _BRANCH_ = -1;
19453 +    IF  NOT MISSING(Average_Rating ) AND
19454 +    Average_Rating  <                 4.15 THEN DO;
19455 +     _BRANCH_ =    1;
19456 +    END;
19457 +  IF _BRANCH_ LT 0 THEN DO;
19458 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
19459 +  END;
19460 +  IF _BRANCH_ GT 0 THEN DO;
19461 +
19462 +    _BRANCH_ = -1;
19463 +      IF  NOT MISSING(Total_Spend ) AND
19464 +                    1386.5 <= Total_Spend  THEN DO;
19465 +       _BRANCH_ =    2;
19466 +      END;
19467 +
19468 +    IF _BRANCH_ GT 0 THEN DO;
19469 +       _ARB_F_ + 0.0572690196;
19470 +      END;
19471 +    END;
19472 +  END;
19473 +
19474 +********** LEAF    86  NODE  1409 ***************;
19475 +IF _ARB_BADF_ EQ 0 THEN DO;
19476 +
19477 +  _BRANCH_ = -1;
19478 +    IF  NOT MISSING(Average_Rating ) AND
19479 +                    4.15 <= Average_Rating  THEN DO;
19480 +     _BRANCH_ =    2;
19481 +    END;
19482 +
19483 +  IF _BRANCH_ GT 0 THEN DO;
19484 +
19485 +    _BRANCH_ = -1;
19486 +    _ARBFMT_13 = PUT( City , $13.);
19487 +     %DMNORMIP( _ARBFMT_13);
19488 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,
19489 +      'HOUSTON' ,'CHICAGO' ) THEN DO;
19490 +       _BRANCH_ =    1;
19491 +      END;
19492 +    IF _BRANCH_ LT 0 THEN DO;
19493 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
19494 +      ELSE IF _ARBFMT_13 NOTIN (
19495 +        'NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ,
19496 +        'MIAMI'
19497 +         ) THEN _BRANCH_ = 1;
19498 +    END;
19499 +    IF _BRANCH_ GT 0 THEN DO;
19500 +       _ARB_F_ + -0.004141362;
19501 +      END;
19502 +    END;
19503 +  END;
19504 +
19505 +********** LEAF    87  NODE  1410 ***************;
19506 +IF _ARB_BADF_ EQ 0 THEN DO;
19507 +
19508 +  _BRANCH_ = -1;
19509 +    IF  NOT MISSING(Average_Rating ) AND
19510 +                    4.15 <= Average_Rating  THEN DO;
19511 +     _BRANCH_ =    2;
19512 +    END;
19513 +
19514 +  IF _BRANCH_ GT 0 THEN DO;
19515 +
19516 +    _BRANCH_ = -1;
19517 +    _ARBFMT_13 = PUT( City , $13.);
19518 +     %DMNORMIP( _ARBFMT_13);
19519 +      IF _ARBFMT_13 IN ('MIAMI' ) THEN DO;
19520 +       _BRANCH_ =    2;
19521 +      END;
19522 +
19523 +    IF _BRANCH_ GT 0 THEN DO;
19524 +       _ARB_F_ + -0.046276368;
19525 +      END;
19526 +    END;
19527 +  END;
19528 +
19529 +********** LEAF    88  NODE  1414 ***************;
19530 +IF _ARB_BADF_ EQ 0 THEN DO;
19531 +
19532 +  _BRANCH_ = -1;
19533 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19534 +    LOG_Items_Purchased  <     2.24990483516513 THEN DO;
19535 +     _BRANCH_ =    1;
19536 +    END;
19537 +
19538 +  IF _BRANCH_ GT 0 THEN DO;
19539 +
19540 +    _BRANCH_ = -1;
19541 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19542 +      Days_Since_Last_Purchase  <                 25.5 THEN DO;
19543 +       _BRANCH_ =    1;
19544 +      END;
19545 +    IF _BRANCH_ LT 0 THEN DO;
19546 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
19547 +    END;
19548 +    IF _BRANCH_ GT 0 THEN DO;
19549 +       _ARB_F_ + 0.0163243579;
19550 +      END;
19551 +    END;
19552 +  END;
19553 +
19554 +********** LEAF    89  NODE  1415 ***************;
19555 +IF _ARB_BADF_ EQ 0 THEN DO;
19556 +
19557 +  _BRANCH_ = -1;
19558 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19559 +    LOG_Items_Purchased  <     2.24990483516513 THEN DO;
19560 +     _BRANCH_ =    1;
19561 +    END;
19562 +
19563 +  IF _BRANCH_ GT 0 THEN DO;
19564 +
19565 +    _BRANCH_ = -1;
19566 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
19567 +                      25.5 <= Days_Since_Last_Purchase  THEN DO;
19568 +       _BRANCH_ =    2;
19569 +      END;
19570 +
19571 +    IF _BRANCH_ GT 0 THEN DO;
19572 +       _ARB_F_ + -0.058324233;
19573 +      END;
19574 +    END;
19575 +  END;
19576 +
19577 +********** LEAF    90  NODE  1416 ***************;
19578 +IF _ARB_BADF_ EQ 0 THEN DO;
19579 +
19580 +  _BRANCH_ = -1;
19581 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19582 +        2.24990483516513 <= LOG_Items_Purchased  THEN DO;
19583 +     _BRANCH_ =    2;
19584 +    END;
19585 +  IF _BRANCH_ LT 0 THEN DO;
19586 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19587 +  END;
19588 +  IF _BRANCH_ GT 0 THEN DO;
19589 +
19590 +    _BRANCH_ = -1;
19591 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
19592 +      LOG_Items_Purchased  <     3.38424660582431 THEN DO;
19593 +       _BRANCH_ =    1;
19594 +      END;
19595 +    IF _BRANCH_ LT 0 THEN DO;
19596 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
19597 +    END;
19598 +    IF _BRANCH_ GT 0 THEN DO;
19599 +       _ARB_F_ + 0.0089265987;
19600 +      END;
19601 +    END;
19602 +  END;
19603 +
19604 +********** LEAF    91  NODE  1417 ***************;
19605 +IF _ARB_BADF_ EQ 0 THEN DO;
19606 +
19607 +  _BRANCH_ = -1;
19608 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19609 +        2.24990483516513 <= LOG_Items_Purchased  THEN DO;
19610 +     _BRANCH_ =    2;
19611 +    END;
19612 +  IF _BRANCH_ LT 0 THEN DO;
19613 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19614 +  END;
19615 +  IF _BRANCH_ GT 0 THEN DO;
19616 +
19617 +    _BRANCH_ = -1;
19618 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
19619 +          3.38424660582431 <= LOG_Items_Purchased  THEN DO;
19620 +       _BRANCH_ =    2;
19621 +      END;
19622 +
19623 +    IF _BRANCH_ GT 0 THEN DO;
19624 +       _ARB_F_ + -0.008112077;
19625 +      END;
19626 +    END;
19627 +  END;
19628 +
19629 +********** LEAF    92  NODE  1421 ***************;
19630 +IF _ARB_BADF_ EQ 0 THEN DO;
19631 +
19632 +  _BRANCH_ = -1;
19633 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19634 +    LOG_Items_Purchased  <     2.01267584536757 THEN DO;
19635 +     _BRANCH_ =    1;
19636 +    END;
19637 +
19638 +  IF _BRANCH_ GT 0 THEN DO;
19639 +
19640 +    _BRANCH_ = -1;
19641 +      IF  NOT MISSING(Total_Spend ) AND
19642 +      Total_Spend  <                 1225 THEN DO;
19643 +       _BRANCH_ =    1;
19644 +      END;
19645 +    IF _BRANCH_ LT 0 THEN DO;
19646 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19647 +    END;
19648 +    IF _BRANCH_ GT 0 THEN DO;
19649 +       _ARB_F_ + 0.0947148483;
19650 +      END;
19651 +    END;
19652 +  END;
19653 +
19654 +********** LEAF    93  NODE  1422 ***************;
19655 +IF _ARB_BADF_ EQ 0 THEN DO;
19656 +
19657 +  _BRANCH_ = -1;
19658 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19659 +    LOG_Items_Purchased  <     2.01267584536757 THEN DO;
19660 +     _BRANCH_ =    1;
19661 +    END;
19662 +
19663 +  IF _BRANCH_ GT 0 THEN DO;
19664 +
19665 +    _BRANCH_ = -1;
19666 +      IF  NOT MISSING(Total_Spend ) AND
19667 +                      1225 <= Total_Spend  THEN DO;
19668 +       _BRANCH_ =    2;
19669 +      END;
19670 +
19671 +    IF _BRANCH_ GT 0 THEN DO;
19672 +       _ARB_F_ + -0.122322613;
19673 +      END;
19674 +    END;
19675 +  END;
19676 +
19677 +********** LEAF    94  NODE  1423 ***************;
19678 +IF _ARB_BADF_ EQ 0 THEN DO;
19679 +
19680 +  _BRANCH_ = -1;
19681 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19682 +        2.01267584536757 <= LOG_Items_Purchased  THEN DO;
19683 +     _BRANCH_ =    2;
19684 +    END;
19685 +  IF _BRANCH_ LT 0 THEN DO;
19686 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19687 +  END;
19688 +  IF _BRANCH_ GT 0 THEN DO;
19689 +
19690 +    _BRANCH_ = -1;
19691 +      IF  NOT MISSING(Total_Spend ) AND
19692 +      Total_Spend  <              1491.55 THEN DO;
19693 +       _BRANCH_ =    1;
19694 +      END;
19695 +    IF _BRANCH_ LT 0 THEN DO;
19696 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19697 +    END;
19698 +    IF _BRANCH_ GT 0 THEN DO;
19699 +       _ARB_F_ + -0.002332471;
19700 +      END;
19701 +    END;
19702 +  END;
19703 +
19704 +********** LEAF    95  NODE  1424 ***************;
19705 +IF _ARB_BADF_ EQ 0 THEN DO;
19706 +
19707 +  _BRANCH_ = -1;
19708 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19709 +        2.01267584536757 <= LOG_Items_Purchased  THEN DO;
19710 +     _BRANCH_ =    2;
19711 +    END;
19712 +  IF _BRANCH_ LT 0 THEN DO;
19713 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19714 +  END;
19715 +  IF _BRANCH_ GT 0 THEN DO;
19716 +
19717 +    _BRANCH_ = -1;
19718 +      IF  NOT MISSING(Total_Spend ) AND
19719 +                   1491.55 <= Total_Spend  THEN DO;
19720 +       _BRANCH_ =    2;
19721 +      END;
19722 +
19723 +    IF _BRANCH_ GT 0 THEN DO;
19724 +       _ARB_F_ + 0.0738433635;
19725 +      END;
19726 +    END;
19727 +  END;
19728 +
19729 +********** LEAF    96  NODE  1426 ***************;
19730 +IF _ARB_BADF_ EQ 0 THEN DO;
19731 +
19732 +  _BRANCH_ = -1;
19733 +    IF  NOT MISSING(Total_Spend ) AND
19734 +    Total_Spend  <                  405 THEN DO;
19735 +     _BRANCH_ =    1;
19736 +    END;
19737 +
19738 +  IF _BRANCH_ GT 0 THEN DO;
19739 +     _ARB_F_ + -0.104627508;
19740 +    END;
19741 +  END;
19742 +
19743 +********** LEAF    97  NODE  1428 ***************;
19744 +IF _ARB_BADF_ EQ 0 THEN DO;
19745 +
19746 +  _BRANCH_ = -1;
19747 +    IF  NOT MISSING(Total_Spend ) AND
19748 +                     405 <= Total_Spend  THEN DO;
19749 +     _BRANCH_ =    2;
19750 +    END;
19751 +  IF _BRANCH_ LT 0 THEN DO;
19752 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
19753 +  END;
19754 +  IF _BRANCH_ GT 0 THEN DO;
19755 +
19756 +    _BRANCH_ = -1;
19757 +      IF  NOT MISSING(Total_Spend ) AND
19758 +      Total_Spend  <               1463.5 THEN DO;
19759 +       _BRANCH_ =    1;
19760 +      END;
19761 +    IF _BRANCH_ LT 0 THEN DO;
19762 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
19763 +    END;
19764 +    IF _BRANCH_ GT 0 THEN DO;
19765 +       _ARB_F_ + 0.0032548686;
19766 +      END;
19767 +    END;
19768 +  END;
19769 +
19770 +********** LEAF    98  NODE  1429 ***************;
19771 +IF _ARB_BADF_ EQ 0 THEN DO;
19772 +
19773 +  _BRANCH_ = -1;
19774 +    IF  NOT MISSING(Total_Spend ) AND
19775 +                     405 <= Total_Spend  THEN DO;
19776 +     _BRANCH_ =    2;
19777 +    END;
19778 +  IF _BRANCH_ LT 0 THEN DO;
19779 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
19780 +  END;
19781 +  IF _BRANCH_ GT 0 THEN DO;
19782 +
19783 +    _BRANCH_ = -1;
19784 +      IF  NOT MISSING(Total_Spend ) AND
19785 +                    1463.5 <= Total_Spend  THEN DO;
19786 +       _BRANCH_ =    2;
19787 +      END;
19788 +
19789 +    IF _BRANCH_ GT 0 THEN DO;
19790 +       _ARB_F_ + -0.031404541;
19791 +      END;
19792 +    END;
19793 +  END;
19794 +
19795 +********** LEAF    99  NODE  1433 ***************;
19796 +IF _ARB_BADF_ EQ 0 THEN DO;
19797 +
19798 +  _BRANCH_ = -1;
19799 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19800 +   %DMNORMIP( _ARBFMT_11);
19801 +    IF _ARBFMT_11 IN ('SATISFIED' ,'NEUTRAL' ) THEN DO;
19802 +     _BRANCH_ =    1;
19803 +    END;
19804 +  IF _BRANCH_ LT 0 THEN DO;
19805 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 1;
19806 +    ELSE IF _ARBFMT_11 NOTIN (
19807 +      'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
19808 +       ) THEN _BRANCH_ = 1;
19809 +  END;
19810 +  IF _BRANCH_ GT 0 THEN DO;
19811 +
19812 +    _BRANCH_ = -1;
19813 +      IF  NOT MISSING(LOG_IMP_Age ) AND
19814 +      LOG_IMP_Age  <     3.56943349997276 THEN DO;
19815 +       _BRANCH_ =    1;
19816 +      END;
19817 +    IF _BRANCH_ LT 0 THEN DO;
19818 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
19819 +    END;
19820 +    IF _BRANCH_ GT 0 THEN DO;
19821 +       _ARB_F_ + 0.0035460862;
19822 +      END;
19823 +    END;
19824 +  END;
19825 +
19826 +********** LEAF   100  NODE  1434 ***************;
19827 +IF _ARB_BADF_ EQ 0 THEN DO;
19828 +
19829 +  _BRANCH_ = -1;
19830 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19831 +   %DMNORMIP( _ARBFMT_11);
19832 +    IF _ARBFMT_11 IN ('SATISFIED' ,'NEUTRAL' ) THEN DO;
19833 +     _BRANCH_ =    1;
19834 +    END;
19835 +  IF _BRANCH_ LT 0 THEN DO;
19836 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 1;
19837 +    ELSE IF _ARBFMT_11 NOTIN (
19838 +      'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
19839 +       ) THEN _BRANCH_ = 1;
19840 +  END;
19841 +  IF _BRANCH_ GT 0 THEN DO;
19842 +
19843 +    _BRANCH_ = -1;
19844 +      IF  NOT MISSING(LOG_IMP_Age ) AND
19845 +          3.56943349997276 <= LOG_IMP_Age  THEN DO;
19846 +       _BRANCH_ =    2;
19847 +      END;
19848 +
19849 +    IF _BRANCH_ GT 0 THEN DO;
19850 +       _ARB_F_ + -0.017447881;
19851 +      END;
19852 +    END;
19853 +  END;
19854 +
19855 +********** LEAF   101  NODE  1435 ***************;
19856 +IF _ARB_BADF_ EQ 0 THEN DO;
19857 +
19858 +  _BRANCH_ = -1;
19859 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19860 +   %DMNORMIP( _ARBFMT_11);
19861 +    IF _ARBFMT_11 IN ('UNSATISFIED' ) THEN DO;
19862 +     _BRANCH_ =    2;
19863 +    END;
19864 +
19865 +  IF _BRANCH_ GT 0 THEN DO;
19866 +
19867 +    _BRANCH_ = -1;
19868 +      IF  NOT MISSING(Total_Spend ) AND
19869 +      Total_Spend  <                685.3 THEN DO;
19870 +       _BRANCH_ =    1;
19871 +      END;
19872 +
19873 +    IF _BRANCH_ GT 0 THEN DO;
19874 +       _ARB_F_ + 0.0383101008;
19875 +      END;
19876 +    END;
19877 +  END;
19878 +
19879 +********** LEAF   102  NODE  1436 ***************;
19880 +IF _ARB_BADF_ EQ 0 THEN DO;
19881 +
19882 +  _BRANCH_ = -1;
19883 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
19884 +   %DMNORMIP( _ARBFMT_11);
19885 +    IF _ARBFMT_11 IN ('UNSATISFIED' ) THEN DO;
19886 +     _BRANCH_ =    2;
19887 +    END;
19888 +
19889 +  IF _BRANCH_ GT 0 THEN DO;
19890 +
19891 +    _BRANCH_ = -1;
19892 +      IF  NOT MISSING(Total_Spend ) AND
19893 +                     685.3 <= Total_Spend  THEN DO;
19894 +       _BRANCH_ =    2;
19895 +      END;
19896 +    IF _BRANCH_ LT 0 THEN DO;
19897 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
19898 +    END;
19899 +    IF _BRANCH_ GT 0 THEN DO;
19900 +       _ARB_F_ + -0.003154449;
19901 +      END;
19902 +    END;
19903 +  END;
19904 +
19905 +********** LEAF   103  NODE  1440 ***************;
19906 +IF _ARB_BADF_ EQ 0 THEN DO;
19907 +
19908 +  _BRANCH_ = -1;
19909 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19910 +    LOG_Items_Purchased  <     2.97008562636021 THEN DO;
19911 +     _BRANCH_ =    1;
19912 +    END;
19913 +
19914 +  IF _BRANCH_ GT 0 THEN DO;
19915 +
19916 +    _BRANCH_ = -1;
19917 +    _ARBFMT_13 = PUT( City , $13.);
19918 +     %DMNORMIP( _ARBFMT_13);
19919 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
19920 +      'HOUSTON' ) THEN DO;
19921 +       _BRANCH_ =    1;
19922 +      END;
19923 +    IF _BRANCH_ LT 0 THEN DO;
19924 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
19925 +      ELSE IF _ARBFMT_13 NOTIN (
19926 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
19927 +        'CHICAGO'
19928 +         ) THEN _BRANCH_ = 1;
19929 +    END;
19930 +    IF _BRANCH_ GT 0 THEN DO;
19931 +       _ARB_F_ + 0.0167193107;
19932 +      END;
19933 +    END;
19934 +  END;
19935 +
19936 +********** LEAF   104  NODE  1441 ***************;
19937 +IF _ARB_BADF_ EQ 0 THEN DO;
19938 +
19939 +  _BRANCH_ = -1;
19940 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19941 +    LOG_Items_Purchased  <     2.97008562636021 THEN DO;
19942 +     _BRANCH_ =    1;
19943 +    END;
19944 +
19945 +  IF _BRANCH_ GT 0 THEN DO;
19946 +
19947 +    _BRANCH_ = -1;
19948 +    _ARBFMT_13 = PUT( City , $13.);
19949 +     %DMNORMIP( _ARBFMT_13);
19950 +      IF _ARBFMT_13 IN ('CHICAGO' ) THEN DO;
19951 +       _BRANCH_ =    2;
19952 +      END;
19953 +
19954 +    IF _BRANCH_ GT 0 THEN DO;
19955 +       _ARB_F_ + -0.019098398;
19956 +      END;
19957 +    END;
19958 +  END;
19959 +
19960 +********** LEAF   105  NODE  1442 ***************;
19961 +IF _ARB_BADF_ EQ 0 THEN DO;
19962 +
19963 +  _BRANCH_ = -1;
19964 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19965 +        2.97008562636021 <= LOG_Items_Purchased  THEN DO;
19966 +     _BRANCH_ =    2;
19967 +    END;
19968 +  IF _BRANCH_ LT 0 THEN DO;
19969 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19970 +  END;
19971 +  IF _BRANCH_ GT 0 THEN DO;
19972 +
19973 +    _BRANCH_ = -1;
19974 +      IF  NOT MISSING(LOG_IMP_Age ) AND
19975 +      LOG_IMP_Age  <     3.41759229307365 THEN DO;
19976 +       _BRANCH_ =    1;
19977 +      END;
19978 +
19979 +    IF _BRANCH_ GT 0 THEN DO;
19980 +       _ARB_F_ + 0.0129816783;
19981 +      END;
19982 +    END;
19983 +  END;
19984 +
19985 +********** LEAF   106  NODE  1443 ***************;
19986 +IF _ARB_BADF_ EQ 0 THEN DO;
19987 +
19988 +  _BRANCH_ = -1;
19989 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
19990 +        2.97008562636021 <= LOG_Items_Purchased  THEN DO;
19991 +     _BRANCH_ =    2;
19992 +    END;
19993 +  IF _BRANCH_ LT 0 THEN DO;
19994 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
19995 +  END;
19996 +  IF _BRANCH_ GT 0 THEN DO;
19997 +
19998 +    _BRANCH_ = -1;
19999 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20000 +          3.41759229307365 <= LOG_IMP_Age  THEN DO;
20001 +       _BRANCH_ =    2;
20002 +      END;
20003 +    IF _BRANCH_ LT 0 THEN DO;
20004 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
20005 +    END;
20006 +    IF _BRANCH_ GT 0 THEN DO;
20007 +       _ARB_F_ + -0.018039397;
20008 +      END;
20009 +    END;
20010 +  END;
20011 +
20012 +********** LEAF   107  NODE  1447 ***************;
20013 +IF _ARB_BADF_ EQ 0 THEN DO;
20014 +
20015 +  _BRANCH_ = -1;
20016 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
20017 +   %DMNORMIP( _ARBFMT_12);
20018 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
20019 +     _BRANCH_ =    1;
20020 +    END;
20021 +
20022 +  IF _BRANCH_ GT 0 THEN DO;
20023 +
20024 +    _BRANCH_ = -1;
20025 +    _ARBFMT_13 = PUT( City , $13.);
20026 +     %DMNORMIP( _ARBFMT_13);
20027 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'CHICAGO' ) THEN DO;
20028 +       _BRANCH_ =    1;
20029 +      END;
20030 +    IF _BRANCH_ LT 0 THEN DO;
20031 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
20032 +      ELSE IF _ARBFMT_13 NOTIN (
20033 +        'NEW YORK' ,'SAN FRANCISCO' ,'CHICAGO' ,'MIAMI' ,'LOS ANGELES' ,
20034 +        'HOUSTON'
20035 +         ) THEN _BRANCH_ = 1;
20036 +    END;
20037 +    IF _BRANCH_ GT 0 THEN DO;
20038 +       _ARB_F_ + 0.0255198856;
20039 +      END;
20040 +    END;
20041 +  END;
20042 +
20043 +********** LEAF   108  NODE  1448 ***************;
20044 +IF _ARB_BADF_ EQ 0 THEN DO;
20045 +
20046 +  _BRANCH_ = -1;
20047 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
20048 +   %DMNORMIP( _ARBFMT_12);
20049 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
20050 +     _BRANCH_ =    1;
20051 +    END;
20052 +
20053 +  IF _BRANCH_ GT 0 THEN DO;
20054 +
20055 +    _BRANCH_ = -1;
20056 +    _ARBFMT_13 = PUT( City , $13.);
20057 +     %DMNORMIP( _ARBFMT_13);
20058 +      IF _ARBFMT_13 IN ('MIAMI' ,'LOS ANGELES' ,'HOUSTON' ) THEN DO;
20059 +       _BRANCH_ =    2;
20060 +      END;
20061 +
20062 +    IF _BRANCH_ GT 0 THEN DO;
20063 +       _ARB_F_ + -0.007432683;
20064 +      END;
20065 +    END;
20066 +  END;
20067 +
20068 +********** LEAF   109  NODE  1449 ***************;
20069 +IF _ARB_BADF_ EQ 0 THEN DO;
20070 +
20071 +  _BRANCH_ = -1;
20072 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
20073 +   %DMNORMIP( _ARBFMT_12);
20074 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
20075 +     _BRANCH_ =    2;
20076 +    END;
20077 +  IF _BRANCH_ LT 0 THEN DO;
20078 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
20079 +    ELSE IF _ARBFMT_12 NOTIN (
20080 +      '0' ,'1'
20081 +       ) THEN _BRANCH_ = 2;
20082 +  END;
20083 +  IF _BRANCH_ GT 0 THEN DO;
20084 +
20085 +    _BRANCH_ = -1;
20086 +      IF  NOT MISSING(Average_Rating ) AND
20087 +      Average_Rating  <                 4.55 THEN DO;
20088 +       _BRANCH_ =    1;
20089 +      END;
20090 +    IF _BRANCH_ LT 0 THEN DO;
20091 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
20092 +    END;
20093 +    IF _BRANCH_ GT 0 THEN DO;
20094 +       _ARB_F_ + -0.018512554;
20095 +      END;
20096 +    END;
20097 +  END;
20098 +
20099 +********** LEAF   110  NODE  1450 ***************;
20100 +IF _ARB_BADF_ EQ 0 THEN DO;
20101 +
20102 +  _BRANCH_ = -1;
20103 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
20104 +   %DMNORMIP( _ARBFMT_12);
20105 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
20106 +     _BRANCH_ =    2;
20107 +    END;
20108 +  IF _BRANCH_ LT 0 THEN DO;
20109 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
20110 +    ELSE IF _ARBFMT_12 NOTIN (
20111 +      '0' ,'1'
20112 +       ) THEN _BRANCH_ = 2;
20113 +  END;
20114 +  IF _BRANCH_ GT 0 THEN DO;
20115 +
20116 +    _BRANCH_ = -1;
20117 +      IF  NOT MISSING(Average_Rating ) AND
20118 +                      4.55 <= Average_Rating  THEN DO;
20119 +       _BRANCH_ =    2;
20120 +      END;
20121 +
20122 +    IF _BRANCH_ GT 0 THEN DO;
20123 +       _ARB_F_ + 0.01324291;
20124 +      END;
20125 +    END;
20126 +  END;
20127 +
20128 +********** LEAF   111  NODE  1454 ***************;
20129 +IF _ARB_BADF_ EQ 0 THEN DO;
20130 +
20131 +  _BRANCH_ = -1;
20132 +    IF  NOT MISSING(Average_Rating ) AND
20133 +    Average_Rating  <                 3.25 THEN DO;
20134 +     _BRANCH_ =    1;
20135 +    END;
20136 +
20137 +  IF _BRANCH_ GT 0 THEN DO;
20138 +
20139 +    _BRANCH_ = -1;
20140 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20141 +      Days_Since_Last_Purchase  <                 40.5 THEN DO;
20142 +       _BRANCH_ =    1;
20143 +      END;
20144 +    IF _BRANCH_ LT 0 THEN DO;
20145 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
20146 +    END;
20147 +    IF _BRANCH_ GT 0 THEN DO;
20148 +       _ARB_F_ + -0.009346713;
20149 +      END;
20150 +    END;
20151 +  END;
20152 +
20153 +********** LEAF   112  NODE  1455 ***************;
20154 +IF _ARB_BADF_ EQ 0 THEN DO;
20155 +
20156 +  _BRANCH_ = -1;
20157 +    IF  NOT MISSING(Average_Rating ) AND
20158 +    Average_Rating  <                 3.25 THEN DO;
20159 +     _BRANCH_ =    1;
20160 +    END;
20161 +
20162 +  IF _BRANCH_ GT 0 THEN DO;
20163 +
20164 +    _BRANCH_ = -1;
20165 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20166 +                      40.5 <= Days_Since_Last_Purchase  THEN DO;
20167 +       _BRANCH_ =    2;
20168 +      END;
20169 +
20170 +    IF _BRANCH_ GT 0 THEN DO;
20171 +       _ARB_F_ + -0.104377222;
20172 +      END;
20173 +    END;
20174 +  END;
20175 +
20176 +********** LEAF   113  NODE  1456 ***************;
20177 +IF _ARB_BADF_ EQ 0 THEN DO;
20178 +
20179 +  _BRANCH_ = -1;
20180 +    IF  NOT MISSING(Average_Rating ) AND
20181 +                    3.25 <= Average_Rating  THEN DO;
20182 +     _BRANCH_ =    2;
20183 +    END;
20184 +  IF _BRANCH_ LT 0 THEN DO;
20185 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20186 +  END;
20187 +  IF _BRANCH_ GT 0 THEN DO;
20188 +
20189 +    _BRANCH_ = -1;
20190 +    _ARBFMT_13 = PUT( City , $13.);
20191 +     %DMNORMIP( _ARBFMT_13);
20192 +      IF _ARBFMT_13 IN ('NEW YORK' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' )
20193 +        THEN DO;
20194 +       _BRANCH_ =    1;
20195 +      END;
20196 +    IF _BRANCH_ LT 0 THEN DO;
20197 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
20198 +      ELSE IF _ARBFMT_13 NOTIN (
20199 +        'NEW YORK' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ,'SAN FRANCISCO' ,
20200 +        'MIAMI'
20201 +         ) THEN _BRANCH_ = 1;
20202 +    END;
20203 +    IF _BRANCH_ GT 0 THEN DO;
20204 +       _ARB_F_ + 0.0102576958;
20205 +      END;
20206 +    END;
20207 +  END;
20208 +
20209 +********** LEAF   114  NODE  1457 ***************;
20210 +IF _ARB_BADF_ EQ 0 THEN DO;
20211 +
20212 +  _BRANCH_ = -1;
20213 +    IF  NOT MISSING(Average_Rating ) AND
20214 +                    3.25 <= Average_Rating  THEN DO;
20215 +     _BRANCH_ =    2;
20216 +    END;
20217 +  IF _BRANCH_ LT 0 THEN DO;
20218 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20219 +  END;
20220 +  IF _BRANCH_ GT 0 THEN DO;
20221 +
20222 +    _BRANCH_ = -1;
20223 +    _ARBFMT_13 = PUT( City , $13.);
20224 +     %DMNORMIP( _ARBFMT_13);
20225 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'MIAMI' ) THEN DO;
20226 +       _BRANCH_ =    2;
20227 +      END;
20228 +
20229 +    IF _BRANCH_ GT 0 THEN DO;
20230 +       _ARB_F_ + -0.007163186;
20231 +      END;
20232 +    END;
20233 +  END;
20234 +
20235 +********** LEAF   115  NODE  1459 ***************;
20236 +IF _ARB_BADF_ EQ 0 THEN DO;
20237 +
20238 +  _BRANCH_ = -1;
20239 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
20240 +    LOG_Items_Purchased  <     1.86883480914168 THEN DO;
20241 +     _BRANCH_ =    1;
20242 +    END;
20243 +
20244 +  IF _BRANCH_ GT 0 THEN DO;
20245 +     _ARB_F_ + 0.0782539243;
20246 +    END;
20247 +  END;
20248 +
20249 +********** LEAF   116  NODE  1461 ***************;
20250 +IF _ARB_BADF_ EQ 0 THEN DO;
20251 +
20252 +  _BRANCH_ = -1;
20253 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
20254 +        1.86883480914168 <= LOG_Items_Purchased  THEN DO;
20255 +     _BRANCH_ =    2;
20256 +    END;
20257 +  IF _BRANCH_ LT 0 THEN DO;
20258 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
20259 +  END;
20260 +  IF _BRANCH_ GT 0 THEN DO;
20261 +
20262 +    _BRANCH_ = -1;
20263 +      IF  NOT MISSING(Total_Spend ) AND
20264 +      Total_Spend  <               689.65 THEN DO;
20265 +       _BRANCH_ =    1;
20266 +      END;
20267 +
20268 +    IF _BRANCH_ GT 0 THEN DO;
20269 +       _ARB_F_ + 0.0105192222;
20270 +      END;
20271 +    END;
20272 +  END;
20273 +
20274 +********** LEAF   117  NODE  1462 ***************;
20275 +IF _ARB_BADF_ EQ 0 THEN DO;
20276 +
20277 +  _BRANCH_ = -1;
20278 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
20279 +        1.86883480914168 <= LOG_Items_Purchased  THEN DO;
20280 +     _BRANCH_ =    2;
20281 +    END;
20282 +  IF _BRANCH_ LT 0 THEN DO;
20283 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
20284 +  END;
20285 +  IF _BRANCH_ GT 0 THEN DO;
20286 +
20287 +    _BRANCH_ = -1;
20288 +      IF  NOT MISSING(Total_Spend ) AND
20289 +                    689.65 <= Total_Spend  THEN DO;
20290 +       _BRANCH_ =    2;
20291 +      END;
20292 +    IF _BRANCH_ LT 0 THEN DO;
20293 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
20294 +    END;
20295 +    IF _BRANCH_ GT 0 THEN DO;
20296 +       _ARB_F_ + -0.005415112;
20297 +      END;
20298 +    END;
20299 +  END;
20300 +
20301 +********** LEAF   118  NODE  1466 ***************;
20302 +IF _ARB_BADF_ EQ 0 THEN DO;
20303 +
20304 +  _BRANCH_ = -1;
20305 +    IF  NOT MISSING(Total_Spend ) AND
20306 +    Total_Spend  <                 1498 THEN DO;
20307 +     _BRANCH_ =    1;
20308 +    END;
20309 +  IF _BRANCH_ LT 0 THEN DO;
20310 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20311 +  END;
20312 +  IF _BRANCH_ GT 0 THEN DO;
20313 +
20314 +    _BRANCH_ = -1;
20315 +      IF  NOT MISSING(Total_Spend ) AND
20316 +      Total_Spend  <               1484.5 THEN DO;
20317 +       _BRANCH_ =    1;
20318 +      END;
20319 +    IF _BRANCH_ LT 0 THEN DO;
20320 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20321 +    END;
20322 +    IF _BRANCH_ GT 0 THEN DO;
20323 +       _ARB_F_ + -0.00146789;
20324 +      END;
20325 +    END;
20326 +  END;
20327 +
20328 +********** LEAF   119  NODE  1467 ***************;
20329 +IF _ARB_BADF_ EQ 0 THEN DO;
20330 +
20331 +  _BRANCH_ = -1;
20332 +    IF  NOT MISSING(Total_Spend ) AND
20333 +    Total_Spend  <                 1498 THEN DO;
20334 +     _BRANCH_ =    1;
20335 +    END;
20336 +  IF _BRANCH_ LT 0 THEN DO;
20337 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20338 +  END;
20339 +  IF _BRANCH_ GT 0 THEN DO;
20340 +
20341 +    _BRANCH_ = -1;
20342 +      IF  NOT MISSING(Total_Spend ) AND
20343 +                    1484.5 <= Total_Spend  THEN DO;
20344 +       _BRANCH_ =    2;
20345 +      END;
20346 +
20347 +    IF _BRANCH_ GT 0 THEN DO;
20348 +       _ARB_F_ + 0.0677771933;
20349 +      END;
20350 +    END;
20351 +  END;
20352 +
20353 +********** LEAF   120  NODE  1465 ***************;
20354 +IF _ARB_BADF_ EQ 0 THEN DO;
20355 +
20356 +  _BRANCH_ = -1;
20357 +    IF  NOT MISSING(Total_Spend ) AND
20358 +                    1498 <= Total_Spend  THEN DO;
20359 +     _BRANCH_ =    2;
20360 +    END;
20361 +
20362 +  IF _BRANCH_ GT 0 THEN DO;
20363 +     _ARB_F_ + -0.087666614;
20364 +    END;
20365 +  END;
20366 +
20367 +********** LEAF   121  NODE  1471 ***************;
20368 +IF _ARB_BADF_ EQ 0 THEN DO;
20369 +
20370 +  _BRANCH_ = -1;
20371 +    IF  NOT MISSING(Average_Rating ) AND
20372 +    Average_Rating  <                 3.75 THEN DO;
20373 +     _BRANCH_ =    1;
20374 +    END;
20375 +
20376 +  IF _BRANCH_ GT 0 THEN DO;
20377 +
20378 +    _BRANCH_ = -1;
20379 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20380 +      LOG_IMP_Age  <     3.88151065450925 THEN DO;
20381 +       _BRANCH_ =    1;
20382 +      END;
20383 +    IF _BRANCH_ LT 0 THEN DO;
20384 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
20385 +    END;
20386 +    IF _BRANCH_ GT 0 THEN DO;
20387 +       _ARB_F_ + -0.007842001;
20388 +      END;
20389 +    END;
20390 +  END;
20391 +
20392 +********** LEAF   122  NODE  1472 ***************;
20393 +IF _ARB_BADF_ EQ 0 THEN DO;
20394 +
20395 +  _BRANCH_ = -1;
20396 +    IF  NOT MISSING(Average_Rating ) AND
20397 +    Average_Rating  <                 3.75 THEN DO;
20398 +     _BRANCH_ =    1;
20399 +    END;
20400 +
20401 +  IF _BRANCH_ GT 0 THEN DO;
20402 +
20403 +    _BRANCH_ = -1;
20404 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20405 +          3.88151065450925 <= LOG_IMP_Age  THEN DO;
20406 +       _BRANCH_ =    2;
20407 +      END;
20408 +
20409 +    IF _BRANCH_ GT 0 THEN DO;
20410 +       _ARB_F_ + -0.0562666;
20411 +      END;
20412 +    END;
20413 +  END;
20414 +
20415 +********** LEAF   123  NODE  1473 ***************;
20416 +IF _ARB_BADF_ EQ 0 THEN DO;
20417 +
20418 +  _BRANCH_ = -1;
20419 +    IF  NOT MISSING(Average_Rating ) AND
20420 +                    3.75 <= Average_Rating  THEN DO;
20421 +     _BRANCH_ =    2;
20422 +    END;
20423 +  IF _BRANCH_ LT 0 THEN DO;
20424 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20425 +  END;
20426 +  IF _BRANCH_ GT 0 THEN DO;
20427 +
20428 +    _BRANCH_ = -1;
20429 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
20430 +     %DMNORMIP( _ARBFMT_11);
20431 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'BOOKS' ) THEN DO;
20432 +       _BRANCH_ =    1;
20433 +      END;
20434 +    IF _BRANCH_ LT 0 THEN DO;
20435 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
20436 +      ELSE IF _ARBFMT_11 NOTIN (
20437 +        'ELECTRONICS' ,'BOOKS' ,'CLOTHING' ,'HOME GOODS'
20438 +         ) THEN _BRANCH_ = 1;
20439 +    END;
20440 +    IF _BRANCH_ GT 0 THEN DO;
20441 +       _ARB_F_ + -0.004489003;
20442 +      END;
20443 +    END;
20444 +  END;
20445 +
20446 +********** LEAF   124  NODE  1474 ***************;
20447 +IF _ARB_BADF_ EQ 0 THEN DO;
20448 +
20449 +  _BRANCH_ = -1;
20450 +    IF  NOT MISSING(Average_Rating ) AND
20451 +                    3.75 <= Average_Rating  THEN DO;
20452 +     _BRANCH_ =    2;
20453 +    END;
20454 +  IF _BRANCH_ LT 0 THEN DO;
20455 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20456 +  END;
20457 +  IF _BRANCH_ GT 0 THEN DO;
20458 +
20459 +    _BRANCH_ = -1;
20460 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
20461 +     %DMNORMIP( _ARBFMT_11);
20462 +      IF _ARBFMT_11 IN ('CLOTHING' ,'HOME GOODS' ) THEN DO;
20463 +       _BRANCH_ =    2;
20464 +      END;
20465 +
20466 +    IF _BRANCH_ GT 0 THEN DO;
20467 +       _ARB_F_ + 0.0193483044;
20468 +      END;
20469 +    END;
20470 +  END;
20471 +
20472 +********** LEAF   125  NODE  1478 ***************;
20473 +IF _ARB_BADF_ EQ 0 THEN DO;
20474 +
20475 +  _BRANCH_ = -1;
20476 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20477 +    Days_Since_Last_Purchase  <                 18.5 THEN DO;
20478 +     _BRANCH_ =    1;
20479 +    END;
20480 +
20481 +  IF _BRANCH_ GT 0 THEN DO;
20482 +
20483 +    _BRANCH_ = -1;
20484 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20485 +      LOG_Items_Purchased  <     3.41759229307365 THEN DO;
20486 +       _BRANCH_ =    1;
20487 +      END;
20488 +    IF _BRANCH_ LT 0 THEN DO;
20489 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
20490 +    END;
20491 +    IF _BRANCH_ GT 0 THEN DO;
20492 +       _ARB_F_ + 0.0057067633;
20493 +      END;
20494 +    END;
20495 +  END;
20496 +
20497 +********** LEAF   126  NODE  1479 ***************;
20498 +IF _ARB_BADF_ EQ 0 THEN DO;
20499 +
20500 +  _BRANCH_ = -1;
20501 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20502 +    Days_Since_Last_Purchase  <                 18.5 THEN DO;
20503 +     _BRANCH_ =    1;
20504 +    END;
20505 +
20506 +  IF _BRANCH_ GT 0 THEN DO;
20507 +
20508 +    _BRANCH_ = -1;
20509 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20510 +          3.41759229307365 <= LOG_Items_Purchased  THEN DO;
20511 +       _BRANCH_ =    2;
20512 +      END;
20513 +
20514 +    IF _BRANCH_ GT 0 THEN DO;
20515 +       _ARB_F_ + 0.0522595382;
20516 +      END;
20517 +    END;
20518 +  END;
20519 +
20520 +********** LEAF   127  NODE  1480 ***************;
20521 +IF _ARB_BADF_ EQ 0 THEN DO;
20522 +
20523 +  _BRANCH_ = -1;
20524 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20525 +                    18.5 <= Days_Since_Last_Purchase  THEN DO;
20526 +     _BRANCH_ =    2;
20527 +    END;
20528 +  IF _BRANCH_ LT 0 THEN DO;
20529 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
20530 +  END;
20531 +  IF _BRANCH_ GT 0 THEN DO;
20532 +
20533 +    _BRANCH_ = -1;
20534 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20535 +      LOG_IMP_Age  <     3.74943486698846 THEN DO;
20536 +       _BRANCH_ =    1;
20537 +      END;
20538 +    IF _BRANCH_ LT 0 THEN DO;
20539 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
20540 +    END;
20541 +    IF _BRANCH_ GT 0 THEN DO;
20542 +       _ARB_F_ + -0.013186957;
20543 +      END;
20544 +    END;
20545 +  END;
20546 +
20547 +********** LEAF   128  NODE  1481 ***************;
20548 +IF _ARB_BADF_ EQ 0 THEN DO;
20549 +
20550 +  _BRANCH_ = -1;
20551 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20552 +                    18.5 <= Days_Since_Last_Purchase  THEN DO;
20553 +     _BRANCH_ =    2;
20554 +    END;
20555 +  IF _BRANCH_ LT 0 THEN DO;
20556 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
20557 +  END;
20558 +  IF _BRANCH_ GT 0 THEN DO;
20559 +
20560 +    _BRANCH_ = -1;
20561 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20562 +          3.74943486698846 <= LOG_IMP_Age  THEN DO;
20563 +       _BRANCH_ =    2;
20564 +      END;
20565 +
20566 +    IF _BRANCH_ GT 0 THEN DO;
20567 +       _ARB_F_ + 0.0095822606;
20568 +      END;
20569 +    END;
20570 +  END;
20571 +
20572 +********** LEAF   129  NODE  1485 ***************;
20573 +IF _ARB_BADF_ EQ 0 THEN DO;
20574 +
20575 +  _BRANCH_ = -1;
20576 +    IF  NOT MISSING(Total_Spend ) AND
20577 +    Total_Spend  <                460.7 THEN DO;
20578 +     _BRANCH_ =    1;
20579 +    END;
20580 +
20581 +  IF _BRANCH_ GT 0 THEN DO;
20582 +
20583 +    _BRANCH_ = -1;
20584 +      IF  NOT MISSING(Total_Spend ) AND
20585 +      Total_Spend  <               456.25 THEN DO;
20586 +       _BRANCH_ =    1;
20587 +      END;
20588 +    IF _BRANCH_ LT 0 THEN DO;
20589 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20590 +    END;
20591 +    IF _BRANCH_ GT 0 THEN DO;
20592 +       _ARB_F_ + -0.019356578;
20593 +      END;
20594 +    END;
20595 +  END;
20596 +
20597 +********** LEAF   130  NODE  1486 ***************;
20598 +IF _ARB_BADF_ EQ 0 THEN DO;
20599 +
20600 +  _BRANCH_ = -1;
20601 +    IF  NOT MISSING(Total_Spend ) AND
20602 +    Total_Spend  <                460.7 THEN DO;
20603 +     _BRANCH_ =    1;
20604 +    END;
20605 +
20606 +  IF _BRANCH_ GT 0 THEN DO;
20607 +
20608 +    _BRANCH_ = -1;
20609 +      IF  NOT MISSING(Total_Spend ) AND
20610 +                    456.25 <= Total_Spend  THEN DO;
20611 +       _BRANCH_ =    2;
20612 +      END;
20613 +
20614 +    IF _BRANCH_ GT 0 THEN DO;
20615 +       _ARB_F_ + -0.104349117;
20616 +      END;
20617 +    END;
20618 +  END;
20619 +
20620 +********** LEAF   131  NODE  1487 ***************;
20621 +IF _ARB_BADF_ EQ 0 THEN DO;
20622 +
20623 +  _BRANCH_ = -1;
20624 +    IF  NOT MISSING(Total_Spend ) AND
20625 +                   460.7 <= Total_Spend  THEN DO;
20626 +     _BRANCH_ =    2;
20627 +    END;
20628 +  IF _BRANCH_ LT 0 THEN DO;
20629 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
20630 +  END;
20631 +  IF _BRANCH_ GT 0 THEN DO;
20632 +
20633 +    _BRANCH_ = -1;
20634 +      IF  NOT MISSING(Total_Spend ) AND
20635 +      Total_Spend  <               689.65 THEN DO;
20636 +       _BRANCH_ =    1;
20637 +      END;
20638 +
20639 +    IF _BRANCH_ GT 0 THEN DO;
20640 +       _ARB_F_ + 0.0218615304;
20641 +      END;
20642 +    END;
20643 +  END;
20644 +
20645 +********** LEAF   132  NODE  1488 ***************;
20646 +IF _ARB_BADF_ EQ 0 THEN DO;
20647 +
20648 +  _BRANCH_ = -1;
20649 +    IF  NOT MISSING(Total_Spend ) AND
20650 +                   460.7 <= Total_Spend  THEN DO;
20651 +     _BRANCH_ =    2;
20652 +    END;
20653 +  IF _BRANCH_ LT 0 THEN DO;
20654 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
20655 +  END;
20656 +  IF _BRANCH_ GT 0 THEN DO;
20657 +
20658 +    _BRANCH_ = -1;
20659 +      IF  NOT MISSING(Total_Spend ) AND
20660 +                    689.65 <= Total_Spend  THEN DO;
20661 +       _BRANCH_ =    2;
20662 +      END;
20663 +    IF _BRANCH_ LT 0 THEN DO;
20664 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
20665 +    END;
20666 +    IF _BRANCH_ GT 0 THEN DO;
20667 +       _ARB_F_ + -0.00377936;
20668 +      END;
20669 +    END;
20670 +  END;
20671 +
20672 +********** LEAF   133  NODE  1492 ***************;
20673 +IF _ARB_BADF_ EQ 0 THEN DO;
20674 +
20675 +  _BRANCH_ = -1;
20676 +    IF  NOT MISSING(Total_Spend ) AND
20677 +    Total_Spend  <               1131.5 THEN DO;
20678 +     _BRANCH_ =    1;
20679 +    END;
20680 +  IF _BRANCH_ LT 0 THEN DO;
20681 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20682 +  END;
20683 +  IF _BRANCH_ GT 0 THEN DO;
20684 +
20685 +    _BRANCH_ = -1;
20686 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20687 +      LOG_IMP_Age  <     3.31402068808976 THEN DO;
20688 +       _BRANCH_ =    1;
20689 +      END;
20690 +
20691 +    IF _BRANCH_ GT 0 THEN DO;
20692 +       _ARB_F_ + 0.0264869691;
20693 +      END;
20694 +    END;
20695 +  END;
20696 +
20697 +********** LEAF   134  NODE  1493 ***************;
20698 +IF _ARB_BADF_ EQ 0 THEN DO;
20699 +
20700 +  _BRANCH_ = -1;
20701 +    IF  NOT MISSING(Total_Spend ) AND
20702 +    Total_Spend  <               1131.5 THEN DO;
20703 +     _BRANCH_ =    1;
20704 +    END;
20705 +  IF _BRANCH_ LT 0 THEN DO;
20706 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20707 +  END;
20708 +  IF _BRANCH_ GT 0 THEN DO;
20709 +
20710 +    _BRANCH_ = -1;
20711 +      IF  NOT MISSING(LOG_IMP_Age ) AND
20712 +          3.31402068808976 <= LOG_IMP_Age  THEN DO;
20713 +       _BRANCH_ =    2;
20714 +      END;
20715 +    IF _BRANCH_ LT 0 THEN DO;
20716 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
20717 +    END;
20718 +    IF _BRANCH_ GT 0 THEN DO;
20719 +       _ARB_F_ + -0.011604939;
20720 +      END;
20721 +    END;
20722 +  END;
20723 +
20724 +********** LEAF   135  NODE  1494 ***************;
20725 +IF _ARB_BADF_ EQ 0 THEN DO;
20726 +
20727 +  _BRANCH_ = -1;
20728 +    IF  NOT MISSING(Total_Spend ) AND
20729 +                  1131.5 <= Total_Spend  THEN DO;
20730 +     _BRANCH_ =    2;
20731 +    END;
20732 +
20733 +  IF _BRANCH_ GT 0 THEN DO;
20734 +
20735 +    _BRANCH_ = -1;
20736 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20737 +      LOG_Items_Purchased  <     3.72562084249383 THEN DO;
20738 +       _BRANCH_ =    1;
20739 +      END;
20740 +    IF _BRANCH_ LT 0 THEN DO;
20741 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
20742 +    END;
20743 +    IF _BRANCH_ GT 0 THEN DO;
20744 +       _ARB_F_ + 0.0214625722;
20745 +      END;
20746 +    END;
20747 +  END;
20748 +
20749 +********** LEAF   136  NODE  1495 ***************;
20750 +IF _ARB_BADF_ EQ 0 THEN DO;
20751 +
20752 +  _BRANCH_ = -1;
20753 +    IF  NOT MISSING(Total_Spend ) AND
20754 +                  1131.5 <= Total_Spend  THEN DO;
20755 +     _BRANCH_ =    2;
20756 +    END;
20757 +
20758 +  IF _BRANCH_ GT 0 THEN DO;
20759 +
20760 +    _BRANCH_ = -1;
20761 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20762 +          3.72562084249383 <= LOG_Items_Purchased  THEN DO;
20763 +       _BRANCH_ =    2;
20764 +      END;
20765 +
20766 +    IF _BRANCH_ GT 0 THEN DO;
20767 +       _ARB_F_ + -0.028072785;
20768 +      END;
20769 +    END;
20770 +  END;
20771 +
20772 +********** LEAF   137  NODE  1499 ***************;
20773 +IF _ARB_BADF_ EQ 0 THEN DO;
20774 +
20775 +  _BRANCH_ = -1;
20776 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20777 +    Days_Since_Last_Purchase  <                 58.5 THEN DO;
20778 +     _BRANCH_ =    1;
20779 +    END;
20780 +  IF _BRANCH_ LT 0 THEN DO;
20781 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
20782 +  END;
20783 +  IF _BRANCH_ GT 0 THEN DO;
20784 +
20785 +    _BRANCH_ = -1;
20786 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20787 +      LOG_Items_Purchased  <     3.77269487480591 THEN DO;
20788 +       _BRANCH_ =    1;
20789 +      END;
20790 +    IF _BRANCH_ LT 0 THEN DO;
20791 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
20792 +    END;
20793 +    IF _BRANCH_ GT 0 THEN DO;
20794 +       _ARB_F_ + 0.0005470365;
20795 +      END;
20796 +    END;
20797 +  END;
20798 +
20799 +********** LEAF   138  NODE  1500 ***************;
20800 +IF _ARB_BADF_ EQ 0 THEN DO;
20801 +
20802 +  _BRANCH_ = -1;
20803 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20804 +    Days_Since_Last_Purchase  <                 58.5 THEN DO;
20805 +     _BRANCH_ =    1;
20806 +    END;
20807 +  IF _BRANCH_ LT 0 THEN DO;
20808 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
20809 +  END;
20810 +  IF _BRANCH_ GT 0 THEN DO;
20811 +
20812 +    _BRANCH_ = -1;
20813 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
20814 +          3.77269487480591 <= LOG_Items_Purchased  THEN DO;
20815 +       _BRANCH_ =    2;
20816 +      END;
20817 +
20818 +    IF _BRANCH_ GT 0 THEN DO;
20819 +       _ARB_F_ + 0.0249091567;
20820 +      END;
20821 +    END;
20822 +  END;
20823 +
20824 +********** LEAF   139  NODE  1501 ***************;
20825 +IF _ARB_BADF_ EQ 0 THEN DO;
20826 +
20827 +  _BRANCH_ = -1;
20828 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20829 +                    58.5 <= Days_Since_Last_Purchase  THEN DO;
20830 +     _BRANCH_ =    2;
20831 +    END;
20832 +
20833 +  IF _BRANCH_ GT 0 THEN DO;
20834 +
20835 +    _BRANCH_ = -1;
20836 +    _ARBFMT_13 = PUT( City , $13.);
20837 +     %DMNORMIP( _ARBFMT_13);
20838 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' ) THEN DO;
20839 +       _BRANCH_ =    1;
20840 +      END;
20841 +    IF _BRANCH_ LT 0 THEN DO;
20842 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
20843 +      ELSE IF _ARBFMT_13 NOTIN (
20844 +        'SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' ,'HOUSTON'
20845 +         ) THEN _BRANCH_ = 1;
20846 +    END;
20847 +    IF _BRANCH_ GT 0 THEN DO;
20848 +       _ARB_F_ + -0.065518376;
20849 +      END;
20850 +    END;
20851 +  END;
20852 +
20853 +********** LEAF   140  NODE  1502 ***************;
20854 +IF _ARB_BADF_ EQ 0 THEN DO;
20855 +
20856 +  _BRANCH_ = -1;
20857 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20858 +                    58.5 <= Days_Since_Last_Purchase  THEN DO;
20859 +     _BRANCH_ =    2;
20860 +    END;
20861 +
20862 +  IF _BRANCH_ GT 0 THEN DO;
20863 +
20864 +    _BRANCH_ = -1;
20865 +    _ARBFMT_13 = PUT( City , $13.);
20866 +     %DMNORMIP( _ARBFMT_13);
20867 +      IF _ARBFMT_13 IN ('HOUSTON' ) THEN DO;
20868 +       _BRANCH_ =    2;
20869 +      END;
20870 +
20871 +    IF _BRANCH_ GT 0 THEN DO;
20872 +       _ARB_F_ + 0.0562464444;
20873 +      END;
20874 +    END;
20875 +  END;
20876 +
20877 +********** LEAF   141  NODE  1504 ***************;
20878 +IF _ARB_BADF_ EQ 0 THEN DO;
20879 +
20880 +  _BRANCH_ = -1;
20881 +    IF  NOT MISSING(Average_Rating ) AND
20882 +    Average_Rating  <                 3.05 THEN DO;
20883 +     _BRANCH_ =    1;
20884 +    END;
20885 +
20886 +  IF _BRANCH_ GT 0 THEN DO;
20887 +     _ARB_F_ + 0.0920861107;
20888 +    END;
20889 +  END;
20890 +
20891 +********** LEAF   142  NODE  1506 ***************;
20892 +IF _ARB_BADF_ EQ 0 THEN DO;
20893 +
20894 +  _BRANCH_ = -1;
20895 +    IF  NOT MISSING(Average_Rating ) AND
20896 +                    3.05 <= Average_Rating  THEN DO;
20897 +     _BRANCH_ =    2;
20898 +    END;
20899 +  IF _BRANCH_ LT 0 THEN DO;
20900 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20901 +  END;
20902 +  IF _BRANCH_ GT 0 THEN DO;
20903 +
20904 +    _BRANCH_ = -1;
20905 +      IF  NOT MISSING(Total_Spend ) AND
20906 +      Total_Spend  <               1484.5 THEN DO;
20907 +       _BRANCH_ =    1;
20908 +      END;
20909 +    IF _BRANCH_ LT 0 THEN DO;
20910 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20911 +    END;
20912 +    IF _BRANCH_ GT 0 THEN DO;
20913 +       _ARB_F_ + -0.00294779;
20914 +      END;
20915 +    END;
20916 +  END;
20917 +
20918 +********** LEAF   143  NODE  1507 ***************;
20919 +IF _ARB_BADF_ EQ 0 THEN DO;
20920 +
20921 +  _BRANCH_ = -1;
20922 +    IF  NOT MISSING(Average_Rating ) AND
20923 +                    3.05 <= Average_Rating  THEN DO;
20924 +     _BRANCH_ =    2;
20925 +    END;
20926 +  IF _BRANCH_ LT 0 THEN DO;
20927 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
20928 +  END;
20929 +  IF _BRANCH_ GT 0 THEN DO;
20930 +
20931 +    _BRANCH_ = -1;
20932 +      IF  NOT MISSING(Total_Spend ) AND
20933 +                    1484.5 <= Total_Spend  THEN DO;
20934 +       _BRANCH_ =    2;
20935 +      END;
20936 +
20937 +    IF _BRANCH_ GT 0 THEN DO;
20938 +       _ARB_F_ + 0.0470334443;
20939 +      END;
20940 +    END;
20941 +  END;
20942 +
20943 +********** LEAF   144  NODE  1511 ***************;
20944 +IF _ARB_BADF_ EQ 0 THEN DO;
20945 +
20946 +  _BRANCH_ = -1;
20947 +    IF  NOT MISSING(Total_Spend ) AND
20948 +    Total_Spend  <              1460.25 THEN DO;
20949 +     _BRANCH_ =    1;
20950 +    END;
20951 +  IF _BRANCH_ LT 0 THEN DO;
20952 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20953 +  END;
20954 +  IF _BRANCH_ GT 0 THEN DO;
20955 +
20956 +    _BRANCH_ = -1;
20957 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20958 +      Days_Since_Last_Purchase  <                 17.5 THEN DO;
20959 +       _BRANCH_ =    1;
20960 +      END;
20961 +
20962 +    IF _BRANCH_ GT 0 THEN DO;
20963 +       _ARB_F_ + 0.0254456064;
20964 +      END;
20965 +    END;
20966 +  END;
20967 +
20968 +********** LEAF   145  NODE  1512 ***************;
20969 +IF _ARB_BADF_ EQ 0 THEN DO;
20970 +
20971 +  _BRANCH_ = -1;
20972 +    IF  NOT MISSING(Total_Spend ) AND
20973 +    Total_Spend  <              1460.25 THEN DO;
20974 +     _BRANCH_ =    1;
20975 +    END;
20976 +  IF _BRANCH_ LT 0 THEN DO;
20977 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
20978 +  END;
20979 +  IF _BRANCH_ GT 0 THEN DO;
20980 +
20981 +    _BRANCH_ = -1;
20982 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
20983 +                      17.5 <= Days_Since_Last_Purchase  THEN DO;
20984 +       _BRANCH_ =    2;
20985 +      END;
20986 +    IF _BRANCH_ LT 0 THEN DO;
20987 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
20988 +    END;
20989 +    IF _BRANCH_ GT 0 THEN DO;
20990 +       _ARB_F_ + -0.002618045;
20991 +      END;
20992 +    END;
20993 +  END;
20994 +
20995 +********** LEAF   146  NODE  1513 ***************;
20996 +IF _ARB_BADF_ EQ 0 THEN DO;
20997 +
20998 +  _BRANCH_ = -1;
20999 +    IF  NOT MISSING(Total_Spend ) AND
21000 +                 1460.25 <= Total_Spend  THEN DO;
21001 +     _BRANCH_ =    2;
21002 +    END;
21003 +
21004 +  IF _BRANCH_ GT 0 THEN DO;
21005 +
21006 +    _BRANCH_ = -1;
21007 +      IF  NOT MISSING(Total_Spend ) AND
21008 +      Total_Spend  <               1484.5 THEN DO;
21009 +       _BRANCH_ =    1;
21010 +      END;
21011 +    IF _BRANCH_ LT 0 THEN DO;
21012 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
21013 +    END;
21014 +    IF _BRANCH_ GT 0 THEN DO;
21015 +       _ARB_F_ + -0.073134693;
21016 +      END;
21017 +    END;
21018 +  END;
21019 +
21020 +********** LEAF   147  NODE  1514 ***************;
21021 +IF _ARB_BADF_ EQ 0 THEN DO;
21022 +
21023 +  _BRANCH_ = -1;
21024 +    IF  NOT MISSING(Total_Spend ) AND
21025 +                 1460.25 <= Total_Spend  THEN DO;
21026 +     _BRANCH_ =    2;
21027 +    END;
21028 +
21029 +  IF _BRANCH_ GT 0 THEN DO;
21030 +
21031 +    _BRANCH_ = -1;
21032 +      IF  NOT MISSING(Total_Spend ) AND
21033 +                    1484.5 <= Total_Spend  THEN DO;
21034 +       _BRANCH_ =    2;
21035 +      END;
21036 +
21037 +    IF _BRANCH_ GT 0 THEN DO;
21038 +       _ARB_F_ + 0.0129201208;
21039 +      END;
21040 +    END;
21041 +  END;
21042 +
21043 +********** LEAF   148  NODE  1518 ***************;
21044 +IF _ARB_BADF_ EQ 0 THEN DO;
21045 +
21046 +  _BRANCH_ = -1;
21047 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21048 +    LOG_IMP_Age  <     3.86067430630897 THEN DO;
21049 +     _BRANCH_ =    1;
21050 +    END;
21051 +  IF _BRANCH_ LT 0 THEN DO;
21052 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
21053 +  END;
21054 +  IF _BRANCH_ GT 0 THEN DO;
21055 +
21056 +    _BRANCH_ = -1;
21057 +    _ARBFMT_13 = PUT( City , $13.);
21058 +     %DMNORMIP( _ARBFMT_13);
21059 +      IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ) THEN
21060 +        DO;
21061 +       _BRANCH_ =    1;
21062 +      END;
21063 +    IF _BRANCH_ LT 0 THEN DO;
21064 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
21065 +      ELSE IF _ARBFMT_13 NOTIN (
21066 +        'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'SAN FRANCISCO' ,
21067 +        'CHICAGO'
21068 +         ) THEN _BRANCH_ = 1;
21069 +    END;
21070 +    IF _BRANCH_ GT 0 THEN DO;
21071 +       _ARB_F_ + 0.0098041704;
21072 +      END;
21073 +    END;
21074 +  END;
21075 +
21076 +********** LEAF   149  NODE  1519 ***************;
21077 +IF _ARB_BADF_ EQ 0 THEN DO;
21078 +
21079 +  _BRANCH_ = -1;
21080 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21081 +    LOG_IMP_Age  <     3.86067430630897 THEN DO;
21082 +     _BRANCH_ =    1;
21083 +    END;
21084 +  IF _BRANCH_ LT 0 THEN DO;
21085 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
21086 +  END;
21087 +  IF _BRANCH_ GT 0 THEN DO;
21088 +
21089 +    _BRANCH_ = -1;
21090 +    _ARBFMT_13 = PUT( City , $13.);
21091 +     %DMNORMIP( _ARBFMT_13);
21092 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'CHICAGO' ) THEN DO;
21093 +       _BRANCH_ =    2;
21094 +      END;
21095 +
21096 +    IF _BRANCH_ GT 0 THEN DO;
21097 +       _ARB_F_ + -0.00866422;
21098 +      END;
21099 +    END;
21100 +  END;
21101 +
21102 +********** LEAF   150  NODE  1520 ***************;
21103 +IF _ARB_BADF_ EQ 0 THEN DO;
21104 +
21105 +  _BRANCH_ = -1;
21106 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21107 +        3.86067430630897 <= LOG_IMP_Age  THEN DO;
21108 +     _BRANCH_ =    2;
21109 +    END;
21110 +
21111 +  IF _BRANCH_ GT 0 THEN DO;
21112 +
21113 +    _BRANCH_ = -1;
21114 +      IF  NOT MISSING(Average_Rating ) AND
21115 +      Average_Rating  <                 4.25 THEN DO;
21116 +       _BRANCH_ =    1;
21117 +      END;
21118 +    IF _BRANCH_ LT 0 THEN DO;
21119 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
21120 +    END;
21121 +    IF _BRANCH_ GT 0 THEN DO;
21122 +       _ARB_F_ + -0.032217524;
21123 +      END;
21124 +    END;
21125 +  END;
21126 +
21127 +********** LEAF   151  NODE  1521 ***************;
21128 +IF _ARB_BADF_ EQ 0 THEN DO;
21129 +
21130 +  _BRANCH_ = -1;
21131 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21132 +        3.86067430630897 <= LOG_IMP_Age  THEN DO;
21133 +     _BRANCH_ =    2;
21134 +    END;
21135 +
21136 +  IF _BRANCH_ GT 0 THEN DO;
21137 +
21138 +    _BRANCH_ = -1;
21139 +      IF  NOT MISSING(Average_Rating ) AND
21140 +                      4.25 <= Average_Rating  THEN DO;
21141 +       _BRANCH_ =    2;
21142 +      END;
21143 +
21144 +    IF _BRANCH_ GT 0 THEN DO;
21145 +       _ARB_F_ + 0.0232245339;
21146 +      END;
21147 +    END;
21148 +  END;
21149 +
21150 +********** LEAF   152  NODE  1525 ***************;
21151 +IF _ARB_BADF_ EQ 0 THEN DO;
21152 +
21153 +  _BRANCH_ = -1;
21154 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21155 +   %DMNORMIP( _ARBFMT_12);
21156 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
21157 +     _BRANCH_ =    1;
21158 +    END;
21159 +
21160 +  IF _BRANCH_ GT 0 THEN DO;
21161 +
21162 +    _BRANCH_ = -1;
21163 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21164 +      LOG_Items_Purchased  <     3.11326833464373 THEN DO;
21165 +       _BRANCH_ =    1;
21166 +      END;
21167 +    IF _BRANCH_ LT 0 THEN DO;
21168 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
21169 +    END;
21170 +    IF _BRANCH_ GT 0 THEN DO;
21171 +       _ARB_F_ + -0.000478278;
21172 +      END;
21173 +    END;
21174 +  END;
21175 +
21176 +********** LEAF   153  NODE  1526 ***************;
21177 +IF _ARB_BADF_ EQ 0 THEN DO;
21178 +
21179 +  _BRANCH_ = -1;
21180 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21181 +   %DMNORMIP( _ARBFMT_12);
21182 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
21183 +     _BRANCH_ =    1;
21184 +    END;
21185 +
21186 +  IF _BRANCH_ GT 0 THEN DO;
21187 +
21188 +    _BRANCH_ = -1;
21189 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21190 +          3.11326833464373 <= LOG_Items_Purchased  THEN DO;
21191 +       _BRANCH_ =    2;
21192 +      END;
21193 +
21194 +    IF _BRANCH_ GT 0 THEN DO;
21195 +       _ARB_F_ + 0.0307370731;
21196 +      END;
21197 +    END;
21198 +  END;
21199 +
21200 +********** LEAF   154  NODE  1527 ***************;
21201 +IF _ARB_BADF_ EQ 0 THEN DO;
21202 +
21203 +  _BRANCH_ = -1;
21204 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21205 +   %DMNORMIP( _ARBFMT_12);
21206 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
21207 +     _BRANCH_ =    2;
21208 +    END;
21209 +  IF _BRANCH_ LT 0 THEN DO;
21210 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
21211 +    ELSE IF _ARBFMT_12 NOTIN (
21212 +      '0' ,'1'
21213 +       ) THEN _BRANCH_ = 2;
21214 +  END;
21215 +  IF _BRANCH_ GT 0 THEN DO;
21216 +
21217 +    _BRANCH_ = -1;
21218 +      IF  NOT MISSING(Total_Spend ) AND
21219 +      Total_Spend  <                491.5 THEN DO;
21220 +       _BRANCH_ =    1;
21221 +      END;
21222 +
21223 +    IF _BRANCH_ GT 0 THEN DO;
21224 +       _ARB_F_ + -0.094475863;
21225 +      END;
21226 +    END;
21227 +  END;
21228 +
21229 +********** LEAF   155  NODE  1528 ***************;
21230 +IF _ARB_BADF_ EQ 0 THEN DO;
21231 +
21232 +  _BRANCH_ = -1;
21233 +  _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21234 +   %DMNORMIP( _ARBFMT_12);
21235 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
21236 +     _BRANCH_ =    2;
21237 +    END;
21238 +  IF _BRANCH_ LT 0 THEN DO;
21239 +     IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
21240 +    ELSE IF _ARBFMT_12 NOTIN (
21241 +      '0' ,'1'
21242 +       ) THEN _BRANCH_ = 2;
21243 +  END;
21244 +  IF _BRANCH_ GT 0 THEN DO;
21245 +
21246 +    _BRANCH_ = -1;
21247 +      IF  NOT MISSING(Total_Spend ) AND
21248 +                     491.5 <= Total_Spend  THEN DO;
21249 +       _BRANCH_ =    2;
21250 +      END;
21251 +    IF _BRANCH_ LT 0 THEN DO;
21252 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
21253 +    END;
21254 +    IF _BRANCH_ GT 0 THEN DO;
21255 +       _ARB_F_ + -0.008902321;
21256 +      END;
21257 +    END;
21258 +  END;
21259 +
21260 +********** LEAF   156  NODE  1532 ***************;
21261 +IF _ARB_BADF_ EQ 0 THEN DO;
21262 +
21263 +  _BRANCH_ = -1;
21264 +    IF  NOT MISSING(Average_Rating ) AND
21265 +    Average_Rating  <                 4.15 THEN DO;
21266 +     _BRANCH_ =    1;
21267 +    END;
21268 +  IF _BRANCH_ LT 0 THEN DO;
21269 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
21270 +  END;
21271 +  IF _BRANCH_ GT 0 THEN DO;
21272 +
21273 +    _BRANCH_ = -1;
21274 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21275 +      LOG_Items_Purchased  <     3.92192431907623 THEN DO;
21276 +       _BRANCH_ =    1;
21277 +      END;
21278 +    IF _BRANCH_ LT 0 THEN DO;
21279 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
21280 +    END;
21281 +    IF _BRANCH_ GT 0 THEN DO;
21282 +       _ARB_F_ + 0.0110589969;
21283 +      END;
21284 +    END;
21285 +  END;
21286 +
21287 +********** LEAF   157  NODE  1533 ***************;
21288 +IF _ARB_BADF_ EQ 0 THEN DO;
21289 +
21290 +  _BRANCH_ = -1;
21291 +    IF  NOT MISSING(Average_Rating ) AND
21292 +    Average_Rating  <                 4.15 THEN DO;
21293 +     _BRANCH_ =    1;
21294 +    END;
21295 +  IF _BRANCH_ LT 0 THEN DO;
21296 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
21297 +  END;
21298 +  IF _BRANCH_ GT 0 THEN DO;
21299 +
21300 +    _BRANCH_ = -1;
21301 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21302 +          3.92192431907623 <= LOG_Items_Purchased  THEN DO;
21303 +       _BRANCH_ =    2;
21304 +      END;
21305 +
21306 +    IF _BRANCH_ GT 0 THEN DO;
21307 +       _ARB_F_ + -0.134554936;
21308 +      END;
21309 +    END;
21310 +  END;
21311 +
21312 +********** LEAF   158  NODE  1534 ***************;
21313 +IF _ARB_BADF_ EQ 0 THEN DO;
21314 +
21315 +  _BRANCH_ = -1;
21316 +    IF  NOT MISSING(Average_Rating ) AND
21317 +                    4.15 <= Average_Rating  THEN DO;
21318 +     _BRANCH_ =    2;
21319 +    END;
21320 +
21321 +  IF _BRANCH_ GT 0 THEN DO;
21322 +
21323 +    _BRANCH_ = -1;
21324 +    _ARBFMT_13 = PUT( City , $13.);
21325 +     %DMNORMIP( _ARBFMT_13);
21326 +      IF _ARBFMT_13 IN ('NEW YORK' ,'HOUSTON' ) THEN DO;
21327 +       _BRANCH_ =    1;
21328 +      END;
21329 +
21330 +    IF _BRANCH_ GT 0 THEN DO;
21331 +       _ARB_F_ + 0.0126656096;
21332 +      END;
21333 +    END;
21334 +  END;
21335 +
21336 +********** LEAF   159  NODE  1535 ***************;
21337 +IF _ARB_BADF_ EQ 0 THEN DO;
21338 +
21339 +  _BRANCH_ = -1;
21340 +    IF  NOT MISSING(Average_Rating ) AND
21341 +                    4.15 <= Average_Rating  THEN DO;
21342 +     _BRANCH_ =    2;
21343 +    END;
21344 +
21345 +  IF _BRANCH_ GT 0 THEN DO;
21346 +
21347 +    _BRANCH_ = -1;
21348 +    _ARBFMT_13 = PUT( City , $13.);
21349 +     %DMNORMIP( _ARBFMT_13);
21350 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'CHICAGO' )
21351 +       THEN DO;
21352 +       _BRANCH_ =    2;
21353 +      END;
21354 +    IF _BRANCH_ LT 0 THEN DO;
21355 +       IF MISSING( City  ) THEN _BRANCH_ = 2;
21356 +      ELSE IF _ARBFMT_13 NOTIN (
21357 +        'NEW YORK' ,'HOUSTON' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
21358 +        'CHICAGO'
21359 +         ) THEN _BRANCH_ = 2;
21360 +    END;
21361 +    IF _BRANCH_ GT 0 THEN DO;
21362 +       _ARB_F_ + -0.021992725;
21363 +      END;
21364 +    END;
21365 +  END;
21366 +
21367 +********** LEAF   160  NODE  1537 ***************;
21368 +IF _ARB_BADF_ EQ 0 THEN DO;
21369 +
21370 +  _BRANCH_ = -1;
21371 +    IF  NOT MISSING(Average_Rating ) AND
21372 +    Average_Rating  <                 3.05 THEN DO;
21373 +     _BRANCH_ =    1;
21374 +    END;
21375 +
21376 +  IF _BRANCH_ GT 0 THEN DO;
21377 +     _ARB_F_ + 0.0838349144;
21378 +    END;
21379 +  END;
21380 +
21381 +********** LEAF   161  NODE  1539 ***************;
21382 +IF _ARB_BADF_ EQ 0 THEN DO;
21383 +
21384 +  _BRANCH_ = -1;
21385 +    IF  NOT MISSING(Average_Rating ) AND
21386 +                    3.05 <= Average_Rating  THEN DO;
21387 +     _BRANCH_ =    2;
21388 +    END;
21389 +  IF _BRANCH_ LT 0 THEN DO;
21390 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
21391 +  END;
21392 +  IF _BRANCH_ GT 0 THEN DO;
21393 +
21394 +    _BRANCH_ = -1;
21395 +      IF  NOT MISSING(Total_Spend ) AND
21396 +      Total_Spend  <                 1467 THEN DO;
21397 +       _BRANCH_ =    1;
21398 +      END;
21399 +    IF _BRANCH_ LT 0 THEN DO;
21400 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
21401 +    END;
21402 +    IF _BRANCH_ GT 0 THEN DO;
21403 +       _ARB_F_ + 0.0016580002;
21404 +      END;
21405 +    END;
21406 +  END;
21407 +
21408 +********** LEAF   162  NODE  1540 ***************;
21409 +IF _ARB_BADF_ EQ 0 THEN DO;
21410 +
21411 +  _BRANCH_ = -1;
21412 +    IF  NOT MISSING(Average_Rating ) AND
21413 +                    3.05 <= Average_Rating  THEN DO;
21414 +     _BRANCH_ =    2;
21415 +    END;
21416 +  IF _BRANCH_ LT 0 THEN DO;
21417 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
21418 +  END;
21419 +  IF _BRANCH_ GT 0 THEN DO;
21420 +
21421 +    _BRANCH_ = -1;
21422 +      IF  NOT MISSING(Total_Spend ) AND
21423 +                      1467 <= Total_Spend  THEN DO;
21424 +       _BRANCH_ =    2;
21425 +      END;
21426 +
21427 +    IF _BRANCH_ GT 0 THEN DO;
21428 +       _ARB_F_ + -0.024787735;
21429 +      END;
21430 +    END;
21431 +  END;
21432 +
21433 +********** LEAF   163  NODE  1544 ***************;
21434 +IF _ARB_BADF_ EQ 0 THEN DO;
21435 +
21436 +  _BRANCH_ = -1;
21437 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
21438 +    LOG_Items_Purchased  <     3.77269487480591 THEN DO;
21439 +     _BRANCH_ =    1;
21440 +    END;
21441 +  IF _BRANCH_ LT 0 THEN DO;
21442 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
21443 +  END;
21444 +  IF _BRANCH_ GT 0 THEN DO;
21445 +
21446 +    _BRANCH_ = -1;
21447 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21448 +      LOG_Items_Purchased  <     3.72562084249383 THEN DO;
21449 +       _BRANCH_ =    1;
21450 +      END;
21451 +    IF _BRANCH_ LT 0 THEN DO;
21452 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
21453 +    END;
21454 +    IF _BRANCH_ GT 0 THEN DO;
21455 +       _ARB_F_ + 0.0000318843;
21456 +      END;
21457 +    END;
21458 +  END;
21459 +
21460 +********** LEAF   164  NODE  1545 ***************;
21461 +IF _ARB_BADF_ EQ 0 THEN DO;
21462 +
21463 +  _BRANCH_ = -1;
21464 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
21465 +    LOG_Items_Purchased  <     3.77269487480591 THEN DO;
21466 +     _BRANCH_ =    1;
21467 +    END;
21468 +  IF _BRANCH_ LT 0 THEN DO;
21469 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
21470 +  END;
21471 +  IF _BRANCH_ GT 0 THEN DO;
21472 +
21473 +    _BRANCH_ = -1;
21474 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
21475 +          3.72562084249383 <= LOG_Items_Purchased  THEN DO;
21476 +       _BRANCH_ =    2;
21477 +      END;
21478 +
21479 +    IF _BRANCH_ GT 0 THEN DO;
21480 +       _ARB_F_ + -0.088604057;
21481 +      END;
21482 +    END;
21483 +  END;
21484 +
21485 +********** LEAF   165  NODE  1546 ***************;
21486 +IF _ARB_BADF_ EQ 0 THEN DO;
21487 +
21488 +  _BRANCH_ = -1;
21489 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
21490 +        3.77269487480591 <= LOG_Items_Purchased  THEN DO;
21491 +     _BRANCH_ =    2;
21492 +    END;
21493 +
21494 +  IF _BRANCH_ GT 0 THEN DO;
21495 +
21496 +    _BRANCH_ = -1;
21497 +      IF  NOT MISSING(Total_Spend ) AND
21498 +      Total_Spend  <                 1192 THEN DO;
21499 +       _BRANCH_ =    1;
21500 +      END;
21501 +    IF _BRANCH_ LT 0 THEN DO;
21502 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
21503 +    END;
21504 +    IF _BRANCH_ GT 0 THEN DO;
21505 +       _ARB_F_ + 0.0386590658;
21506 +      END;
21507 +    END;
21508 +  END;
21509 +
21510 +********** LEAF   166  NODE  1547 ***************;
21511 +IF _ARB_BADF_ EQ 0 THEN DO;
21512 +
21513 +  _BRANCH_ = -1;
21514 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
21515 +        3.77269487480591 <= LOG_Items_Purchased  THEN DO;
21516 +     _BRANCH_ =    2;
21517 +    END;
21518 +
21519 +  IF _BRANCH_ GT 0 THEN DO;
21520 +
21521 +    _BRANCH_ = -1;
21522 +      IF  NOT MISSING(Total_Spend ) AND
21523 +                      1192 <= Total_Spend  THEN DO;
21524 +       _BRANCH_ =    2;
21525 +      END;
21526 +
21527 +    IF _BRANCH_ GT 0 THEN DO;
21528 +       _ARB_F_ + -0.037580488;
21529 +      END;
21530 +    END;
21531 +  END;
21532 +
21533 +********** LEAF   167  NODE  1549 ***************;
21534 +IF _ARB_BADF_ EQ 0 THEN DO;
21535 +
21536 +  _BRANCH_ = -1;
21537 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21538 +    Days_Since_Last_Purchase  <                  9.5 THEN DO;
21539 +     _BRANCH_ =    1;
21540 +    END;
21541 +
21542 +  IF _BRANCH_ GT 0 THEN DO;
21543 +     _ARB_F_ + 0.0732765308;
21544 +    END;
21545 +  END;
21546 +
21547 +********** LEAF   168  NODE  1551 ***************;
21548 +IF _ARB_BADF_ EQ 0 THEN DO;
21549 +
21550 +  _BRANCH_ = -1;
21551 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21552 +                     9.5 <= Days_Since_Last_Purchase  THEN DO;
21553 +     _BRANCH_ =    2;
21554 +    END;
21555 +  IF _BRANCH_ LT 0 THEN DO;
21556 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
21557 +  END;
21558 +  IF _BRANCH_ GT 0 THEN DO;
21559 +
21560 +    _BRANCH_ = -1;
21561 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21562 +     %DMNORMIP( _ARBFMT_12);
21563 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
21564 +       _BRANCH_ =    1;
21565 +      END;
21566 +    IF _BRANCH_ LT 0 THEN DO;
21567 +       IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
21568 +      ELSE IF _ARBFMT_12 NOTIN (
21569 +        '0' ,'1'
21570 +         ) THEN _BRANCH_ = 1;
21571 +    END;
21572 +    IF _BRANCH_ GT 0 THEN DO;
21573 +       _ARB_F_ + 0.0074949851;
21574 +      END;
21575 +    END;
21576 +  END;
21577 +
21578 +********** LEAF   169  NODE  1552 ***************;
21579 +IF _ARB_BADF_ EQ 0 THEN DO;
21580 +
21581 +  _BRANCH_ = -1;
21582 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21583 +                     9.5 <= Days_Since_Last_Purchase  THEN DO;
21584 +     _BRANCH_ =    2;
21585 +    END;
21586 +  IF _BRANCH_ LT 0 THEN DO;
21587 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
21588 +  END;
21589 +  IF _BRANCH_ GT 0 THEN DO;
21590 +
21591 +    _BRANCH_ = -1;
21592 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
21593 +     %DMNORMIP( _ARBFMT_12);
21594 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
21595 +       _BRANCH_ =    2;
21596 +      END;
21597 +
21598 +    IF _BRANCH_ GT 0 THEN DO;
21599 +       _ARB_F_ + -0.009464161;
21600 +      END;
21601 +    END;
21602 +  END;
21603 +
21604 +********** LEAF   170  NODE  1556 ***************;
21605 +IF _ARB_BADF_ EQ 0 THEN DO;
21606 +
21607 +  _BRANCH_ = -1;
21608 +    IF  NOT MISSING(Total_Spend ) AND
21609 +    Total_Spend  <                424.5 THEN DO;
21610 +     _BRANCH_ =    1;
21611 +    END;
21612 +
21613 +  IF _BRANCH_ GT 0 THEN DO;
21614 +
21615 +    _BRANCH_ = -1;
21616 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21617 +      Days_Since_Last_Purchase  <                 23.5 THEN DO;
21618 +       _BRANCH_ =    1;
21619 +      END;
21620 +    IF _BRANCH_ LT 0 THEN DO;
21621 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
21622 +    END;
21623 +    IF _BRANCH_ GT 0 THEN DO;
21624 +       _ARB_F_ + 0.0862332728;
21625 +      END;
21626 +    END;
21627 +  END;
21628 +
21629 +********** LEAF   171  NODE  1557 ***************;
21630 +IF _ARB_BADF_ EQ 0 THEN DO;
21631 +
21632 +  _BRANCH_ = -1;
21633 +    IF  NOT MISSING(Total_Spend ) AND
21634 +    Total_Spend  <                424.5 THEN DO;
21635 +     _BRANCH_ =    1;
21636 +    END;
21637 +
21638 +  IF _BRANCH_ GT 0 THEN DO;
21639 +
21640 +    _BRANCH_ = -1;
21641 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21642 +                      23.5 <= Days_Since_Last_Purchase  THEN DO;
21643 +       _BRANCH_ =    2;
21644 +      END;
21645 +
21646 +    IF _BRANCH_ GT 0 THEN DO;
21647 +       _ARB_F_ + 0.0049830841;
21648 +      END;
21649 +    END;
21650 +  END;
21651 +
21652 +********** LEAF   172  NODE  1558 ***************;
21653 +IF _ARB_BADF_ EQ 0 THEN DO;
21654 +
21655 +  _BRANCH_ = -1;
21656 +    IF  NOT MISSING(Total_Spend ) AND
21657 +                   424.5 <= Total_Spend  THEN DO;
21658 +     _BRANCH_ =    2;
21659 +    END;
21660 +  IF _BRANCH_ LT 0 THEN DO;
21661 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
21662 +  END;
21663 +  IF _BRANCH_ GT 0 THEN DO;
21664 +
21665 +    _BRANCH_ = -1;
21666 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21667 +      Days_Since_Last_Purchase  <                 47.5 THEN DO;
21668 +       _BRANCH_ =    1;
21669 +      END;
21670 +    IF _BRANCH_ LT 0 THEN DO;
21671 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
21672 +    END;
21673 +    IF _BRANCH_ GT 0 THEN DO;
21674 +       _ARB_F_ + -0.006079068;
21675 +      END;
21676 +    END;
21677 +  END;
21678 +
21679 +********** LEAF   173  NODE  1559 ***************;
21680 +IF _ARB_BADF_ EQ 0 THEN DO;
21681 +
21682 +  _BRANCH_ = -1;
21683 +    IF  NOT MISSING(Total_Spend ) AND
21684 +                   424.5 <= Total_Spend  THEN DO;
21685 +     _BRANCH_ =    2;
21686 +    END;
21687 +  IF _BRANCH_ LT 0 THEN DO;
21688 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
21689 +  END;
21690 +  IF _BRANCH_ GT 0 THEN DO;
21691 +
21692 +    _BRANCH_ = -1;
21693 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21694 +                      47.5 <= Days_Since_Last_Purchase  THEN DO;
21695 +       _BRANCH_ =    2;
21696 +      END;
21697 +
21698 +    IF _BRANCH_ GT 0 THEN DO;
21699 +       _ARB_F_ + 0.0133283096;
21700 +      END;
21701 +    END;
21702 +  END;
21703 +
21704 +********** LEAF   174  NODE  1563 ***************;
21705 +IF _ARB_BADF_ EQ 0 THEN DO;
21706 +
21707 +  _BRANCH_ = -1;
21708 +  _ARBFMT_6 = PUT( Membership_Type , $6.);
21709 +   %DMNORMIP( _ARBFMT_6);
21710 +    IF _ARBFMT_6 IN ('GOLD' ) THEN DO;
21711 +     _BRANCH_ =    1;
21712 +    END;
21713 +
21714 +  IF _BRANCH_ GT 0 THEN DO;
21715 +
21716 +    _BRANCH_ = -1;
21717 +      IF  NOT MISSING(LOG_IMP_Age ) AND
21718 +      LOG_IMP_Age  <     3.67622055012179 THEN DO;
21719 +       _BRANCH_ =    1;
21720 +      END;
21721 +    IF _BRANCH_ LT 0 THEN DO;
21722 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
21723 +    END;
21724 +    IF _BRANCH_ GT 0 THEN DO;
21725 +       _ARB_F_ + 0.0275141925;
21726 +      END;
21727 +    END;
21728 +  END;
21729 +
21730 +********** LEAF   175  NODE  1564 ***************;
21731 +IF _ARB_BADF_ EQ 0 THEN DO;
21732 +
21733 +  _BRANCH_ = -1;
21734 +  _ARBFMT_6 = PUT( Membership_Type , $6.);
21735 +   %DMNORMIP( _ARBFMT_6);
21736 +    IF _ARBFMT_6 IN ('GOLD' ) THEN DO;
21737 +     _BRANCH_ =    1;
21738 +    END;
21739 +
21740 +  IF _BRANCH_ GT 0 THEN DO;
21741 +
21742 +    _BRANCH_ = -1;
21743 +      IF  NOT MISSING(LOG_IMP_Age ) AND
21744 +          3.67622055012179 <= LOG_IMP_Age  THEN DO;
21745 +       _BRANCH_ =    2;
21746 +      END;
21747 +
21748 +    IF _BRANCH_ GT 0 THEN DO;
21749 +       _ARB_F_ + -0.009058537;
21750 +      END;
21751 +    END;
21752 +  END;
21753 +
21754 +********** LEAF   176  NODE  1565 ***************;
21755 +IF _ARB_BADF_ EQ 0 THEN DO;
21756 +
21757 +  _BRANCH_ = -1;
21758 +  _ARBFMT_6 = PUT( Membership_Type , $6.);
21759 +   %DMNORMIP( _ARBFMT_6);
21760 +    IF _ARBFMT_6 IN ('SILVER' ,'BRONZE' ) THEN DO;
21761 +     _BRANCH_ =    2;
21762 +    END;
21763 +  IF _BRANCH_ LT 0 THEN DO;
21764 +     IF MISSING( Membership_Type  ) THEN _BRANCH_ = 2;
21765 +    ELSE IF _ARBFMT_6 NOTIN (
21766 +      'GOLD' ,'SILVER' ,'BRONZE'
21767 +       ) THEN _BRANCH_ = 2;
21768 +  END;
21769 +  IF _BRANCH_ GT 0 THEN DO;
21770 +
21771 +    _BRANCH_ = -1;
21772 +      IF  NOT MISSING(Total_Spend ) AND
21773 +      Total_Spend  <                 1420 THEN DO;
21774 +       _BRANCH_ =    1;
21775 +      END;
21776 +    IF _BRANCH_ LT 0 THEN DO;
21777 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
21778 +    END;
21779 +    IF _BRANCH_ GT 0 THEN DO;
21780 +       _ARB_F_ + -0.007647941;
21781 +      END;
21782 +    END;
21783 +  END;
21784 +
21785 +********** LEAF   177  NODE  1566 ***************;
21786 +IF _ARB_BADF_ EQ 0 THEN DO;
21787 +
21788 +  _BRANCH_ = -1;
21789 +  _ARBFMT_6 = PUT( Membership_Type , $6.);
21790 +   %DMNORMIP( _ARBFMT_6);
21791 +    IF _ARBFMT_6 IN ('SILVER' ,'BRONZE' ) THEN DO;
21792 +     _BRANCH_ =    2;
21793 +    END;
21794 +  IF _BRANCH_ LT 0 THEN DO;
21795 +     IF MISSING( Membership_Type  ) THEN _BRANCH_ = 2;
21796 +    ELSE IF _ARBFMT_6 NOTIN (
21797 +      'GOLD' ,'SILVER' ,'BRONZE'
21798 +       ) THEN _BRANCH_ = 2;
21799 +  END;
21800 +  IF _BRANCH_ GT 0 THEN DO;
21801 +
21802 +    _BRANCH_ = -1;
21803 +      IF  NOT MISSING(Total_Spend ) AND
21804 +                      1420 <= Total_Spend  THEN DO;
21805 +       _BRANCH_ =    2;
21806 +      END;
21807 +
21808 +    IF _BRANCH_ GT 0 THEN DO;
21809 +       _ARB_F_ + 0.0549972772;
21810 +      END;
21811 +    END;
21812 +  END;
21813 +
21814 +********** LEAF   178  NODE  1570 ***************;
21815 +IF _ARB_BADF_ EQ 0 THEN DO;
21816 +
21817 +  _BRANCH_ = -1;
21818 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21819 +    Days_Since_Last_Purchase  <                 10.5 THEN DO;
21820 +     _BRANCH_ =    1;
21821 +    END;
21822 +
21823 +  IF _BRANCH_ GT 0 THEN DO;
21824 +
21825 +    _BRANCH_ = -1;
21826 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
21827 +     %DMNORMIP( _ARBFMT_11);
21828 +      IF _ARBFMT_11 IN ('BOOKS' ) THEN DO;
21829 +       _BRANCH_ =    1;
21830 +      END;
21831 +    IF _BRANCH_ LT 0 THEN DO;
21832 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
21833 +      ELSE IF _ARBFMT_11 NOTIN (
21834 +        'BOOKS' ,'ELECTRONICS'
21835 +         ) THEN _BRANCH_ = 1;
21836 +    END;
21837 +    IF _BRANCH_ GT 0 THEN DO;
21838 +       _ARB_F_ + 0.0809309376;
21839 +      END;
21840 +    END;
21841 +  END;
21842 +
21843 +********** LEAF   179  NODE  1571 ***************;
21844 +IF _ARB_BADF_ EQ 0 THEN DO;
21845 +
21846 +  _BRANCH_ = -1;
21847 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21848 +    Days_Since_Last_Purchase  <                 10.5 THEN DO;
21849 +     _BRANCH_ =    1;
21850 +    END;
21851 +
21852 +  IF _BRANCH_ GT 0 THEN DO;
21853 +
21854 +    _BRANCH_ = -1;
21855 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
21856 +     %DMNORMIP( _ARBFMT_11);
21857 +      IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
21858 +       _BRANCH_ =    2;
21859 +      END;
21860 +
21861 +    IF _BRANCH_ GT 0 THEN DO;
21862 +       _ARB_F_ + -0.002053128;
21863 +      END;
21864 +    END;
21865 +  END;
21866 +
21867 +********** LEAF   180  NODE  1572 ***************;
21868 +IF _ARB_BADF_ EQ 0 THEN DO;
21869 +
21870 +  _BRANCH_ = -1;
21871 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21872 +                    10.5 <= Days_Since_Last_Purchase  THEN DO;
21873 +     _BRANCH_ =    2;
21874 +    END;
21875 +  IF _BRANCH_ LT 0 THEN DO;
21876 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
21877 +  END;
21878 +  IF _BRANCH_ GT 0 THEN DO;
21879 +
21880 +    _BRANCH_ = -1;
21881 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
21882 +     %DMNORMIP( _ARBFMT_11);
21883 +      IF _ARBFMT_11 IN ('SATISFIED' ) THEN DO;
21884 +       _BRANCH_ =    1;
21885 +      END;
21886 +
21887 +    IF _BRANCH_ GT 0 THEN DO;
21888 +       _ARB_F_ + -0.013413726;
21889 +      END;
21890 +    END;
21891 +  END;
21892 +
21893 +********** LEAF   181  NODE  1573 ***************;
21894 +IF _ARB_BADF_ EQ 0 THEN DO;
21895 +
21896 +  _BRANCH_ = -1;
21897 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
21898 +                    10.5 <= Days_Since_Last_Purchase  THEN DO;
21899 +     _BRANCH_ =    2;
21900 +    END;
21901 +  IF _BRANCH_ LT 0 THEN DO;
21902 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
21903 +  END;
21904 +  IF _BRANCH_ GT 0 THEN DO;
21905 +
21906 +    _BRANCH_ = -1;
21907 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
21908 +     %DMNORMIP( _ARBFMT_11);
21909 +      IF _ARBFMT_11 IN ('NEUTRAL' ,'UNSATISFIED' ) THEN DO;
21910 +       _BRANCH_ =    2;
21911 +      END;
21912 +    IF _BRANCH_ LT 0 THEN DO;
21913 +       IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 2;
21914 +      ELSE IF _ARBFMT_11 NOTIN (
21915 +        'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
21916 +         ) THEN _BRANCH_ = 2;
21917 +    END;
21918 +    IF _BRANCH_ GT 0 THEN DO;
21919 +       _ARB_F_ + 0.0023744518;
21920 +      END;
21921 +    END;
21922 +  END;
21923 +
21924 +********** LEAF   182  NODE  1577 ***************;
21925 +IF _ARB_BADF_ EQ 0 THEN DO;
21926 +
21927 +  _BRANCH_ = -1;
21928 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21929 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
21930 +     _BRANCH_ =    1;
21931 +    END;
21932 +  IF _BRANCH_ LT 0 THEN DO;
21933 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
21934 +  END;
21935 +  IF _BRANCH_ GT 0 THEN DO;
21936 +
21937 +    _BRANCH_ = -1;
21938 +      IF  NOT MISSING(LOG_IMP_Age ) AND
21939 +      LOG_IMP_Age  <      3.4811217321331 THEN DO;
21940 +       _BRANCH_ =    1;
21941 +      END;
21942 +
21943 +    IF _BRANCH_ GT 0 THEN DO;
21944 +       _ARB_F_ + -0.011210557;
21945 +      END;
21946 +    END;
21947 +  END;
21948 +
21949 +********** LEAF   183  NODE  1578 ***************;
21950 +IF _ARB_BADF_ EQ 0 THEN DO;
21951 +
21952 +  _BRANCH_ = -1;
21953 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21954 +    LOG_IMP_Age  <     4.01634243798381 THEN DO;
21955 +     _BRANCH_ =    1;
21956 +    END;
21957 +  IF _BRANCH_ LT 0 THEN DO;
21958 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
21959 +  END;
21960 +  IF _BRANCH_ GT 0 THEN DO;
21961 +
21962 +    _BRANCH_ = -1;
21963 +      IF  NOT MISSING(LOG_IMP_Age ) AND
21964 +           3.4811217321331 <= LOG_IMP_Age  THEN DO;
21965 +       _BRANCH_ =    2;
21966 +      END;
21967 +    IF _BRANCH_ LT 0 THEN DO;
21968 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
21969 +    END;
21970 +    IF _BRANCH_ GT 0 THEN DO;
21971 +       _ARB_F_ + 0.0068140196;
21972 +      END;
21973 +    END;
21974 +  END;
21975 +
21976 +********** LEAF   184  NODE  1576 ***************;
21977 +IF _ARB_BADF_ EQ 0 THEN DO;
21978 +
21979 +  _BRANCH_ = -1;
21980 +    IF  NOT MISSING(LOG_IMP_Age ) AND
21981 +        4.01634243798381 <= LOG_IMP_Age  THEN DO;
21982 +     _BRANCH_ =    2;
21983 +    END;
21984 +
21985 +  IF _BRANCH_ GT 0 THEN DO;
21986 +     _ARB_F_ + -0.091844856;
21987 +    END;
21988 +  END;
21989 +
21990 +********** LEAF   185  NODE  1580 ***************;
21991 +IF _ARB_BADF_ EQ 0 THEN DO;
21992 +
21993 +  _BRANCH_ = -1;
21994 +    IF  NOT MISSING(Total_Spend ) AND
21995 +    Total_Spend  <                  405 THEN DO;
21996 +     _BRANCH_ =    1;
21997 +    END;
21998 +
21999 +  IF _BRANCH_ GT 0 THEN DO;
22000 +     _ARB_F_ + -0.101916635;
22001 +    END;
22002 +  END;
22003 +
22004 +********** LEAF   186  NODE  1582 ***************;
22005 +IF _ARB_BADF_ EQ 0 THEN DO;
22006 +
22007 +  _BRANCH_ = -1;
22008 +    IF  NOT MISSING(Total_Spend ) AND
22009 +                     405 <= Total_Spend  THEN DO;
22010 +     _BRANCH_ =    2;
22011 +    END;
22012 +  IF _BRANCH_ LT 0 THEN DO;
22013 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
22014 +  END;
22015 +  IF _BRANCH_ GT 0 THEN DO;
22016 +
22017 +    _BRANCH_ = -1;
22018 +      IF  NOT MISSING(Average_Rating ) AND
22019 +      Average_Rating  <                 4.65 THEN DO;
22020 +       _BRANCH_ =    1;
22021 +      END;
22022 +    IF _BRANCH_ LT 0 THEN DO;
22023 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
22024 +    END;
22025 +    IF _BRANCH_ GT 0 THEN DO;
22026 +       _ARB_F_ + -0.002749863;
22027 +      END;
22028 +    END;
22029 +  END;
22030 +
22031 +********** LEAF   187  NODE  1583 ***************;
22032 +IF _ARB_BADF_ EQ 0 THEN DO;
22033 +
22034 +  _BRANCH_ = -1;
22035 +    IF  NOT MISSING(Total_Spend ) AND
22036 +                     405 <= Total_Spend  THEN DO;
22037 +     _BRANCH_ =    2;
22038 +    END;
22039 +  IF _BRANCH_ LT 0 THEN DO;
22040 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
22041 +  END;
22042 +  IF _BRANCH_ GT 0 THEN DO;
22043 +
22044 +    _BRANCH_ = -1;
22045 +      IF  NOT MISSING(Average_Rating ) AND
22046 +                      4.65 <= Average_Rating  THEN DO;
22047 +       _BRANCH_ =    2;
22048 +      END;
22049 +
22050 +    IF _BRANCH_ GT 0 THEN DO;
22051 +       _ARB_F_ + 0.0161546652;
22052 +      END;
22053 +    END;
22054 +  END;
22055 +
22056 +********** LEAF   188  NODE  1587 ***************;
22057 +IF _ARB_BADF_ EQ 0 THEN DO;
22058 +
22059 +  _BRANCH_ = -1;
22060 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22061 +    Days_Since_Last_Purchase  <                 10.5 THEN DO;
22062 +     _BRANCH_ =    1;
22063 +    END;
22064 +
22065 +  IF _BRANCH_ GT 0 THEN DO;
22066 +
22067 +    _BRANCH_ = -1;
22068 +      IF  NOT MISSING(Average_Rating ) AND
22069 +      Average_Rating  <                  4.8 THEN DO;
22070 +       _BRANCH_ =    1;
22071 +      END;
22072 +
22073 +    IF _BRANCH_ GT 0 THEN DO;
22074 +       _ARB_F_ + -0.102660351;
22075 +      END;
22076 +    END;
22077 +  END;
22078 +
22079 +********** LEAF   189  NODE  1588 ***************;
22080 +IF _ARB_BADF_ EQ 0 THEN DO;
22081 +
22082 +  _BRANCH_ = -1;
22083 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22084 +    Days_Since_Last_Purchase  <                 10.5 THEN DO;
22085 +     _BRANCH_ =    1;
22086 +    END;
22087 +
22088 +  IF _BRANCH_ GT 0 THEN DO;
22089 +
22090 +    _BRANCH_ = -1;
22091 +      IF  NOT MISSING(Average_Rating ) AND
22092 +                       4.8 <= Average_Rating  THEN DO;
22093 +       _BRANCH_ =    2;
22094 +      END;
22095 +    IF _BRANCH_ LT 0 THEN DO;
22096 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
22097 +    END;
22098 +    IF _BRANCH_ GT 0 THEN DO;
22099 +       _ARB_F_ + 0.0002270032;
22100 +      END;
22101 +    END;
22102 +  END;
22103 +
22104 +********** LEAF   190  NODE  1589 ***************;
22105 +IF _ARB_BADF_ EQ 0 THEN DO;
22106 +
22107 +  _BRANCH_ = -1;
22108 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22109 +                    10.5 <= Days_Since_Last_Purchase  THEN DO;
22110 +     _BRANCH_ =    2;
22111 +    END;
22112 +  IF _BRANCH_ LT 0 THEN DO;
22113 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22114 +  END;
22115 +  IF _BRANCH_ GT 0 THEN DO;
22116 +
22117 +    _BRANCH_ = -1;
22118 +      IF  NOT MISSING(LOG_IMP_Age ) AND
22119 +      LOG_IMP_Age  <      3.4811217321331 THEN DO;
22120 +       _BRANCH_ =    1;
22121 +      END;
22122 +
22123 +    IF _BRANCH_ GT 0 THEN DO;
22124 +       _ARB_F_ + -0.010107812;
22125 +      END;
22126 +    END;
22127 +  END;
22128 +
22129 +********** LEAF   191  NODE  1590 ***************;
22130 +IF _ARB_BADF_ EQ 0 THEN DO;
22131 +
22132 +  _BRANCH_ = -1;
22133 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22134 +                    10.5 <= Days_Since_Last_Purchase  THEN DO;
22135 +     _BRANCH_ =    2;
22136 +    END;
22137 +  IF _BRANCH_ LT 0 THEN DO;
22138 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22139 +  END;
22140 +  IF _BRANCH_ GT 0 THEN DO;
22141 +
22142 +    _BRANCH_ = -1;
22143 +      IF  NOT MISSING(LOG_IMP_Age ) AND
22144 +           3.4811217321331 <= LOG_IMP_Age  THEN DO;
22145 +       _BRANCH_ =    2;
22146 +      END;
22147 +    IF _BRANCH_ LT 0 THEN DO;
22148 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
22149 +    END;
22150 +    IF _BRANCH_ GT 0 THEN DO;
22151 +       _ARB_F_ + 0.0061753892;
22152 +      END;
22153 +    END;
22154 +  END;
22155 +
22156 +********** LEAF   192  NODE  1594 ***************;
22157 +IF _ARB_BADF_ EQ 0 THEN DO;
22158 +
22159 +  _BRANCH_ = -1;
22160 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22161 +    Days_Since_Last_Purchase  <                 21.5 THEN DO;
22162 +     _BRANCH_ =    1;
22163 +    END;
22164 +
22165 +  IF _BRANCH_ GT 0 THEN DO;
22166 +
22167 +    _BRANCH_ = -1;
22168 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22169 +      Days_Since_Last_Purchase  <                 20.5 THEN DO;
22170 +       _BRANCH_ =    1;
22171 +      END;
22172 +    IF _BRANCH_ LT 0 THEN DO;
22173 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
22174 +    END;
22175 +    IF _BRANCH_ GT 0 THEN DO;
22176 +       _ARB_F_ + 0.0069131884;
22177 +      END;
22178 +    END;
22179 +  END;
22180 +
22181 +********** LEAF   193  NODE  1595 ***************;
22182 +IF _ARB_BADF_ EQ 0 THEN DO;
22183 +
22184 +  _BRANCH_ = -1;
22185 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22186 +    Days_Since_Last_Purchase  <                 21.5 THEN DO;
22187 +     _BRANCH_ =    1;
22188 +    END;
22189 +
22190 +  IF _BRANCH_ GT 0 THEN DO;
22191 +
22192 +    _BRANCH_ = -1;
22193 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22194 +                      20.5 <= Days_Since_Last_Purchase  THEN DO;
22195 +       _BRANCH_ =    2;
22196 +      END;
22197 +
22198 +    IF _BRANCH_ GT 0 THEN DO;
22199 +       _ARB_F_ + 0.0750663654;
22200 +      END;
22201 +    END;
22202 +  END;
22203 +
22204 +********** LEAF   194  NODE  1596 ***************;
22205 +IF _ARB_BADF_ EQ 0 THEN DO;
22206 +
22207 +  _BRANCH_ = -1;
22208 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22209 +                    21.5 <= Days_Since_Last_Purchase  THEN DO;
22210 +     _BRANCH_ =    2;
22211 +    END;
22212 +  IF _BRANCH_ LT 0 THEN DO;
22213 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22214 +  END;
22215 +  IF _BRANCH_ GT 0 THEN DO;
22216 +
22217 +    _BRANCH_ = -1;
22218 +      IF  NOT MISSING(Average_Rating ) AND
22219 +      Average_Rating  <                 4.35 THEN DO;
22220 +       _BRANCH_ =    1;
22221 +      END;
22222 +    IF _BRANCH_ LT 0 THEN DO;
22223 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
22224 +    END;
22225 +    IF _BRANCH_ GT 0 THEN DO;
22226 +       _ARB_F_ + -0.013651558;
22227 +      END;
22228 +    END;
22229 +  END;
22230 +
22231 +********** LEAF   195  NODE  1597 ***************;
22232 +IF _ARB_BADF_ EQ 0 THEN DO;
22233 +
22234 +  _BRANCH_ = -1;
22235 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22236 +                    21.5 <= Days_Since_Last_Purchase  THEN DO;
22237 +     _BRANCH_ =    2;
22238 +    END;
22239 +  IF _BRANCH_ LT 0 THEN DO;
22240 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22241 +  END;
22242 +  IF _BRANCH_ GT 0 THEN DO;
22243 +
22244 +    _BRANCH_ = -1;
22245 +      IF  NOT MISSING(Average_Rating ) AND
22246 +                      4.35 <= Average_Rating  THEN DO;
22247 +       _BRANCH_ =    2;
22248 +      END;
22249 +
22250 +    IF _BRANCH_ GT 0 THEN DO;
22251 +       _ARB_F_ + 0.0105761912;
22252 +      END;
22253 +    END;
22254 +  END;
22255 +
22256 +********** LEAF   196  NODE  1601 ***************;
22257 +IF _ARB_BADF_ EQ 0 THEN DO;
22258 +
22259 +  _BRANCH_ = -1;
22260 +  _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
22261 +   %DMNORMIP( _ARBFMT_12);
22262 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
22263 +     _BRANCH_ =    1;
22264 +    END;
22265 +
22266 +  IF _BRANCH_ GT 0 THEN DO;
22267 +
22268 +    _BRANCH_ = -1;
22269 +    _ARBFMT_13 = PUT( City , $13.);
22270 +     %DMNORMIP( _ARBFMT_13);
22271 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ) THEN DO;
22272 +       _BRANCH_ =    1;
22273 +      END;
22274 +
22275 +    IF _BRANCH_ GT 0 THEN DO;
22276 +       _ARB_F_ + -0.011827913;
22277 +      END;
22278 +    END;
22279 +  END;
22280 +
22281 +********** LEAF   197  NODE  1602 ***************;
22282 +IF _ARB_BADF_ EQ 0 THEN DO;
22283 +
22284 +  _BRANCH_ = -1;
22285 +  _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
22286 +   %DMNORMIP( _ARBFMT_12);
22287 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
22288 +     _BRANCH_ =    1;
22289 +    END;
22290 +
22291 +  IF _BRANCH_ GT 0 THEN DO;
22292 +
22293 +    _BRANCH_ = -1;
22294 +    _ARBFMT_13 = PUT( City , $13.);
22295 +     %DMNORMIP( _ARBFMT_13);
22296 +      IF _ARBFMT_13 IN ('MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ) THEN
22297 +        DO;
22298 +       _BRANCH_ =    2;
22299 +      END;
22300 +    IF _BRANCH_ LT 0 THEN DO;
22301 +       IF MISSING( City  ) THEN _BRANCH_ = 2;
22302 +      ELSE IF _ARBFMT_13 NOTIN (
22303 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
22304 +        'CHICAGO'
22305 +         ) THEN _BRANCH_ = 2;
22306 +    END;
22307 +    IF _BRANCH_ GT 0 THEN DO;
22308 +       _ARB_F_ + 0.0218283706;
22309 +      END;
22310 +    END;
22311 +  END;
22312 +
22313 +********** LEAF   198  NODE  1603 ***************;
22314 +IF _ARB_BADF_ EQ 0 THEN DO;
22315 +
22316 +  _BRANCH_ = -1;
22317 +  _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
22318 +   %DMNORMIP( _ARBFMT_12);
22319 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
22320 +     _BRANCH_ =    2;
22321 +    END;
22322 +  IF _BRANCH_ LT 0 THEN DO;
22323 +     IF MISSING( Discount_Applied_Binary  ) THEN _BRANCH_ = 2;
22324 +    ELSE IF _ARBFMT_12 NOTIN (
22325 +      '1' ,'0'
22326 +       ) THEN _BRANCH_ = 2;
22327 +  END;
22328 +  IF _BRANCH_ GT 0 THEN DO;
22329 +
22330 +    _BRANCH_ = -1;
22331 +      IF  NOT MISSING(Total_Spend ) AND
22332 +      Total_Spend  <               1218.5 THEN DO;
22333 +       _BRANCH_ =    1;
22334 +      END;
22335 +    IF _BRANCH_ LT 0 THEN DO;
22336 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
22337 +    END;
22338 +    IF _BRANCH_ GT 0 THEN DO;
22339 +       _ARB_F_ + -0.018314537;
22340 +      END;
22341 +    END;
22342 +  END;
22343 +
22344 +********** LEAF   199  NODE  1604 ***************;
22345 +IF _ARB_BADF_ EQ 0 THEN DO;
22346 +
22347 +  _BRANCH_ = -1;
22348 +  _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
22349 +   %DMNORMIP( _ARBFMT_12);
22350 +    IF _ARBFMT_12 IN ('0' ) THEN DO;
22351 +     _BRANCH_ =    2;
22352 +    END;
22353 +  IF _BRANCH_ LT 0 THEN DO;
22354 +     IF MISSING( Discount_Applied_Binary  ) THEN _BRANCH_ = 2;
22355 +    ELSE IF _ARBFMT_12 NOTIN (
22356 +      '1' ,'0'
22357 +       ) THEN _BRANCH_ = 2;
22358 +  END;
22359 +  IF _BRANCH_ GT 0 THEN DO;
22360 +
22361 +    _BRANCH_ = -1;
22362 +      IF  NOT MISSING(Total_Spend ) AND
22363 +                    1218.5 <= Total_Spend  THEN DO;
22364 +       _BRANCH_ =    2;
22365 +      END;
22366 +
22367 +    IF _BRANCH_ GT 0 THEN DO;
22368 +       _ARB_F_ + 0.012621952;
22369 +      END;
22370 +    END;
22371 +  END;
22372 +
22373 +********** LEAF   200  NODE  1608 ***************;
22374 +IF _ARB_BADF_ EQ 0 THEN DO;
22375 +
22376 +  _BRANCH_ = -1;
22377 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22378 +    LOG_IMP_Age  <     3.31402068808976 THEN DO;
22379 +     _BRANCH_ =    1;
22380 +    END;
22381 +
22382 +  IF _BRANCH_ GT 0 THEN DO;
22383 +
22384 +    _BRANCH_ = -1;
22385 +      IF  NOT MISSING(Total_Spend ) AND
22386 +      Total_Spend  <                714.5 THEN DO;
22387 +       _BRANCH_ =    1;
22388 +      END;
22389 +
22390 +    IF _BRANCH_ GT 0 THEN DO;
22391 +       _ARB_F_ + -0.012095574;
22392 +      END;
22393 +    END;
22394 +  END;
22395 +
22396 +********** LEAF   201  NODE  1609 ***************;
22397 +IF _ARB_BADF_ EQ 0 THEN DO;
22398 +
22399 +  _BRANCH_ = -1;
22400 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22401 +    LOG_IMP_Age  <     3.31402068808976 THEN DO;
22402 +     _BRANCH_ =    1;
22403 +    END;
22404 +
22405 +  IF _BRANCH_ GT 0 THEN DO;
22406 +
22407 +    _BRANCH_ = -1;
22408 +      IF  NOT MISSING(Total_Spend ) AND
22409 +                     714.5 <= Total_Spend  THEN DO;
22410 +       _BRANCH_ =    2;
22411 +      END;
22412 +    IF _BRANCH_ LT 0 THEN DO;
22413 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
22414 +    END;
22415 +    IF _BRANCH_ GT 0 THEN DO;
22416 +       _ARB_F_ + 0.0433691406;
22417 +      END;
22418 +    END;
22419 +  END;
22420 +
22421 +********** LEAF   202  NODE  1610 ***************;
22422 +IF _ARB_BADF_ EQ 0 THEN DO;
22423 +
22424 +  _BRANCH_ = -1;
22425 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22426 +        3.31402068808976 <= LOG_IMP_Age  THEN DO;
22427 +     _BRANCH_ =    2;
22428 +    END;
22429 +  IF _BRANCH_ LT 0 THEN DO;
22430 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
22431 +  END;
22432 +  IF _BRANCH_ GT 0 THEN DO;
22433 +
22434 +    _BRANCH_ = -1;
22435 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22436 +      Days_Since_Last_Purchase  <                 11.5 THEN DO;
22437 +       _BRANCH_ =    1;
22438 +      END;
22439 +
22440 +    IF _BRANCH_ GT 0 THEN DO;
22441 +       _ARB_F_ + -0.034856223;
22442 +      END;
22443 +    END;
22444 +  END;
22445 +
22446 +********** LEAF   203  NODE  1611 ***************;
22447 +IF _ARB_BADF_ EQ 0 THEN DO;
22448 +
22449 +  _BRANCH_ = -1;
22450 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22451 +        3.31402068808976 <= LOG_IMP_Age  THEN DO;
22452 +     _BRANCH_ =    2;
22453 +    END;
22454 +  IF _BRANCH_ LT 0 THEN DO;
22455 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
22456 +  END;
22457 +  IF _BRANCH_ GT 0 THEN DO;
22458 +
22459 +    _BRANCH_ = -1;
22460 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22461 +                      11.5 <= Days_Since_Last_Purchase  THEN DO;
22462 +       _BRANCH_ =    2;
22463 +      END;
22464 +    IF _BRANCH_ LT 0 THEN DO;
22465 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22466 +    END;
22467 +    IF _BRANCH_ GT 0 THEN DO;
22468 +       _ARB_F_ + -0.000818323;
22469 +      END;
22470 +    END;
22471 +  END;
22472 +
22473 +********** LEAF   204  NODE  1615 ***************;
22474 +IF _ARB_BADF_ EQ 0 THEN DO;
22475 +
22476 +  _BRANCH_ = -1;
22477 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22478 +    LOG_IMP_Age  <      3.4811217321331 THEN DO;
22479 +     _BRANCH_ =    1;
22480 +    END;
22481 +
22482 +  IF _BRANCH_ GT 0 THEN DO;
22483 +
22484 +    _BRANCH_ = -1;
22485 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
22486 +     %DMNORMIP( _ARBFMT_11);
22487 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'HOME GOODS' ) THEN DO;
22488 +       _BRANCH_ =    1;
22489 +      END;
22490 +
22491 +    IF _BRANCH_ GT 0 THEN DO;
22492 +       _ARB_F_ + -0.026405505;
22493 +      END;
22494 +    END;
22495 +  END;
22496 +
22497 +********** LEAF   205  NODE  1616 ***************;
22498 +IF _ARB_BADF_ EQ 0 THEN DO;
22499 +
22500 +  _BRANCH_ = -1;
22501 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22502 +    LOG_IMP_Age  <      3.4811217321331 THEN DO;
22503 +     _BRANCH_ =    1;
22504 +    END;
22505 +
22506 +  IF _BRANCH_ GT 0 THEN DO;
22507 +
22508 +    _BRANCH_ = -1;
22509 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
22510 +     %DMNORMIP( _ARBFMT_11);
22511 +      IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ) THEN DO;
22512 +       _BRANCH_ =    2;
22513 +      END;
22514 +    IF _BRANCH_ LT 0 THEN DO;
22515 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
22516 +      ELSE IF _ARBFMT_11 NOTIN (
22517 +        'ELECTRONICS' ,'HOME GOODS' ,'CLOTHING' ,'BOOKS'
22518 +         ) THEN _BRANCH_ = 2;
22519 +    END;
22520 +    IF _BRANCH_ GT 0 THEN DO;
22521 +       _ARB_F_ + 0.0014118503;
22522 +      END;
22523 +    END;
22524 +  END;
22525 +
22526 +********** LEAF   206  NODE  1617 ***************;
22527 +IF _ARB_BADF_ EQ 0 THEN DO;
22528 +
22529 +  _BRANCH_ = -1;
22530 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22531 +         3.4811217321331 <= LOG_IMP_Age  THEN DO;
22532 +     _BRANCH_ =    2;
22533 +    END;
22534 +  IF _BRANCH_ LT 0 THEN DO;
22535 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
22536 +  END;
22537 +  IF _BRANCH_ GT 0 THEN DO;
22538 +
22539 +    _BRANCH_ = -1;
22540 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22541 +     %DMNORMIP( _ARBFMT_6);
22542 +      IF _ARBFMT_6 IN ('GOLD' ,'SILVER' ) THEN DO;
22543 +       _BRANCH_ =    1;
22544 +      END;
22545 +    IF _BRANCH_ LT 0 THEN DO;
22546 +       IF MISSING( Membership_Type  ) THEN _BRANCH_ = 1;
22547 +      ELSE IF _ARBFMT_6 NOTIN (
22548 +        'GOLD' ,'SILVER' ,'BRONZE'
22549 +         ) THEN _BRANCH_ = 1;
22550 +    END;
22551 +    IF _BRANCH_ GT 0 THEN DO;
22552 +       _ARB_F_ + -0.001253661;
22553 +      END;
22554 +    END;
22555 +  END;
22556 +
22557 +********** LEAF   207  NODE  1618 ***************;
22558 +IF _ARB_BADF_ EQ 0 THEN DO;
22559 +
22560 +  _BRANCH_ = -1;
22561 +    IF  NOT MISSING(LOG_IMP_Age ) AND
22562 +         3.4811217321331 <= LOG_IMP_Age  THEN DO;
22563 +     _BRANCH_ =    2;
22564 +    END;
22565 +  IF _BRANCH_ LT 0 THEN DO;
22566 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
22567 +  END;
22568 +  IF _BRANCH_ GT 0 THEN DO;
22569 +
22570 +    _BRANCH_ = -1;
22571 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22572 +     %DMNORMIP( _ARBFMT_6);
22573 +      IF _ARBFMT_6 IN ('BRONZE' ) THEN DO;
22574 +       _BRANCH_ =    2;
22575 +      END;
22576 +
22577 +    IF _BRANCH_ GT 0 THEN DO;
22578 +       _ARB_F_ + 0.0180329329;
22579 +      END;
22580 +    END;
22581 +  END;
22582 +
22583 +********** LEAF   208  NODE  1622 ***************;
22584 +IF _ARB_BADF_ EQ 0 THEN DO;
22585 +
22586 +  _BRANCH_ = -1;
22587 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22588 +    Days_Since_Last_Purchase  <                 24.5 THEN DO;
22589 +     _BRANCH_ =    1;
22590 +    END;
22591 +
22592 +  IF _BRANCH_ GT 0 THEN DO;
22593 +
22594 +    _BRANCH_ = -1;
22595 +      IF  NOT MISSING(Average_Rating ) AND
22596 +      Average_Rating  <                 4.25 THEN DO;
22597 +       _BRANCH_ =    1;
22598 +      END;
22599 +    IF _BRANCH_ LT 0 THEN DO;
22600 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
22601 +    END;
22602 +    IF _BRANCH_ GT 0 THEN DO;
22603 +       _ARB_F_ + 0.021443981;
22604 +      END;
22605 +    END;
22606 +  END;
22607 +
22608 +********** LEAF   209  NODE  1623 ***************;
22609 +IF _ARB_BADF_ EQ 0 THEN DO;
22610 +
22611 +  _BRANCH_ = -1;
22612 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22613 +    Days_Since_Last_Purchase  <                 24.5 THEN DO;
22614 +     _BRANCH_ =    1;
22615 +    END;
22616 +
22617 +  IF _BRANCH_ GT 0 THEN DO;
22618 +
22619 +    _BRANCH_ = -1;
22620 +      IF  NOT MISSING(Average_Rating ) AND
22621 +                      4.25 <= Average_Rating  THEN DO;
22622 +       _BRANCH_ =    2;
22623 +      END;
22624 +
22625 +    IF _BRANCH_ GT 0 THEN DO;
22626 +       _ARB_F_ + -0.002428932;
22627 +      END;
22628 +    END;
22629 +  END;
22630 +
22631 +********** LEAF   210  NODE  1624 ***************;
22632 +IF _ARB_BADF_ EQ 0 THEN DO;
22633 +
22634 +  _BRANCH_ = -1;
22635 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22636 +                    24.5 <= Days_Since_Last_Purchase  THEN DO;
22637 +     _BRANCH_ =    2;
22638 +    END;
22639 +  IF _BRANCH_ LT 0 THEN DO;
22640 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22641 +  END;
22642 +  IF _BRANCH_ GT 0 THEN DO;
22643 +
22644 +    _BRANCH_ = -1;
22645 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22646 +     %DMNORMIP( _ARBFMT_6);
22647 +      IF _ARBFMT_6 IN ('GOLD' ) THEN DO;
22648 +       _BRANCH_ =    1;
22649 +      END;
22650 +
22651 +    IF _BRANCH_ GT 0 THEN DO;
22652 +       _ARB_F_ + 0.0155916419;
22653 +      END;
22654 +    END;
22655 +  END;
22656 +
22657 +********** LEAF   211  NODE  1625 ***************;
22658 +IF _ARB_BADF_ EQ 0 THEN DO;
22659 +
22660 +  _BRANCH_ = -1;
22661 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22662 +                    24.5 <= Days_Since_Last_Purchase  THEN DO;
22663 +     _BRANCH_ =    2;
22664 +    END;
22665 +  IF _BRANCH_ LT 0 THEN DO;
22666 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22667 +  END;
22668 +  IF _BRANCH_ GT 0 THEN DO;
22669 +
22670 +    _BRANCH_ = -1;
22671 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22672 +     %DMNORMIP( _ARBFMT_6);
22673 +      IF _ARBFMT_6 IN ('SILVER' ,'BRONZE' ) THEN DO;
22674 +       _BRANCH_ =    2;
22675 +      END;
22676 +    IF _BRANCH_ LT 0 THEN DO;
22677 +       IF MISSING( Membership_Type  ) THEN _BRANCH_ = 2;
22678 +      ELSE IF _ARBFMT_6 NOTIN (
22679 +        'GOLD' ,'SILVER' ,'BRONZE'
22680 +         ) THEN _BRANCH_ = 2;
22681 +    END;
22682 +    IF _BRANCH_ GT 0 THEN DO;
22683 +       _ARB_F_ + -0.013406972;
22684 +      END;
22685 +    END;
22686 +  END;
22687 +
22688 +********** LEAF   212  NODE  1629 ***************;
22689 +IF _ARB_BADF_ EQ 0 THEN DO;
22690 +
22691 +  _BRANCH_ = -1;
22692 +  _ARBFMT_13 = PUT( City , $13.);
22693 +   %DMNORMIP( _ARBFMT_13);
22694 +    IF _ARBFMT_13 IN ('NEW YORK' ,'HOUSTON' ) THEN DO;
22695 +     _BRANCH_ =    1;
22696 +    END;
22697 +
22698 +  IF _BRANCH_ GT 0 THEN DO;
22699 +
22700 +    _BRANCH_ = -1;
22701 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22702 +      Days_Since_Last_Purchase  <                 12.5 THEN DO;
22703 +       _BRANCH_ =    1;
22704 +      END;
22705 +
22706 +    IF _BRANCH_ GT 0 THEN DO;
22707 +       _ARB_F_ + 0.0865125732;
22708 +      END;
22709 +    END;
22710 +  END;
22711 +
22712 +********** LEAF   213  NODE  1630 ***************;
22713 +IF _ARB_BADF_ EQ 0 THEN DO;
22714 +
22715 +  _BRANCH_ = -1;
22716 +  _ARBFMT_13 = PUT( City , $13.);
22717 +   %DMNORMIP( _ARBFMT_13);
22718 +    IF _ARBFMT_13 IN ('NEW YORK' ,'HOUSTON' ) THEN DO;
22719 +     _BRANCH_ =    1;
22720 +    END;
22721 +
22722 +  IF _BRANCH_ GT 0 THEN DO;
22723 +
22724 +    _BRANCH_ = -1;
22725 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22726 +                      12.5 <= Days_Since_Last_Purchase  THEN DO;
22727 +       _BRANCH_ =    2;
22728 +      END;
22729 +    IF _BRANCH_ LT 0 THEN DO;
22730 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
22731 +    END;
22732 +    IF _BRANCH_ GT 0 THEN DO;
22733 +       _ARB_F_ + -0.014837516;
22734 +      END;
22735 +    END;
22736 +  END;
22737 +
22738 +********** LEAF   214  NODE  1631 ***************;
22739 +IF _ARB_BADF_ EQ 0 THEN DO;
22740 +
22741 +  _BRANCH_ = -1;
22742 +  _ARBFMT_13 = PUT( City , $13.);
22743 +   %DMNORMIP( _ARBFMT_13);
22744 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'CHICAGO' )
22745 +     THEN DO;
22746 +     _BRANCH_ =    2;
22747 +    END;
22748 +  IF _BRANCH_ LT 0 THEN DO;
22749 +     IF MISSING( City  ) THEN _BRANCH_ = 2;
22750 +    ELSE IF _ARBFMT_13 NOTIN (
22751 +      'NEW YORK' ,'HOUSTON' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
22752 +      'CHICAGO'
22753 +       ) THEN _BRANCH_ = 2;
22754 +  END;
22755 +  IF _BRANCH_ GT 0 THEN DO;
22756 +
22757 +    _BRANCH_ = -1;
22758 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22759 +     %DMNORMIP( _ARBFMT_6);
22760 +      IF _ARBFMT_6 IN ('GOLD' ) THEN DO;
22761 +       _BRANCH_ =    1;
22762 +      END;
22763 +
22764 +    IF _BRANCH_ GT 0 THEN DO;
22765 +       _ARB_F_ + 0.02134773;
22766 +      END;
22767 +    END;
22768 +  END;
22769 +
22770 +********** LEAF   215  NODE  1632 ***************;
22771 +IF _ARB_BADF_ EQ 0 THEN DO;
22772 +
22773 +  _BRANCH_ = -1;
22774 +  _ARBFMT_13 = PUT( City , $13.);
22775 +   %DMNORMIP( _ARBFMT_13);
22776 +    IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'CHICAGO' )
22777 +     THEN DO;
22778 +     _BRANCH_ =    2;
22779 +    END;
22780 +  IF _BRANCH_ LT 0 THEN DO;
22781 +     IF MISSING( City  ) THEN _BRANCH_ = 2;
22782 +    ELSE IF _ARBFMT_13 NOTIN (
22783 +      'NEW YORK' ,'HOUSTON' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
22784 +      'CHICAGO'
22785 +       ) THEN _BRANCH_ = 2;
22786 +  END;
22787 +  IF _BRANCH_ GT 0 THEN DO;
22788 +
22789 +    _BRANCH_ = -1;
22790 +    _ARBFMT_6 = PUT( Membership_Type , $6.);
22791 +     %DMNORMIP( _ARBFMT_6);
22792 +      IF _ARBFMT_6 IN ('SILVER' ,'BRONZE' ) THEN DO;
22793 +       _BRANCH_ =    2;
22794 +      END;
22795 +    IF _BRANCH_ LT 0 THEN DO;
22796 +       IF MISSING( Membership_Type  ) THEN _BRANCH_ = 2;
22797 +      ELSE IF _ARBFMT_6 NOTIN (
22798 +        'GOLD' ,'SILVER' ,'BRONZE'
22799 +         ) THEN _BRANCH_ = 2;
22800 +    END;
22801 +    IF _BRANCH_ GT 0 THEN DO;
22802 +       _ARB_F_ + -0.001556517;
22803 +      END;
22804 +    END;
22805 +  END;
22806 +
22807 +********** LEAF   216  NODE  1636 ***************;
22808 +IF _ARB_BADF_ EQ 0 THEN DO;
22809 +
22810 +  _BRANCH_ = -1;
22811 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22812 +    Days_Since_Last_Purchase  <                 50.5 THEN DO;
22813 +     _BRANCH_ =    1;
22814 +    END;
22815 +  IF _BRANCH_ LT 0 THEN DO;
22816 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
22817 +  END;
22818 +  IF _BRANCH_ GT 0 THEN DO;
22819 +
22820 +    _BRANCH_ = -1;
22821 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
22822 +     %DMNORMIP( _ARBFMT_11);
22823 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ,'BOOKS' ) THEN DO;
22824 +       _BRANCH_ =    1;
22825 +      END;
22826 +    IF _BRANCH_ LT 0 THEN DO;
22827 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
22828 +      ELSE IF _ARBFMT_11 NOTIN (
22829 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
22830 +         ) THEN _BRANCH_ = 1;
22831 +    END;
22832 +    IF _BRANCH_ GT 0 THEN DO;
22833 +       _ARB_F_ + -0.009877685;
22834 +      END;
22835 +    END;
22836 +  END;
22837 +
22838 +********** LEAF   217  NODE  1637 ***************;
22839 +IF _ARB_BADF_ EQ 0 THEN DO;
22840 +
22841 +  _BRANCH_ = -1;
22842 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22843 +    Days_Since_Last_Purchase  <                 50.5 THEN DO;
22844 +     _BRANCH_ =    1;
22845 +    END;
22846 +  IF _BRANCH_ LT 0 THEN DO;
22847 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
22848 +  END;
22849 +  IF _BRANCH_ GT 0 THEN DO;
22850 +
22851 +    _BRANCH_ = -1;
22852 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
22853 +     %DMNORMIP( _ARBFMT_11);
22854 +      IF _ARBFMT_11 IN ('HOME GOODS' ) THEN DO;
22855 +       _BRANCH_ =    2;
22856 +      END;
22857 +
22858 +    IF _BRANCH_ GT 0 THEN DO;
22859 +       _ARB_F_ + 0.0138517368;
22860 +      END;
22861 +    END;
22862 +  END;
22863 +
22864 +********** LEAF   218  NODE  1638 ***************;
22865 +IF _ARB_BADF_ EQ 0 THEN DO;
22866 +
22867 +  _BRANCH_ = -1;
22868 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22869 +                    50.5 <= Days_Since_Last_Purchase  THEN DO;
22870 +     _BRANCH_ =    2;
22871 +    END;
22872 +
22873 +  IF _BRANCH_ GT 0 THEN DO;
22874 +
22875 +    _BRANCH_ = -1;
22876 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
22877 +     %DMNORMIP( _ARBFMT_12);
22878 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
22879 +       _BRANCH_ =    1;
22880 +      END;
22881 +
22882 +    IF _BRANCH_ GT 0 THEN DO;
22883 +       _ARB_F_ + 0.0393737908;
22884 +      END;
22885 +    END;
22886 +  END;
22887 +
22888 +********** LEAF   219  NODE  1639 ***************;
22889 +IF _ARB_BADF_ EQ 0 THEN DO;
22890 +
22891 +  _BRANCH_ = -1;
22892 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
22893 +                    50.5 <= Days_Since_Last_Purchase  THEN DO;
22894 +     _BRANCH_ =    2;
22895 +    END;
22896 +
22897 +  IF _BRANCH_ GT 0 THEN DO;
22898 +
22899 +    _BRANCH_ = -1;
22900 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
22901 +     %DMNORMIP( _ARBFMT_12);
22902 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
22903 +       _BRANCH_ =    2;
22904 +      END;
22905 +    IF _BRANCH_ LT 0 THEN DO;
22906 +       IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
22907 +      ELSE IF _ARBFMT_12 NOTIN (
22908 +        '0' ,'1'
22909 +         ) THEN _BRANCH_ = 2;
22910 +    END;
22911 +    IF _BRANCH_ GT 0 THEN DO;
22912 +       _ARB_F_ + 0.0005690596;
22913 +      END;
22914 +    END;
22915 +  END;
22916 +
22917 +********** LEAF   220  NODE  1643 ***************;
22918 +IF _ARB_BADF_ EQ 0 THEN DO;
22919 +
22920 +  _BRANCH_ = -1;
22921 +    IF  NOT MISSING(Total_Spend ) AND
22922 +    Total_Spend  <                691.3 THEN DO;
22923 +     _BRANCH_ =    1;
22924 +    END;
22925 +
22926 +  IF _BRANCH_ GT 0 THEN DO;
22927 +
22928 +    _BRANCH_ = -1;
22929 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
22930 +      LOG_Items_Purchased  <     3.51143404304132 THEN DO;
22931 +       _BRANCH_ =    1;
22932 +      END;
22933 +    IF _BRANCH_ LT 0 THEN DO;
22934 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
22935 +    END;
22936 +    IF _BRANCH_ GT 0 THEN DO;
22937 +       _ARB_F_ + 0.0030919194;
22938 +      END;
22939 +    END;
22940 +  END;
22941 +
22942 +********** LEAF   221  NODE  1644 ***************;
22943 +IF _ARB_BADF_ EQ 0 THEN DO;
22944 +
22945 +  _BRANCH_ = -1;
22946 +    IF  NOT MISSING(Total_Spend ) AND
22947 +    Total_Spend  <                691.3 THEN DO;
22948 +     _BRANCH_ =    1;
22949 +    END;
22950 +
22951 +  IF _BRANCH_ GT 0 THEN DO;
22952 +
22953 +    _BRANCH_ = -1;
22954 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
22955 +          3.51143404304132 <= LOG_Items_Purchased  THEN DO;
22956 +       _BRANCH_ =    2;
22957 +      END;
22958 +
22959 +    IF _BRANCH_ GT 0 THEN DO;
22960 +       _ARB_F_ + 0.056471756;
22961 +      END;
22962 +    END;
22963 +  END;
22964 +
22965 +********** LEAF   222  NODE  1645 ***************;
22966 +IF _ARB_BADF_ EQ 0 THEN DO;
22967 +
22968 +  _BRANCH_ = -1;
22969 +    IF  NOT MISSING(Total_Spend ) AND
22970 +                   691.3 <= Total_Spend  THEN DO;
22971 +     _BRANCH_ =    2;
22972 +    END;
22973 +  IF _BRANCH_ LT 0 THEN DO;
22974 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
22975 +  END;
22976 +  IF _BRANCH_ GT 0 THEN DO;
22977 +
22978 +    _BRANCH_ = -1;
22979 +      IF  NOT MISSING(Total_Spend ) AND
22980 +      Total_Spend  <                  753 THEN DO;
22981 +       _BRANCH_ =    1;
22982 +      END;
22983 +
22984 +    IF _BRANCH_ GT 0 THEN DO;
22985 +       _ARB_F_ + -0.038171302;
22986 +      END;
22987 +    END;
22988 +  END;
22989 +
22990 +********** LEAF   223  NODE  1646 ***************;
22991 +IF _ARB_BADF_ EQ 0 THEN DO;
22992 +
22993 +  _BRANCH_ = -1;
22994 +    IF  NOT MISSING(Total_Spend ) AND
22995 +                   691.3 <= Total_Spend  THEN DO;
22996 +     _BRANCH_ =    2;
22997 +    END;
22998 +  IF _BRANCH_ LT 0 THEN DO;
22999 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23000 +  END;
23001 +  IF _BRANCH_ GT 0 THEN DO;
23002 +
23003 +    _BRANCH_ = -1;
23004 +      IF  NOT MISSING(Total_Spend ) AND
23005 +                       753 <= Total_Spend  THEN DO;
23006 +       _BRANCH_ =    2;
23007 +      END;
23008 +    IF _BRANCH_ LT 0 THEN DO;
23009 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23010 +    END;
23011 +    IF _BRANCH_ GT 0 THEN DO;
23012 +       _ARB_F_ + -0.003246367;
23013 +      END;
23014 +    END;
23015 +  END;
23016 +
23017 +********** LEAF   224  NODE  1650 ***************;
23018 +IF _ARB_BADF_ EQ 0 THEN DO;
23019 +
23020 +  _BRANCH_ = -1;
23021 +  _ARBFMT_13 = PUT( City , $13.);
23022 +   %DMNORMIP( _ARBFMT_13);
23023 +    IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' )
23024 +     THEN DO;
23025 +     _BRANCH_ =    1;
23026 +    END;
23027 +  IF _BRANCH_ LT 0 THEN DO;
23028 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
23029 +    ELSE IF _ARBFMT_13 NOTIN (
23030 +      'NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' ,'MIAMI' ,
23031 +      'HOUSTON'
23032 +       ) THEN _BRANCH_ = 1;
23033 +  END;
23034 +  IF _BRANCH_ GT 0 THEN DO;
23035 +
23036 +    _BRANCH_ = -1;
23037 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23038 +      Days_Since_Last_Purchase  <                 44.5 THEN DO;
23039 +       _BRANCH_ =    1;
23040 +      END;
23041 +    IF _BRANCH_ LT 0 THEN DO;
23042 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
23043 +    END;
23044 +    IF _BRANCH_ GT 0 THEN DO;
23045 +       _ARB_F_ + -0.014078446;
23046 +      END;
23047 +    END;
23048 +  END;
23049 +
23050 +********** LEAF   225  NODE  1651 ***************;
23051 +IF _ARB_BADF_ EQ 0 THEN DO;
23052 +
23053 +  _BRANCH_ = -1;
23054 +  _ARBFMT_13 = PUT( City , $13.);
23055 +   %DMNORMIP( _ARBFMT_13);
23056 +    IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' )
23057 +     THEN DO;
23058 +     _BRANCH_ =    1;
23059 +    END;
23060 +  IF _BRANCH_ LT 0 THEN DO;
23061 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
23062 +    ELSE IF _ARBFMT_13 NOTIN (
23063 +      'NEW YORK' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'CHICAGO' ,'MIAMI' ,
23064 +      'HOUSTON'
23065 +       ) THEN _BRANCH_ = 1;
23066 +  END;
23067 +  IF _BRANCH_ GT 0 THEN DO;
23068 +
23069 +    _BRANCH_ = -1;
23070 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23071 +                      44.5 <= Days_Since_Last_Purchase  THEN DO;
23072 +       _BRANCH_ =    2;
23073 +      END;
23074 +
23075 +    IF _BRANCH_ GT 0 THEN DO;
23076 +       _ARB_F_ + 0.0143030456;
23077 +      END;
23078 +    END;
23079 +  END;
23080 +
23081 +********** LEAF   226  NODE  1652 ***************;
23082 +IF _ARB_BADF_ EQ 0 THEN DO;
23083 +
23084 +  _BRANCH_ = -1;
23085 +  _ARBFMT_13 = PUT( City , $13.);
23086 +   %DMNORMIP( _ARBFMT_13);
23087 +    IF _ARBFMT_13 IN ('MIAMI' ,'HOUSTON' ) THEN DO;
23088 +     _BRANCH_ =    2;
23089 +    END;
23090 +
23091 +  IF _BRANCH_ GT 0 THEN DO;
23092 +
23093 +    _BRANCH_ = -1;
23094 +      IF  NOT MISSING(Total_Spend ) AND
23095 +      Total_Spend  <                933.5 THEN DO;
23096 +       _BRANCH_ =    1;
23097 +      END;
23098 +    IF _BRANCH_ LT 0 THEN DO;
23099 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23100 +    END;
23101 +    IF _BRANCH_ GT 0 THEN DO;
23102 +       _ARB_F_ + 0.0009581438;
23103 +      END;
23104 +    END;
23105 +  END;
23106 +
23107 +********** LEAF   227  NODE  1653 ***************;
23108 +IF _ARB_BADF_ EQ 0 THEN DO;
23109 +
23110 +  _BRANCH_ = -1;
23111 +  _ARBFMT_13 = PUT( City , $13.);
23112 +   %DMNORMIP( _ARBFMT_13);
23113 +    IF _ARBFMT_13 IN ('MIAMI' ,'HOUSTON' ) THEN DO;
23114 +     _BRANCH_ =    2;
23115 +    END;
23116 +
23117 +  IF _BRANCH_ GT 0 THEN DO;
23118 +
23119 +    _BRANCH_ = -1;
23120 +      IF  NOT MISSING(Total_Spend ) AND
23121 +                     933.5 <= Total_Spend  THEN DO;
23122 +       _BRANCH_ =    2;
23123 +      END;
23124 +
23125 +    IF _BRANCH_ GT 0 THEN DO;
23126 +       _ARB_F_ + 0.0351670023;
23127 +      END;
23128 +    END;
23129 +  END;
23130 +
23131 +********** LEAF   228  NODE  1657 ***************;
23132 +IF _ARB_BADF_ EQ 0 THEN DO;
23133 +
23134 +  _BRANCH_ = -1;
23135 +    IF  NOT MISSING(Average_Rating ) AND
23136 +    Average_Rating  <                 3.55 THEN DO;
23137 +     _BRANCH_ =    1;
23138 +    END;
23139 +
23140 +  IF _BRANCH_ GT 0 THEN DO;
23141 +
23142 +    _BRANCH_ = -1;
23143 +      IF  NOT MISSING(LOG_IMP_Age ) AND
23144 +      LOG_IMP_Age  <     3.65057390292801 THEN DO;
23145 +       _BRANCH_ =    1;
23146 +      END;
23147 +    IF _BRANCH_ LT 0 THEN DO;
23148 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23149 +    END;
23150 +    IF _BRANCH_ GT 0 THEN DO;
23151 +       _ARB_F_ + -0.036889177;
23152 +      END;
23153 +    END;
23154 +  END;
23155 +
23156 +********** LEAF   229  NODE  1658 ***************;
23157 +IF _ARB_BADF_ EQ 0 THEN DO;
23158 +
23159 +  _BRANCH_ = -1;
23160 +    IF  NOT MISSING(Average_Rating ) AND
23161 +    Average_Rating  <                 3.55 THEN DO;
23162 +     _BRANCH_ =    1;
23163 +    END;
23164 +
23165 +  IF _BRANCH_ GT 0 THEN DO;
23166 +
23167 +    _BRANCH_ = -1;
23168 +      IF  NOT MISSING(LOG_IMP_Age ) AND
23169 +          3.65057390292801 <= LOG_IMP_Age  THEN DO;
23170 +       _BRANCH_ =    2;
23171 +      END;
23172 +
23173 +    IF _BRANCH_ GT 0 THEN DO;
23174 +       _ARB_F_ + 0.0081350948;
23175 +      END;
23176 +    END;
23177 +  END;
23178 +
23179 +********** LEAF   230  NODE  1659 ***************;
23180 +IF _ARB_BADF_ EQ 0 THEN DO;
23181 +
23182 +  _BRANCH_ = -1;
23183 +    IF  NOT MISSING(Average_Rating ) AND
23184 +                    3.55 <= Average_Rating  THEN DO;
23185 +     _BRANCH_ =    2;
23186 +    END;
23187 +  IF _BRANCH_ LT 0 THEN DO;
23188 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
23189 +  END;
23190 +  IF _BRANCH_ GT 0 THEN DO;
23191 +
23192 +    _BRANCH_ = -1;
23193 +      IF  NOT MISSING(Total_Spend ) AND
23194 +      Total_Spend  <                  478 THEN DO;
23195 +       _BRANCH_ =    1;
23196 +      END;
23197 +
23198 +    IF _BRANCH_ GT 0 THEN DO;
23199 +       _ARB_F_ + 0.0381882044;
23200 +      END;
23201 +    END;
23202 +  END;
23203 +
23204 +********** LEAF   231  NODE  1660 ***************;
23205 +IF _ARB_BADF_ EQ 0 THEN DO;
23206 +
23207 +  _BRANCH_ = -1;
23208 +    IF  NOT MISSING(Average_Rating ) AND
23209 +                    3.55 <= Average_Rating  THEN DO;
23210 +     _BRANCH_ =    2;
23211 +    END;
23212 +  IF _BRANCH_ LT 0 THEN DO;
23213 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
23214 +  END;
23215 +  IF _BRANCH_ GT 0 THEN DO;
23216 +
23217 +    _BRANCH_ = -1;
23218 +      IF  NOT MISSING(Total_Spend ) AND
23219 +                       478 <= Total_Spend  THEN DO;
23220 +       _BRANCH_ =    2;
23221 +      END;
23222 +    IF _BRANCH_ LT 0 THEN DO;
23223 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23224 +    END;
23225 +    IF _BRANCH_ GT 0 THEN DO;
23226 +       _ARB_F_ + 0.0014929843;
23227 +      END;
23228 +    END;
23229 +  END;
23230 +
23231 +********** LEAF   232  NODE  1664 ***************;
23232 +IF _ARB_BADF_ EQ 0 THEN DO;
23233 +
23234 +  _BRANCH_ = -1;
23235 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23236 +    LOG_IMP_Age  <     3.90192165176938 THEN DO;
23237 +     _BRANCH_ =    1;
23238 +    END;
23239 +  IF _BRANCH_ LT 0 THEN DO;
23240 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23241 +  END;
23242 +  IF _BRANCH_ GT 0 THEN DO;
23243 +
23244 +    _BRANCH_ = -1;
23245 +      IF  NOT MISSING(Average_Rating ) AND
23246 +      Average_Rating  <                 3.15 THEN DO;
23247 +       _BRANCH_ =    1;
23248 +      END;
23249 +
23250 +    IF _BRANCH_ GT 0 THEN DO;
23251 +       _ARB_F_ + -0.033282403;
23252 +      END;
23253 +    END;
23254 +  END;
23255 +
23256 +********** LEAF   233  NODE  1665 ***************;
23257 +IF _ARB_BADF_ EQ 0 THEN DO;
23258 +
23259 +  _BRANCH_ = -1;
23260 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23261 +    LOG_IMP_Age  <     3.90192165176938 THEN DO;
23262 +     _BRANCH_ =    1;
23263 +    END;
23264 +  IF _BRANCH_ LT 0 THEN DO;
23265 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23266 +  END;
23267 +  IF _BRANCH_ GT 0 THEN DO;
23268 +
23269 +    _BRANCH_ = -1;
23270 +      IF  NOT MISSING(Average_Rating ) AND
23271 +                      3.15 <= Average_Rating  THEN DO;
23272 +       _BRANCH_ =    2;
23273 +      END;
23274 +    IF _BRANCH_ LT 0 THEN DO;
23275 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
23276 +    END;
23277 +    IF _BRANCH_ GT 0 THEN DO;
23278 +       _ARB_F_ + 0.0073335634;
23279 +      END;
23280 +    END;
23281 +  END;
23282 +
23283 +********** LEAF   234  NODE  1666 ***************;
23284 +IF _ARB_BADF_ EQ 0 THEN DO;
23285 +
23286 +  _BRANCH_ = -1;
23287 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23288 +        3.90192165176938 <= LOG_IMP_Age  THEN DO;
23289 +     _BRANCH_ =    2;
23290 +    END;
23291 +
23292 +  IF _BRANCH_ GT 0 THEN DO;
23293 +
23294 +    _BRANCH_ = -1;
23295 +      IF  NOT MISSING(Average_Rating ) AND
23296 +      Average_Rating  <                 4.25 THEN DO;
23297 +       _BRANCH_ =    1;
23298 +      END;
23299 +    IF _BRANCH_ LT 0 THEN DO;
23300 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
23301 +    END;
23302 +    IF _BRANCH_ GT 0 THEN DO;
23303 +       _ARB_F_ + -0.042195354;
23304 +      END;
23305 +    END;
23306 +  END;
23307 +
23308 +********** LEAF   235  NODE  1667 ***************;
23309 +IF _ARB_BADF_ EQ 0 THEN DO;
23310 +
23311 +  _BRANCH_ = -1;
23312 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23313 +        3.90192165176938 <= LOG_IMP_Age  THEN DO;
23314 +     _BRANCH_ =    2;
23315 +    END;
23316 +
23317 +  IF _BRANCH_ GT 0 THEN DO;
23318 +
23319 +    _BRANCH_ = -1;
23320 +      IF  NOT MISSING(Average_Rating ) AND
23321 +                      4.25 <= Average_Rating  THEN DO;
23322 +       _BRANCH_ =    2;
23323 +      END;
23324 +
23325 +    IF _BRANCH_ GT 0 THEN DO;
23326 +       _ARB_F_ + 0.0091968627;
23327 +      END;
23328 +    END;
23329 +  END;
23330 +
23331 +********** LEAF   236  NODE  1671 ***************;
23332 +IF _ARB_BADF_ EQ 0 THEN DO;
23333 +
23334 +  _BRANCH_ = -1;
23335 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23336 +   %DMNORMIP( _ARBFMT_11);
23337 +    IF _ARBFMT_11 IN ('SATISFIED' ,'UNSATISFIED' ) THEN DO;
23338 +     _BRANCH_ =    1;
23339 +    END;
23340 +  IF _BRANCH_ LT 0 THEN DO;
23341 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 1;
23342 +    ELSE IF _ARBFMT_11 NOTIN (
23343 +      'SATISFIED' ,'UNSATISFIED' ,'NEUTRAL'
23344 +       ) THEN _BRANCH_ = 1;
23345 +  END;
23346 +  IF _BRANCH_ GT 0 THEN DO;
23347 +
23348 +    _BRANCH_ = -1;
23349 +      IF  NOT MISSING(Total_Spend ) AND
23350 +      Total_Spend  <                689.8 THEN DO;
23351 +       _BRANCH_ =    1;
23352 +      END;
23353 +
23354 +    IF _BRANCH_ GT 0 THEN DO;
23355 +       _ARB_F_ + 0.0131487692;
23356 +      END;
23357 +    END;
23358 +  END;
23359 +
23360 +********** LEAF   237  NODE  1672 ***************;
23361 +IF _ARB_BADF_ EQ 0 THEN DO;
23362 +
23363 +  _BRANCH_ = -1;
23364 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23365 +   %DMNORMIP( _ARBFMT_11);
23366 +    IF _ARBFMT_11 IN ('SATISFIED' ,'UNSATISFIED' ) THEN DO;
23367 +     _BRANCH_ =    1;
23368 +    END;
23369 +  IF _BRANCH_ LT 0 THEN DO;
23370 +     IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 1;
23371 +    ELSE IF _ARBFMT_11 NOTIN (
23372 +      'SATISFIED' ,'UNSATISFIED' ,'NEUTRAL'
23373 +       ) THEN _BRANCH_ = 1;
23374 +  END;
23375 +  IF _BRANCH_ GT 0 THEN DO;
23376 +
23377 +    _BRANCH_ = -1;
23378 +      IF  NOT MISSING(Total_Spend ) AND
23379 +                     689.8 <= Total_Spend  THEN DO;
23380 +       _BRANCH_ =    2;
23381 +      END;
23382 +    IF _BRANCH_ LT 0 THEN DO;
23383 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23384 +    END;
23385 +    IF _BRANCH_ GT 0 THEN DO;
23386 +       _ARB_F_ + -0.014032128;
23387 +      END;
23388 +    END;
23389 +  END;
23390 +
23391 +********** LEAF   238  NODE  1673 ***************;
23392 +IF _ARB_BADF_ EQ 0 THEN DO;
23393 +
23394 +  _BRANCH_ = -1;
23395 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23396 +   %DMNORMIP( _ARBFMT_11);
23397 +    IF _ARBFMT_11 IN ('NEUTRAL' ) THEN DO;
23398 +     _BRANCH_ =    2;
23399 +    END;
23400 +
23401 +  IF _BRANCH_ GT 0 THEN DO;
23402 +
23403 +    _BRANCH_ = -1;
23404 +      IF  NOT MISSING(Total_Spend ) AND
23405 +      Total_Spend  <               1463.5 THEN DO;
23406 +       _BRANCH_ =    1;
23407 +      END;
23408 +    IF _BRANCH_ LT 0 THEN DO;
23409 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23410 +    END;
23411 +    IF _BRANCH_ GT 0 THEN DO;
23412 +       _ARB_F_ + 0.0134562581;
23413 +      END;
23414 +    END;
23415 +  END;
23416 +
23417 +********** LEAF   239  NODE  1674 ***************;
23418 +IF _ARB_BADF_ EQ 0 THEN DO;
23419 +
23420 +  _BRANCH_ = -1;
23421 +  _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23422 +   %DMNORMIP( _ARBFMT_11);
23423 +    IF _ARBFMT_11 IN ('NEUTRAL' ) THEN DO;
23424 +     _BRANCH_ =    2;
23425 +    END;
23426 +
23427 +  IF _BRANCH_ GT 0 THEN DO;
23428 +
23429 +    _BRANCH_ = -1;
23430 +      IF  NOT MISSING(Total_Spend ) AND
23431 +                    1463.5 <= Total_Spend  THEN DO;
23432 +       _BRANCH_ =    2;
23433 +      END;
23434 +
23435 +    IF _BRANCH_ GT 0 THEN DO;
23436 +       _ARB_F_ + -0.083415803;
23437 +      END;
23438 +    END;
23439 +  END;
23440 +
23441 +********** LEAF   240  NODE  1678 ***************;
23442 +IF _ARB_BADF_ EQ 0 THEN DO;
23443 +
23444 +  _BRANCH_ = -1;
23445 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23446 +    Days_Since_Last_Purchase  <                 58.5 THEN DO;
23447 +     _BRANCH_ =    1;
23448 +    END;
23449 +  IF _BRANCH_ LT 0 THEN DO;
23450 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
23451 +  END;
23452 +  IF _BRANCH_ GT 0 THEN DO;
23453 +
23454 +    _BRANCH_ = -1;
23455 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
23456 +      LOG_Items_Purchased  <     3.86067430630897 THEN DO;
23457 +       _BRANCH_ =    1;
23458 +      END;
23459 +    IF _BRANCH_ LT 0 THEN DO;
23460 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
23461 +    END;
23462 +    IF _BRANCH_ GT 0 THEN DO;
23463 +       _ARB_F_ + 0.000432247;
23464 +      END;
23465 +    END;
23466 +  END;
23467 +
23468 +********** LEAF   241  NODE  1679 ***************;
23469 +IF _ARB_BADF_ EQ 0 THEN DO;
23470 +
23471 +  _BRANCH_ = -1;
23472 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23473 +    Days_Since_Last_Purchase  <                 58.5 THEN DO;
23474 +     _BRANCH_ =    1;
23475 +    END;
23476 +  IF _BRANCH_ LT 0 THEN DO;
23477 +     IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
23478 +  END;
23479 +  IF _BRANCH_ GT 0 THEN DO;
23480 +
23481 +    _BRANCH_ = -1;
23482 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
23483 +          3.86067430630897 <= LOG_Items_Purchased  THEN DO;
23484 +       _BRANCH_ =    2;
23485 +      END;
23486 +
23487 +    IF _BRANCH_ GT 0 THEN DO;
23488 +       _ARB_F_ + 0.038034963;
23489 +      END;
23490 +    END;
23491 +  END;
23492 +
23493 +********** LEAF   242  NODE  1680 ***************;
23494 +IF _ARB_BADF_ EQ 0 THEN DO;
23495 +
23496 +  _BRANCH_ = -1;
23497 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23498 +                    58.5 <= Days_Since_Last_Purchase  THEN DO;
23499 +     _BRANCH_ =    2;
23500 +    END;
23501 +
23502 +  IF _BRANCH_ GT 0 THEN DO;
23503 +
23504 +    _BRANCH_ = -1;
23505 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23506 +     %DMNORMIP( _ARBFMT_11);
23507 +      IF _ARBFMT_11 IN ('SATISFIED' ,'NEUTRAL' ) THEN DO;
23508 +       _BRANCH_ =    1;
23509 +      END;
23510 +    IF _BRANCH_ LT 0 THEN DO;
23511 +       IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 1;
23512 +      ELSE IF _ARBFMT_11 NOTIN (
23513 +        'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
23514 +         ) THEN _BRANCH_ = 1;
23515 +    END;
23516 +    IF _BRANCH_ GT 0 THEN DO;
23517 +       _ARB_F_ + -0.069019136;
23518 +      END;
23519 +    END;
23520 +  END;
23521 +
23522 +********** LEAF   243  NODE  1681 ***************;
23523 +IF _ARB_BADF_ EQ 0 THEN DO;
23524 +
23525 +  _BRANCH_ = -1;
23526 +    IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23527 +                    58.5 <= Days_Since_Last_Purchase  THEN DO;
23528 +     _BRANCH_ =    2;
23529 +    END;
23530 +
23531 +  IF _BRANCH_ GT 0 THEN DO;
23532 +
23533 +    _BRANCH_ = -1;
23534 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
23535 +     %DMNORMIP( _ARBFMT_11);
23536 +      IF _ARBFMT_11 IN ('UNSATISFIED' ) THEN DO;
23537 +       _BRANCH_ =    2;
23538 +      END;
23539 +
23540 +    IF _BRANCH_ GT 0 THEN DO;
23541 +       _ARB_F_ + 0.0044166249;
23542 +      END;
23543 +    END;
23544 +  END;
23545 +
23546 +********** LEAF   244  NODE  1685 ***************;
23547 +IF _ARB_BADF_ EQ 0 THEN DO;
23548 +
23549 +  _BRANCH_ = -1;
23550 +    IF  NOT MISSING(Total_Spend ) AND
23551 +    Total_Spend  <                  436 THEN DO;
23552 +     _BRANCH_ =    1;
23553 +    END;
23554 +
23555 +  IF _BRANCH_ GT 0 THEN DO;
23556 +
23557 +    _BRANCH_ = -1;
23558 +      IF  NOT MISSING(Total_Spend ) AND
23559 +      Total_Spend  <                423.5 THEN DO;
23560 +       _BRANCH_ =    1;
23561 +      END;
23562 +    IF _BRANCH_ LT 0 THEN DO;
23563 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23564 +    END;
23565 +    IF _BRANCH_ GT 0 THEN DO;
23566 +       _ARB_F_ + 0.024402642;
23567 +      END;
23568 +    END;
23569 +  END;
23570 +
23571 +********** LEAF   245  NODE  1686 ***************;
23572 +IF _ARB_BADF_ EQ 0 THEN DO;
23573 +
23574 +  _BRANCH_ = -1;
23575 +    IF  NOT MISSING(Total_Spend ) AND
23576 +    Total_Spend  <                  436 THEN DO;
23577 +     _BRANCH_ =    1;
23578 +    END;
23579 +
23580 +  IF _BRANCH_ GT 0 THEN DO;
23581 +
23582 +    _BRANCH_ = -1;
23583 +      IF  NOT MISSING(Total_Spend ) AND
23584 +                     423.5 <= Total_Spend  THEN DO;
23585 +       _BRANCH_ =    2;
23586 +      END;
23587 +
23588 +    IF _BRANCH_ GT 0 THEN DO;
23589 +       _ARB_F_ + -0.104813478;
23590 +      END;
23591 +    END;
23592 +  END;
23593 +
23594 +********** LEAF   246  NODE  1687 ***************;
23595 +IF _ARB_BADF_ EQ 0 THEN DO;
23596 +
23597 +  _BRANCH_ = -1;
23598 +    IF  NOT MISSING(Total_Spend ) AND
23599 +                     436 <= Total_Spend  THEN DO;
23600 +     _BRANCH_ =    2;
23601 +    END;
23602 +  IF _BRANCH_ LT 0 THEN DO;
23603 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23604 +  END;
23605 +  IF _BRANCH_ GT 0 THEN DO;
23606 +
23607 +    _BRANCH_ = -1;
23608 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
23609 +      LOG_Items_Purchased  <     2.52492800362476 THEN DO;
23610 +       _BRANCH_ =    1;
23611 +      END;
23612 +
23613 +    IF _BRANCH_ GT 0 THEN DO;
23614 +       _ARB_F_ + 0.0159006327;
23615 +      END;
23616 +    END;
23617 +  END;
23618 +
23619 +********** LEAF   247  NODE  1688 ***************;
23620 +IF _ARB_BADF_ EQ 0 THEN DO;
23621 +
23622 +  _BRANCH_ = -1;
23623 +    IF  NOT MISSING(Total_Spend ) AND
23624 +                     436 <= Total_Spend  THEN DO;
23625 +     _BRANCH_ =    2;
23626 +    END;
23627 +  IF _BRANCH_ LT 0 THEN DO;
23628 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23629 +  END;
23630 +  IF _BRANCH_ GT 0 THEN DO;
23631 +
23632 +    _BRANCH_ = -1;
23633 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
23634 +          2.52492800362476 <= LOG_Items_Purchased  THEN DO;
23635 +       _BRANCH_ =    2;
23636 +      END;
23637 +    IF _BRANCH_ LT 0 THEN DO;
23638 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
23639 +    END;
23640 +    IF _BRANCH_ GT 0 THEN DO;
23641 +       _ARB_F_ + -0.003542823;
23642 +      END;
23643 +    END;
23644 +  END;
23645 +
23646 +********** LEAF   248  NODE  1692 ***************;
23647 +IF _ARB_BADF_ EQ 0 THEN DO;
23648 +
23649 +  _BRANCH_ = -1;
23650 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23651 +    LOG_IMP_Age  <     3.86067430630897 THEN DO;
23652 +     _BRANCH_ =    1;
23653 +    END;
23654 +  IF _BRANCH_ LT 0 THEN DO;
23655 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23656 +  END;
23657 +  IF _BRANCH_ GT 0 THEN DO;
23658 +
23659 +    _BRANCH_ = -1;
23660 +      IF  NOT MISSING(LOG_IMP_Age ) AND
23661 +      LOG_IMP_Age  <     3.74943486698846 THEN DO;
23662 +       _BRANCH_ =    1;
23663 +      END;
23664 +    IF _BRANCH_ LT 0 THEN DO;
23665 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23666 +    END;
23667 +    IF _BRANCH_ GT 0 THEN DO;
23668 +       _ARB_F_ + -0.00149091;
23669 +      END;
23670 +    END;
23671 +  END;
23672 +
23673 +********** LEAF   249  NODE  1693 ***************;
23674 +IF _ARB_BADF_ EQ 0 THEN DO;
23675 +
23676 +  _BRANCH_ = -1;
23677 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23678 +    LOG_IMP_Age  <     3.86067430630897 THEN DO;
23679 +     _BRANCH_ =    1;
23680 +    END;
23681 +  IF _BRANCH_ LT 0 THEN DO;
23682 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 1;
23683 +  END;
23684 +  IF _BRANCH_ GT 0 THEN DO;
23685 +
23686 +    _BRANCH_ = -1;
23687 +      IF  NOT MISSING(LOG_IMP_Age ) AND
23688 +          3.74943486698846 <= LOG_IMP_Age  THEN DO;
23689 +       _BRANCH_ =    2;
23690 +      END;
23691 +
23692 +    IF _BRANCH_ GT 0 THEN DO;
23693 +       _ARB_F_ + 0.0285963575;
23694 +      END;
23695 +    END;
23696 +  END;
23697 +
23698 +********** LEAF   250  NODE  1694 ***************;
23699 +IF _ARB_BADF_ EQ 0 THEN DO;
23700 +
23701 +  _BRANCH_ = -1;
23702 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23703 +        3.86067430630897 <= LOG_IMP_Age  THEN DO;
23704 +     _BRANCH_ =    2;
23705 +    END;
23706 +
23707 +  IF _BRANCH_ GT 0 THEN DO;
23708 +
23709 +    _BRANCH_ = -1;
23710 +    _ARBFMT_13 = PUT( City , $13.);
23711 +     %DMNORMIP( _ARBFMT_13);
23712 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ) THEN DO;
23713 +       _BRANCH_ =    1;
23714 +      END;
23715 +
23716 +    IF _BRANCH_ GT 0 THEN DO;
23717 +       _ARB_F_ + 0.0240794182;
23718 +      END;
23719 +    END;
23720 +  END;
23721 +
23722 +********** LEAF   251  NODE  1695 ***************;
23723 +IF _ARB_BADF_ EQ 0 THEN DO;
23724 +
23725 +  _BRANCH_ = -1;
23726 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23727 +        3.86067430630897 <= LOG_IMP_Age  THEN DO;
23728 +     _BRANCH_ =    2;
23729 +    END;
23730 +
23731 +  IF _BRANCH_ GT 0 THEN DO;
23732 +
23733 +    _BRANCH_ = -1;
23734 +    _ARBFMT_13 = PUT( City , $13.);
23735 +     %DMNORMIP( _ARBFMT_13);
23736 +      IF _ARBFMT_13 IN ('MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ) THEN
23737 +        DO;
23738 +       _BRANCH_ =    2;
23739 +      END;
23740 +    IF _BRANCH_ LT 0 THEN DO;
23741 +       IF MISSING( City  ) THEN _BRANCH_ = 2;
23742 +      ELSE IF _ARBFMT_13 NOTIN (
23743 +        'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
23744 +        'CHICAGO'
23745 +         ) THEN _BRANCH_ = 2;
23746 +    END;
23747 +    IF _BRANCH_ GT 0 THEN DO;
23748 +       _ARB_F_ + -0.044507524;
23749 +      END;
23750 +    END;
23751 +  END;
23752 +
23753 +********** LEAF   252  NODE  1699 ***************;
23754 +IF _ARB_BADF_ EQ 0 THEN DO;
23755 +
23756 +  _BRANCH_ = -1;
23757 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23758 +    LOG_IMP_Age  <      3.2769667020129 THEN DO;
23759 +     _BRANCH_ =    1;
23760 +    END;
23761 +
23762 +  IF _BRANCH_ GT 0 THEN DO;
23763 +
23764 +    _BRANCH_ = -1;
23765 +      IF  NOT MISSING(Average_Rating ) AND
23766 +      Average_Rating  <                 3.75 THEN DO;
23767 +       _BRANCH_ =    1;
23768 +      END;
23769 +
23770 +    IF _BRANCH_ GT 0 THEN DO;
23771 +       _ARB_F_ + -0.018342342;
23772 +      END;
23773 +    END;
23774 +  END;
23775 +
23776 +********** LEAF   253  NODE  1700 ***************;
23777 +IF _ARB_BADF_ EQ 0 THEN DO;
23778 +
23779 +  _BRANCH_ = -1;
23780 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23781 +    LOG_IMP_Age  <      3.2769667020129 THEN DO;
23782 +     _BRANCH_ =    1;
23783 +    END;
23784 +
23785 +  IF _BRANCH_ GT 0 THEN DO;
23786 +
23787 +    _BRANCH_ = -1;
23788 +      IF  NOT MISSING(Average_Rating ) AND
23789 +                      3.75 <= Average_Rating  THEN DO;
23790 +       _BRANCH_ =    2;
23791 +      END;
23792 +    IF _BRANCH_ LT 0 THEN DO;
23793 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
23794 +    END;
23795 +    IF _BRANCH_ GT 0 THEN DO;
23796 +       _ARB_F_ + 0.0496121355;
23797 +      END;
23798 +    END;
23799 +  END;
23800 +
23801 +********** LEAF   254  NODE  1701 ***************;
23802 +IF _ARB_BADF_ EQ 0 THEN DO;
23803 +
23804 +  _BRANCH_ = -1;
23805 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23806 +         3.2769667020129 <= LOG_IMP_Age  THEN DO;
23807 +     _BRANCH_ =    2;
23808 +    END;
23809 +  IF _BRANCH_ LT 0 THEN DO;
23810 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
23811 +  END;
23812 +  IF _BRANCH_ GT 0 THEN DO;
23813 +
23814 +    _BRANCH_ = -1;
23815 +      IF  NOT MISSING(Total_Spend ) AND
23816 +      Total_Spend  <               1369.6 THEN DO;
23817 +       _BRANCH_ =    1;
23818 +      END;
23819 +    IF _BRANCH_ LT 0 THEN DO;
23820 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23821 +    END;
23822 +    IF _BRANCH_ GT 0 THEN DO;
23823 +       _ARB_F_ + -0.007596805;
23824 +      END;
23825 +    END;
23826 +  END;
23827 +
23828 +********** LEAF   255  NODE  1702 ***************;
23829 +IF _ARB_BADF_ EQ 0 THEN DO;
23830 +
23831 +  _BRANCH_ = -1;
23832 +    IF  NOT MISSING(LOG_IMP_Age ) AND
23833 +         3.2769667020129 <= LOG_IMP_Age  THEN DO;
23834 +     _BRANCH_ =    2;
23835 +    END;
23836 +  IF _BRANCH_ LT 0 THEN DO;
23837 +     IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
23838 +  END;
23839 +  IF _BRANCH_ GT 0 THEN DO;
23840 +
23841 +    _BRANCH_ = -1;
23842 +      IF  NOT MISSING(Total_Spend ) AND
23843 +                    1369.6 <= Total_Spend  THEN DO;
23844 +       _BRANCH_ =    2;
23845 +      END;
23846 +
23847 +    IF _BRANCH_ GT 0 THEN DO;
23848 +       _ARB_F_ + 0.0179883901;
23849 +      END;
23850 +    END;
23851 +  END;
23852 +
23853 +********** LEAF   256  NODE  1706 ***************;
23854 +IF _ARB_BADF_ EQ 0 THEN DO;
23855 +
23856 +  _BRANCH_ = -1;
23857 +    IF  NOT MISSING(Total_Spend ) AND
23858 +    Total_Spend  <              1468.25 THEN DO;
23859 +     _BRANCH_ =    1;
23860 +    END;
23861 +  IF _BRANCH_ LT 0 THEN DO;
23862 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23863 +  END;
23864 +  IF _BRANCH_ GT 0 THEN DO;
23865 +
23866 +    _BRANCH_ = -1;
23867 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
23868 +     %DMNORMIP( _ARBFMT_11);
23869 +      IF _ARBFMT_11 IN ('ELECTRONICS' ,'CLOTHING' ,'BOOKS' ) THEN DO;
23870 +       _BRANCH_ =    1;
23871 +      END;
23872 +    IF _BRANCH_ LT 0 THEN DO;
23873 +       IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 1;
23874 +      ELSE IF _ARBFMT_11 NOTIN (
23875 +        'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
23876 +         ) THEN _BRANCH_ = 1;
23877 +    END;
23878 +    IF _BRANCH_ GT 0 THEN DO;
23879 +       _ARB_F_ + -0.001999397;
23880 +      END;
23881 +    END;
23882 +  END;
23883 +
23884 +********** LEAF   257  NODE  1707 ***************;
23885 +IF _ARB_BADF_ EQ 0 THEN DO;
23886 +
23887 +  _BRANCH_ = -1;
23888 +    IF  NOT MISSING(Total_Spend ) AND
23889 +    Total_Spend  <              1468.25 THEN DO;
23890 +     _BRANCH_ =    1;
23891 +    END;
23892 +  IF _BRANCH_ LT 0 THEN DO;
23893 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 1;
23894 +  END;
23895 +  IF _BRANCH_ GT 0 THEN DO;
23896 +
23897 +    _BRANCH_ = -1;
23898 +    _ARBFMT_11 = PUT( FavoriteCategory , $11.);
23899 +     %DMNORMIP( _ARBFMT_11);
23900 +      IF _ARBFMT_11 IN ('HOME GOODS' ) THEN DO;
23901 +       _BRANCH_ =    2;
23902 +      END;
23903 +
23904 +    IF _BRANCH_ GT 0 THEN DO;
23905 +       _ARB_F_ + 0.01647064;
23906 +      END;
23907 +    END;
23908 +  END;
23909 +
23910 +********** LEAF   258  NODE  1708 ***************;
23911 +IF _ARB_BADF_ EQ 0 THEN DO;
23912 +
23913 +  _BRANCH_ = -1;
23914 +    IF  NOT MISSING(Total_Spend ) AND
23915 +                 1468.25 <= Total_Spend  THEN DO;
23916 +     _BRANCH_ =    2;
23917 +    END;
23918 +
23919 +  IF _BRANCH_ GT 0 THEN DO;
23920 +
23921 +    _BRANCH_ = -1;
23922 +      IF  NOT MISSING(Total_Spend ) AND
23923 +      Total_Spend  <               1485.2 THEN DO;
23924 +       _BRANCH_ =    1;
23925 +      END;
23926 +
23927 +    IF _BRANCH_ GT 0 THEN DO;
23928 +       _ARB_F_ + -0.08771397;
23929 +      END;
23930 +    END;
23931 +  END;
23932 +
23933 +********** LEAF   259  NODE  1709 ***************;
23934 +IF _ARB_BADF_ EQ 0 THEN DO;
23935 +
23936 +  _BRANCH_ = -1;
23937 +    IF  NOT MISSING(Total_Spend ) AND
23938 +                 1468.25 <= Total_Spend  THEN DO;
23939 +     _BRANCH_ =    2;
23940 +    END;
23941 +
23942 +  IF _BRANCH_ GT 0 THEN DO;
23943 +
23944 +    _BRANCH_ = -1;
23945 +      IF  NOT MISSING(Total_Spend ) AND
23946 +                    1485.2 <= Total_Spend  THEN DO;
23947 +       _BRANCH_ =    2;
23948 +      END;
23949 +    IF _BRANCH_ LT 0 THEN DO;
23950 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
23951 +    END;
23952 +    IF _BRANCH_ GT 0 THEN DO;
23953 +       _ARB_F_ + -0.013249861;
23954 +      END;
23955 +    END;
23956 +  END;
23957 +
23958 +********** LEAF   260  NODE  1713 ***************;
23959 +IF _ARB_BADF_ EQ 0 THEN DO;
23960 +
23961 +  _BRANCH_ = -1;
23962 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
23963 +    LOG_Items_Purchased  <     2.24990483516513 THEN DO;
23964 +     _BRANCH_ =    1;
23965 +    END;
23966 +
23967 +  IF _BRANCH_ GT 0 THEN DO;
23968 +
23969 +    _BRANCH_ = -1;
23970 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23971 +      Days_Since_Last_Purchase  <                 17.5 THEN DO;
23972 +       _BRANCH_ =    1;
23973 +      END;
23974 +
23975 +    IF _BRANCH_ GT 0 THEN DO;
23976 +       _ARB_F_ + 0.078784732;
23977 +      END;
23978 +    END;
23979 +  END;
23980 +
23981 +********** LEAF   261  NODE  1714 ***************;
23982 +IF _ARB_BADF_ EQ 0 THEN DO;
23983 +
23984 +  _BRANCH_ = -1;
23985 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
23986 +    LOG_Items_Purchased  <     2.24990483516513 THEN DO;
23987 +     _BRANCH_ =    1;
23988 +    END;
23989 +
23990 +  IF _BRANCH_ GT 0 THEN DO;
23991 +
23992 +    _BRANCH_ = -1;
23993 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
23994 +                      17.5 <= Days_Since_Last_Purchase  THEN DO;
23995 +       _BRANCH_ =    2;
23996 +      END;
23997 +    IF _BRANCH_ LT 0 THEN DO;
23998 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
23999 +    END;
24000 +    IF _BRANCH_ GT 0 THEN DO;
24001 +       _ARB_F_ + -0.034052055;
24002 +      END;
24003 +    END;
24004 +  END;
24005 +
24006 +********** LEAF   262  NODE  1715 ***************;
24007 +IF _ARB_BADF_ EQ 0 THEN DO;
24008 +
24009 +  _BRANCH_ = -1;
24010 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24011 +        2.24990483516513 <= LOG_Items_Purchased  THEN DO;
24012 +     _BRANCH_ =    2;
24013 +    END;
24014 +  IF _BRANCH_ LT 0 THEN DO;
24015 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
24016 +  END;
24017 +  IF _BRANCH_ GT 0 THEN DO;
24018 +
24019 +    _BRANCH_ = -1;
24020 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
24021 +     %DMNORMIP( _ARBFMT_11);
24022 +      IF _ARBFMT_11 IN ('SATISFIED' ) THEN DO;
24023 +       _BRANCH_ =    1;
24024 +      END;
24025 +
24026 +    IF _BRANCH_ GT 0 THEN DO;
24027 +       _ARB_F_ + -0.005039492;
24028 +      END;
24029 +    END;
24030 +  END;
24031 +
24032 +********** LEAF   263  NODE  1716 ***************;
24033 +IF _ARB_BADF_ EQ 0 THEN DO;
24034 +
24035 +  _BRANCH_ = -1;
24036 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24037 +        2.24990483516513 <= LOG_Items_Purchased  THEN DO;
24038 +     _BRANCH_ =    2;
24039 +    END;
24040 +  IF _BRANCH_ LT 0 THEN DO;
24041 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 2;
24042 +  END;
24043 +  IF _BRANCH_ GT 0 THEN DO;
24044 +
24045 +    _BRANCH_ = -1;
24046 +    _ARBFMT_11 = PUT( IMP_Satisfaction_Level , $11.);
24047 +     %DMNORMIP( _ARBFMT_11);
24048 +      IF _ARBFMT_11 IN ('NEUTRAL' ,'UNSATISFIED' ) THEN DO;
24049 +       _BRANCH_ =    2;
24050 +      END;
24051 +    IF _BRANCH_ LT 0 THEN DO;
24052 +       IF MISSING( IMP_Satisfaction_Level  ) THEN _BRANCH_ = 2;
24053 +      ELSE IF _ARBFMT_11 NOTIN (
24054 +        'SATISFIED' ,'NEUTRAL' ,'UNSATISFIED'
24055 +         ) THEN _BRANCH_ = 2;
24056 +    END;
24057 +    IF _BRANCH_ GT 0 THEN DO;
24058 +       _ARB_F_ + 0.0105943926;
24059 +      END;
24060 +    END;
24061 +  END;
24062 +
24063 +********** LEAF   264  NODE  1720 ***************;
24064 +IF _ARB_BADF_ EQ 0 THEN DO;
24065 +
24066 +  _BRANCH_ = -1;
24067 +    IF  NOT MISSING(Total_Spend ) AND
24068 +    Total_Spend  <              475.625 THEN DO;
24069 +     _BRANCH_ =    1;
24070 +    END;
24071 +
24072 +  IF _BRANCH_ GT 0 THEN DO;
24073 +
24074 +    _BRANCH_ = -1;
24075 +      IF  NOT MISSING(Total_Spend ) AND
24076 +      Total_Spend  <                  405 THEN DO;
24077 +       _BRANCH_ =    1;
24078 +      END;
24079 +
24080 +    IF _BRANCH_ GT 0 THEN DO;
24081 +       _ARB_F_ + -0.103949952;
24082 +      END;
24083 +    END;
24084 +  END;
24085 +
24086 +********** LEAF   265  NODE  1721 ***************;
24087 +IF _ARB_BADF_ EQ 0 THEN DO;
24088 +
24089 +  _BRANCH_ = -1;
24090 +    IF  NOT MISSING(Total_Spend ) AND
24091 +    Total_Spend  <              475.625 THEN DO;
24092 +     _BRANCH_ =    1;
24093 +    END;
24094 +
24095 +  IF _BRANCH_ GT 0 THEN DO;
24096 +
24097 +    _BRANCH_ = -1;
24098 +      IF  NOT MISSING(Total_Spend ) AND
24099 +                       405 <= Total_Spend  THEN DO;
24100 +       _BRANCH_ =    2;
24101 +      END;
24102 +    IF _BRANCH_ LT 0 THEN DO;
24103 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24104 +    END;
24105 +    IF _BRANCH_ GT 0 THEN DO;
24106 +       _ARB_F_ + 0.0311458023;
24107 +      END;
24108 +    END;
24109 +  END;
24110 +
24111 +********** LEAF   266  NODE  1722 ***************;
24112 +IF _ARB_BADF_ EQ 0 THEN DO;
24113 +
24114 +  _BRANCH_ = -1;
24115 +    IF  NOT MISSING(Total_Spend ) AND
24116 +                 475.625 <= Total_Spend  THEN DO;
24117 +     _BRANCH_ =    2;
24118 +    END;
24119 +  IF _BRANCH_ LT 0 THEN DO;
24120 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24121 +  END;
24122 +  IF _BRANCH_ GT 0 THEN DO;
24123 +
24124 +    _BRANCH_ = -1;
24125 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24126 +      Days_Since_Last_Purchase  <                 54.5 THEN DO;
24127 +       _BRANCH_ =    1;
24128 +      END;
24129 +    IF _BRANCH_ LT 0 THEN DO;
24130 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24131 +    END;
24132 +    IF _BRANCH_ GT 0 THEN DO;
24133 +       _ARB_F_ + -0.00682934;
24134 +      END;
24135 +    END;
24136 +  END;
24137 +
24138 +********** LEAF   267  NODE  1723 ***************;
24139 +IF _ARB_BADF_ EQ 0 THEN DO;
24140 +
24141 +  _BRANCH_ = -1;
24142 +    IF  NOT MISSING(Total_Spend ) AND
24143 +                 475.625 <= Total_Spend  THEN DO;
24144 +     _BRANCH_ =    2;
24145 +    END;
24146 +  IF _BRANCH_ LT 0 THEN DO;
24147 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24148 +  END;
24149 +  IF _BRANCH_ GT 0 THEN DO;
24150 +
24151 +    _BRANCH_ = -1;
24152 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24153 +                      54.5 <= Days_Since_Last_Purchase  THEN DO;
24154 +       _BRANCH_ =    2;
24155 +      END;
24156 +
24157 +    IF _BRANCH_ GT 0 THEN DO;
24158 +       _ARB_F_ + 0.0211490218;
24159 +      END;
24160 +    END;
24161 +  END;
24162 +
24163 +********** LEAF   268  NODE  1727 ***************;
24164 +IF _ARB_BADF_ EQ 0 THEN DO;
24165 +
24166 +  _BRANCH_ = -1;
24167 +    IF  NOT MISSING(Total_Spend ) AND
24168 +    Total_Spend  <                  439 THEN DO;
24169 +     _BRANCH_ =    1;
24170 +    END;
24171 +
24172 +  IF _BRANCH_ GT 0 THEN DO;
24173 +
24174 +    _BRANCH_ = -1;
24175 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
24176 +     %DMNORMIP( _ARBFMT_12);
24177 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
24178 +       _BRANCH_ =    1;
24179 +      END;
24180 +    IF _BRANCH_ LT 0 THEN DO;
24181 +       IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 1;
24182 +      ELSE IF _ARBFMT_12 NOTIN (
24183 +        '0' ,'1'
24184 +         ) THEN _BRANCH_ = 1;
24185 +    END;
24186 +    IF _BRANCH_ GT 0 THEN DO;
24187 +       _ARB_F_ + -0.002295923;
24188 +      END;
24189 +    END;
24190 +  END;
24191 +
24192 +********** LEAF   269  NODE  1728 ***************;
24193 +IF _ARB_BADF_ EQ 0 THEN DO;
24194 +
24195 +  _BRANCH_ = -1;
24196 +    IF  NOT MISSING(Total_Spend ) AND
24197 +    Total_Spend  <                  439 THEN DO;
24198 +     _BRANCH_ =    1;
24199 +    END;
24200 +
24201 +  IF _BRANCH_ GT 0 THEN DO;
24202 +
24203 +    _BRANCH_ = -1;
24204 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
24205 +     %DMNORMIP( _ARBFMT_12);
24206 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
24207 +       _BRANCH_ =    2;
24208 +      END;
24209 +
24210 +    IF _BRANCH_ GT 0 THEN DO;
24211 +       _ARB_F_ + -0.086574421;
24212 +      END;
24213 +    END;
24214 +  END;
24215 +
24216 +********** LEAF   270  NODE  1729 ***************;
24217 +IF _ARB_BADF_ EQ 0 THEN DO;
24218 +
24219 +  _BRANCH_ = -1;
24220 +    IF  NOT MISSING(Total_Spend ) AND
24221 +                     439 <= Total_Spend  THEN DO;
24222 +     _BRANCH_ =    2;
24223 +    END;
24224 +  IF _BRANCH_ LT 0 THEN DO;
24225 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24226 +  END;
24227 +  IF _BRANCH_ GT 0 THEN DO;
24228 +
24229 +    _BRANCH_ = -1;
24230 +      IF  NOT MISSING(Total_Spend ) AND
24231 +      Total_Spend  <               456.25 THEN DO;
24232 +       _BRANCH_ =    1;
24233 +      END;
24234 +
24235 +    IF _BRANCH_ GT 0 THEN DO;
24236 +       _ARB_F_ + 0.073405888;
24237 +      END;
24238 +    END;
24239 +  END;
24240 +
24241 +********** LEAF   271  NODE  1730 ***************;
24242 +IF _ARB_BADF_ EQ 0 THEN DO;
24243 +
24244 +  _BRANCH_ = -1;
24245 +    IF  NOT MISSING(Total_Spend ) AND
24246 +                     439 <= Total_Spend  THEN DO;
24247 +     _BRANCH_ =    2;
24248 +    END;
24249 +  IF _BRANCH_ LT 0 THEN DO;
24250 +     IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24251 +  END;
24252 +  IF _BRANCH_ GT 0 THEN DO;
24253 +
24254 +    _BRANCH_ = -1;
24255 +      IF  NOT MISSING(Total_Spend ) AND
24256 +                    456.25 <= Total_Spend  THEN DO;
24257 +       _BRANCH_ =    2;
24258 +      END;
24259 +    IF _BRANCH_ LT 0 THEN DO;
24260 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24261 +    END;
24262 +    IF _BRANCH_ GT 0 THEN DO;
24263 +       _ARB_F_ + 0.0010511757;
24264 +      END;
24265 +    END;
24266 +  END;
24267 +
24268 +********** LEAF   272  NODE  1734 ***************;
24269 +IF _ARB_BADF_ EQ 0 THEN DO;
24270 +
24271 +  _BRANCH_ = -1;
24272 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
24273 +   %DMNORMIP( _ARBFMT_11);
24274 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
24275 +     _BRANCH_ =    1;
24276 +    END;
24277 +
24278 +  IF _BRANCH_ GT 0 THEN DO;
24279 +
24280 +    _BRANCH_ = -1;
24281 +      IF  NOT MISSING(Average_Rating ) AND
24282 +      Average_Rating  <                 4.75 THEN DO;
24283 +       _BRANCH_ =    1;
24284 +      END;
24285 +    IF _BRANCH_ LT 0 THEN DO;
24286 +       IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
24287 +    END;
24288 +    IF _BRANCH_ GT 0 THEN DO;
24289 +       _ARB_F_ + -0.023608619;
24290 +      END;
24291 +    END;
24292 +  END;
24293 +
24294 +********** LEAF   273  NODE  1735 ***************;
24295 +IF _ARB_BADF_ EQ 0 THEN DO;
24296 +
24297 +  _BRANCH_ = -1;
24298 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
24299 +   %DMNORMIP( _ARBFMT_11);
24300 +    IF _ARBFMT_11 IN ('ELECTRONICS' ) THEN DO;
24301 +     _BRANCH_ =    1;
24302 +    END;
24303 +
24304 +  IF _BRANCH_ GT 0 THEN DO;
24305 +
24306 +    _BRANCH_ = -1;
24307 +      IF  NOT MISSING(Average_Rating ) AND
24308 +                      4.75 <= Average_Rating  THEN DO;
24309 +       _BRANCH_ =    2;
24310 +      END;
24311 +
24312 +    IF _BRANCH_ GT 0 THEN DO;
24313 +       _ARB_F_ + 0.0499325256;
24314 +      END;
24315 +    END;
24316 +  END;
24317 +
24318 +********** LEAF   274  NODE  1736 ***************;
24319 +IF _ARB_BADF_ EQ 0 THEN DO;
24320 +
24321 +  _BRANCH_ = -1;
24322 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
24323 +   %DMNORMIP( _ARBFMT_11);
24324 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
24325 +     _BRANCH_ =    2;
24326 +    END;
24327 +  IF _BRANCH_ LT 0 THEN DO;
24328 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
24329 +    ELSE IF _ARBFMT_11 NOTIN (
24330 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
24331 +       ) THEN _BRANCH_ = 2;
24332 +  END;
24333 +  IF _BRANCH_ GT 0 THEN DO;
24334 +
24335 +    _BRANCH_ = -1;
24336 +    _ARBFMT_13 = PUT( City , $13.);
24337 +     %DMNORMIP( _ARBFMT_13);
24338 +      IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ) THEN DO;
24339 +       _BRANCH_ =    1;
24340 +      END;
24341 +
24342 +    IF _BRANCH_ GT 0 THEN DO;
24343 +       _ARB_F_ + 0.025351515;
24344 +      END;
24345 +    END;
24346 +  END;
24347 +
24348 +********** LEAF   275  NODE  1737 ***************;
24349 +IF _ARB_BADF_ EQ 0 THEN DO;
24350 +
24351 +  _BRANCH_ = -1;
24352 +  _ARBFMT_11 = PUT( FavoriteCategory , $11.);
24353 +   %DMNORMIP( _ARBFMT_11);
24354 +    IF _ARBFMT_11 IN ('CLOTHING' ,'BOOKS' ,'HOME GOODS' ) THEN DO;
24355 +     _BRANCH_ =    2;
24356 +    END;
24357 +  IF _BRANCH_ LT 0 THEN DO;
24358 +     IF MISSING( FavoriteCategory  ) THEN _BRANCH_ = 2;
24359 +    ELSE IF _ARBFMT_11 NOTIN (
24360 +      'ELECTRONICS' ,'CLOTHING' ,'BOOKS' ,'HOME GOODS'
24361 +       ) THEN _BRANCH_ = 2;
24362 +  END;
24363 +  IF _BRANCH_ GT 0 THEN DO;
24364 +
24365 +    _BRANCH_ = -1;
24366 +    _ARBFMT_13 = PUT( City , $13.);
24367 +     %DMNORMIP( _ARBFMT_13);
24368 +      IF _ARBFMT_13 IN ('SAN FRANCISCO' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' )
24369 +       THEN DO;
24370 +       _BRANCH_ =    2;
24371 +      END;
24372 +    IF _BRANCH_ LT 0 THEN DO;
24373 +       IF MISSING( City  ) THEN _BRANCH_ = 2;
24374 +      ELSE IF _ARBFMT_13 NOTIN (
24375 +        'NEW YORK' ,'MIAMI' ,'SAN FRANCISCO' ,'LOS ANGELES' ,'HOUSTON' ,
24376 +        'CHICAGO'
24377 +         ) THEN _BRANCH_ = 2;
24378 +    END;
24379 +    IF _BRANCH_ GT 0 THEN DO;
24380 +       _ARB_F_ + -0.001483486;
24381 +      END;
24382 +    END;
24383 +  END;
24384 +
24385 +********** LEAF   276  NODE  1741 ***************;
24386 +IF _ARB_BADF_ EQ 0 THEN DO;
24387 +
24388 +  _BRANCH_ = -1;
24389 +    IF  NOT MISSING(Average_Rating ) AND
24390 +    Average_Rating  <                 4.55 THEN DO;
24391 +     _BRANCH_ =    1;
24392 +    END;
24393 +  IF _BRANCH_ LT 0 THEN DO;
24394 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
24395 +  END;
24396 +  IF _BRANCH_ GT 0 THEN DO;
24397 +
24398 +    _BRANCH_ = -1;
24399 +    _ARBFMT_13 = PUT( City , $13.);
24400 +     %DMNORMIP( _ARBFMT_13);
24401 +      IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'HOUSTON' ,'CHICAGO' )
24402 +        THEN DO;
24403 +       _BRANCH_ =    1;
24404 +      END;
24405 +    IF _BRANCH_ LT 0 THEN DO;
24406 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
24407 +      ELSE IF _ARBFMT_13 NOTIN (
24408 +        'NEW YORK' ,'SAN FRANCISCO' ,'HOUSTON' ,'CHICAGO' ,'MIAMI' ,
24409 +        'LOS ANGELES'
24410 +         ) THEN _BRANCH_ = 1;
24411 +    END;
24412 +    IF _BRANCH_ GT 0 THEN DO;
24413 +       _ARB_F_ + -0.015560737;
24414 +      END;
24415 +    END;
24416 +  END;
24417 +
24418 +********** LEAF   277  NODE  1742 ***************;
24419 +IF _ARB_BADF_ EQ 0 THEN DO;
24420 +
24421 +  _BRANCH_ = -1;
24422 +    IF  NOT MISSING(Average_Rating ) AND
24423 +    Average_Rating  <                 4.55 THEN DO;
24424 +     _BRANCH_ =    1;
24425 +    END;
24426 +  IF _BRANCH_ LT 0 THEN DO;
24427 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 1;
24428 +  END;
24429 +  IF _BRANCH_ GT 0 THEN DO;
24430 +
24431 +    _BRANCH_ = -1;
24432 +    _ARBFMT_13 = PUT( City , $13.);
24433 +     %DMNORMIP( _ARBFMT_13);
24434 +      IF _ARBFMT_13 IN ('MIAMI' ,'LOS ANGELES' ) THEN DO;
24435 +       _BRANCH_ =    2;
24436 +      END;
24437 +
24438 +    IF _BRANCH_ GT 0 THEN DO;
24439 +       _ARB_F_ + 0.0087257406;
24440 +      END;
24441 +    END;
24442 +  END;
24443 +
24444 +********** LEAF   278  NODE  1743 ***************;
24445 +IF _ARB_BADF_ EQ 0 THEN DO;
24446 +
24447 +  _BRANCH_ = -1;
24448 +    IF  NOT MISSING(Average_Rating ) AND
24449 +                    4.55 <= Average_Rating  THEN DO;
24450 +     _BRANCH_ =    2;
24451 +    END;
24452 +
24453 +  IF _BRANCH_ GT 0 THEN DO;
24454 +
24455 +    _BRANCH_ = -1;
24456 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24457 +      Days_Since_Last_Purchase  <                 28.5 THEN DO;
24458 +       _BRANCH_ =    1;
24459 +      END;
24460 +    IF _BRANCH_ LT 0 THEN DO;
24461 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24462 +    END;
24463 +    IF _BRANCH_ GT 0 THEN DO;
24464 +       _ARB_F_ + -0.001762225;
24465 +      END;
24466 +    END;
24467 +  END;
24468 +
24469 +********** LEAF   279  NODE  1744 ***************;
24470 +IF _ARB_BADF_ EQ 0 THEN DO;
24471 +
24472 +  _BRANCH_ = -1;
24473 +    IF  NOT MISSING(Average_Rating ) AND
24474 +                    4.55 <= Average_Rating  THEN DO;
24475 +     _BRANCH_ =    2;
24476 +    END;
24477 +
24478 +  IF _BRANCH_ GT 0 THEN DO;
24479 +
24480 +    _BRANCH_ = -1;
24481 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24482 +                      28.5 <= Days_Since_Last_Purchase  THEN DO;
24483 +       _BRANCH_ =    2;
24484 +      END;
24485 +
24486 +    IF _BRANCH_ GT 0 THEN DO;
24487 +       _ARB_F_ + 0.0449342244;
24488 +      END;
24489 +    END;
24490 +  END;
24491 +
24492 +********** LEAF   280  NODE  1748 ***************;
24493 +IF _ARB_BADF_ EQ 0 THEN DO;
24494 +
24495 +  _BRANCH_ = -1;
24496 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24497 +    LOG_Items_Purchased  <      3.6242520361853 THEN DO;
24498 +     _BRANCH_ =    1;
24499 +    END;
24500 +  IF _BRANCH_ LT 0 THEN DO;
24501 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24502 +  END;
24503 +  IF _BRANCH_ GT 0 THEN DO;
24504 +
24505 +    _BRANCH_ = -1;
24506 +      IF  NOT MISSING(Total_Spend ) AND
24507 +      Total_Spend  <               440.85 THEN DO;
24508 +       _BRANCH_ =    1;
24509 +      END;
24510 +
24511 +    IF _BRANCH_ GT 0 THEN DO;
24512 +       _ARB_F_ + -0.031008598;
24513 +      END;
24514 +    END;
24515 +  END;
24516 +
24517 +********** LEAF   281  NODE  1749 ***************;
24518 +IF _ARB_BADF_ EQ 0 THEN DO;
24519 +
24520 +  _BRANCH_ = -1;
24521 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24522 +    LOG_Items_Purchased  <      3.6242520361853 THEN DO;
24523 +     _BRANCH_ =    1;
24524 +    END;
24525 +  IF _BRANCH_ LT 0 THEN DO;
24526 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24527 +  END;
24528 +  IF _BRANCH_ GT 0 THEN DO;
24529 +
24530 +    _BRANCH_ = -1;
24531 +      IF  NOT MISSING(Total_Spend ) AND
24532 +                    440.85 <= Total_Spend  THEN DO;
24533 +       _BRANCH_ =    2;
24534 +      END;
24535 +    IF _BRANCH_ LT 0 THEN DO;
24536 +       IF MISSING( Total_Spend  ) THEN _BRANCH_ = 2;
24537 +    END;
24538 +    IF _BRANCH_ GT 0 THEN DO;
24539 +       _ARB_F_ + 0.0051047941;
24540 +      END;
24541 +    END;
24542 +  END;
24543 +
24544 +********** LEAF   282  NODE  1750 ***************;
24545 +IF _ARB_BADF_ EQ 0 THEN DO;
24546 +
24547 +  _BRANCH_ = -1;
24548 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24549 +         3.6242520361853 <= LOG_Items_Purchased  THEN DO;
24550 +     _BRANCH_ =    2;
24551 +    END;
24552 +
24553 +  IF _BRANCH_ GT 0 THEN DO;
24554 +
24555 +    _BRANCH_ = -1;
24556 +      IF  NOT MISSING(LOG_IMP_Age ) AND
24557 +      LOG_IMP_Age  <     3.38424660582431 THEN DO;
24558 +       _BRANCH_ =    1;
24559 +      END;
24560 +
24561 +    IF _BRANCH_ GT 0 THEN DO;
24562 +       _ARB_F_ + 0.0234030204;
24563 +      END;
24564 +    END;
24565 +  END;
24566 +
24567 +********** LEAF   283  NODE  1751 ***************;
24568 +IF _ARB_BADF_ EQ 0 THEN DO;
24569 +
24570 +  _BRANCH_ = -1;
24571 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24572 +         3.6242520361853 <= LOG_Items_Purchased  THEN DO;
24573 +     _BRANCH_ =    2;
24574 +    END;
24575 +
24576 +  IF _BRANCH_ GT 0 THEN DO;
24577 +
24578 +    _BRANCH_ = -1;
24579 +      IF  NOT MISSING(LOG_IMP_Age ) AND
24580 +          3.38424660582431 <= LOG_IMP_Age  THEN DO;
24581 +       _BRANCH_ =    2;
24582 +      END;
24583 +    IF _BRANCH_ LT 0 THEN DO;
24584 +       IF MISSING( LOG_IMP_Age  ) THEN _BRANCH_ = 2;
24585 +    END;
24586 +    IF _BRANCH_ GT 0 THEN DO;
24587 +       _ARB_F_ + -0.030438725;
24588 +      END;
24589 +    END;
24590 +  END;
24591 +
24592 +********** LEAF   284  NODE  1755 ***************;
24593 +IF _ARB_BADF_ EQ 0 THEN DO;
24594 +
24595 +  _BRANCH_ = -1;
24596 +    IF  NOT MISSING(Average_Rating ) AND
24597 +    Average_Rating  <                 3.15 THEN DO;
24598 +     _BRANCH_ =    1;
24599 +    END;
24600 +
24601 +  IF _BRANCH_ GT 0 THEN DO;
24602 +
24603 +    _BRANCH_ = -1;
24604 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
24605 +      LOG_Items_Purchased  <     3.76092962610081 THEN DO;
24606 +       _BRANCH_ =    1;
24607 +      END;
24608 +    IF _BRANCH_ LT 0 THEN DO;
24609 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24610 +    END;
24611 +    IF _BRANCH_ GT 0 THEN DO;
24612 +       _ARB_F_ + -0.044372565;
24613 +      END;
24614 +    END;
24615 +  END;
24616 +
24617 +********** LEAF   285  NODE  1756 ***************;
24618 +IF _ARB_BADF_ EQ 0 THEN DO;
24619 +
24620 +  _BRANCH_ = -1;
24621 +    IF  NOT MISSING(Average_Rating ) AND
24622 +    Average_Rating  <                 3.15 THEN DO;
24623 +     _BRANCH_ =    1;
24624 +    END;
24625 +
24626 +  IF _BRANCH_ GT 0 THEN DO;
24627 +
24628 +    _BRANCH_ = -1;
24629 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
24630 +          3.76092962610081 <= LOG_Items_Purchased  THEN DO;
24631 +       _BRANCH_ =    2;
24632 +      END;
24633 +
24634 +    IF _BRANCH_ GT 0 THEN DO;
24635 +       _ARB_F_ + 0.1077999583;
24636 +      END;
24637 +    END;
24638 +  END;
24639 +
24640 +********** LEAF   286  NODE  1757 ***************;
24641 +IF _ARB_BADF_ EQ 0 THEN DO;
24642 +
24643 +  _BRANCH_ = -1;
24644 +    IF  NOT MISSING(Average_Rating ) AND
24645 +                    3.15 <= Average_Rating  THEN DO;
24646 +     _BRANCH_ =    2;
24647 +    END;
24648 +  IF _BRANCH_ LT 0 THEN DO;
24649 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
24650 +  END;
24651 +  IF _BRANCH_ GT 0 THEN DO;
24652 +
24653 +    _BRANCH_ = -1;
24654 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24655 +      Days_Since_Last_Purchase  <                 55.5 THEN DO;
24656 +       _BRANCH_ =    1;
24657 +      END;
24658 +    IF _BRANCH_ LT 0 THEN DO;
24659 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24660 +    END;
24661 +    IF _BRANCH_ GT 0 THEN DO;
24662 +       _ARB_F_ + -0.000043616;
24663 +      END;
24664 +    END;
24665 +  END;
24666 +
24667 +********** LEAF   287  NODE  1758 ***************;
24668 +IF _ARB_BADF_ EQ 0 THEN DO;
24669 +
24670 +  _BRANCH_ = -1;
24671 +    IF  NOT MISSING(Average_Rating ) AND
24672 +                    3.15 <= Average_Rating  THEN DO;
24673 +     _BRANCH_ =    2;
24674 +    END;
24675 +  IF _BRANCH_ LT 0 THEN DO;
24676 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
24677 +  END;
24678 +  IF _BRANCH_ GT 0 THEN DO;
24679 +
24680 +    _BRANCH_ = -1;
24681 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24682 +                      55.5 <= Days_Since_Last_Purchase  THEN DO;
24683 +       _BRANCH_ =    2;
24684 +      END;
24685 +
24686 +    IF _BRANCH_ GT 0 THEN DO;
24687 +       _ARB_F_ + 0.0211194753;
24688 +      END;
24689 +    END;
24690 +  END;
24691 +
24692 +********** LEAF   288  NODE  1762 ***************;
24693 +IF _ARB_BADF_ EQ 0 THEN DO;
24694 +
24695 +  _BRANCH_ = -1;
24696 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24697 +    LOG_Items_Purchased  <     3.59721842555016 THEN DO;
24698 +     _BRANCH_ =    1;
24699 +    END;
24700 +  IF _BRANCH_ LT 0 THEN DO;
24701 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24702 +  END;
24703 +  IF _BRANCH_ GT 0 THEN DO;
24704 +
24705 +    _BRANCH_ = -1;
24706 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
24707 +      LOG_Items_Purchased  <     3.51143404304132 THEN DO;
24708 +       _BRANCH_ =    1;
24709 +      END;
24710 +    IF _BRANCH_ LT 0 THEN DO;
24711 +       IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24712 +    END;
24713 +    IF _BRANCH_ GT 0 THEN DO;
24714 +       _ARB_F_ + 0.0028990072;
24715 +      END;
24716 +    END;
24717 +  END;
24718 +
24719 +********** LEAF   289  NODE  1763 ***************;
24720 +IF _ARB_BADF_ EQ 0 THEN DO;
24721 +
24722 +  _BRANCH_ = -1;
24723 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24724 +    LOG_Items_Purchased  <     3.59721842555016 THEN DO;
24725 +     _BRANCH_ =    1;
24726 +    END;
24727 +  IF _BRANCH_ LT 0 THEN DO;
24728 +     IF MISSING( LOG_Items_Purchased  ) THEN _BRANCH_ = 1;
24729 +  END;
24730 +  IF _BRANCH_ GT 0 THEN DO;
24731 +
24732 +    _BRANCH_ = -1;
24733 +      IF  NOT MISSING(LOG_Items_Purchased ) AND
24734 +          3.51143404304132 <= LOG_Items_Purchased  THEN DO;
24735 +       _BRANCH_ =    2;
24736 +      END;
24737 +
24738 +    IF _BRANCH_ GT 0 THEN DO;
24739 +       _ARB_F_ + 0.0463167854;
24740 +      END;
24741 +    END;
24742 +  END;
24743 +
24744 +********** LEAF   290  NODE  1764 ***************;
24745 +IF _ARB_BADF_ EQ 0 THEN DO;
24746 +
24747 +  _BRANCH_ = -1;
24748 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24749 +        3.59721842555016 <= LOG_Items_Purchased  THEN DO;
24750 +     _BRANCH_ =    2;
24751 +    END;
24752 +
24753 +  IF _BRANCH_ GT 0 THEN DO;
24754 +
24755 +    _BRANCH_ = -1;
24756 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24757 +      Days_Since_Last_Purchase  <                 58.5 THEN DO;
24758 +       _BRANCH_ =    1;
24759 +      END;
24760 +    IF _BRANCH_ LT 0 THEN DO;
24761 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24762 +    END;
24763 +    IF _BRANCH_ GT 0 THEN DO;
24764 +       _ARB_F_ + -0.008396177;
24765 +      END;
24766 +    END;
24767 +  END;
24768 +
24769 +********** LEAF   291  NODE  1765 ***************;
24770 +IF _ARB_BADF_ EQ 0 THEN DO;
24771 +
24772 +  _BRANCH_ = -1;
24773 +    IF  NOT MISSING(LOG_Items_Purchased ) AND
24774 +        3.59721842555016 <= LOG_Items_Purchased  THEN DO;
24775 +     _BRANCH_ =    2;
24776 +    END;
24777 +
24778 +  IF _BRANCH_ GT 0 THEN DO;
24779 +
24780 +    _BRANCH_ = -1;
24781 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24782 +                      58.5 <= Days_Since_Last_Purchase  THEN DO;
24783 +       _BRANCH_ =    2;
24784 +      END;
24785 +
24786 +    IF _BRANCH_ GT 0 THEN DO;
24787 +       _ARB_F_ + -0.088037454;
24788 +      END;
24789 +    END;
24790 +  END;
24791 +
24792 +********** LEAF   292  NODE  1769 ***************;
24793 +IF _ARB_BADF_ EQ 0 THEN DO;
24794 +
24795 +  _BRANCH_ = -1;
24796 +  _ARBFMT_13 = PUT( City , $13.);
24797 +   %DMNORMIP( _ARBFMT_13);
24798 +    IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
24799 +    'HOUSTON' ) THEN DO;
24800 +     _BRANCH_ =    1;
24801 +    END;
24802 +  IF _BRANCH_ LT 0 THEN DO;
24803 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
24804 +    ELSE IF _ARBFMT_13 NOTIN (
24805 +      'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
24806 +      'CHICAGO'
24807 +       ) THEN _BRANCH_ = 1;
24808 +  END;
24809 +  IF _BRANCH_ GT 0 THEN DO;
24810 +
24811 +    _BRANCH_ = -1;
24812 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24813 +      Days_Since_Last_Purchase  <                 56.5 THEN DO;
24814 +       _BRANCH_ =    1;
24815 +      END;
24816 +    IF _BRANCH_ LT 0 THEN DO;
24817 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24818 +    END;
24819 +    IF _BRANCH_ GT 0 THEN DO;
24820 +       _ARB_F_ + 0.0009368637;
24821 +      END;
24822 +    END;
24823 +  END;
24824 +
24825 +********** LEAF   293  NODE  1770 ***************;
24826 +IF _ARB_BADF_ EQ 0 THEN DO;
24827 +
24828 +  _BRANCH_ = -1;
24829 +  _ARBFMT_13 = PUT( City , $13.);
24830 +   %DMNORMIP( _ARBFMT_13);
24831 +    IF _ARBFMT_13 IN ('NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,
24832 +    'HOUSTON' ) THEN DO;
24833 +     _BRANCH_ =    1;
24834 +    END;
24835 +  IF _BRANCH_ LT 0 THEN DO;
24836 +     IF MISSING( City  ) THEN _BRANCH_ = 1;
24837 +    ELSE IF _ARBFMT_13 NOTIN (
24838 +      'NEW YORK' ,'SAN FRANCISCO' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
24839 +      'CHICAGO'
24840 +       ) THEN _BRANCH_ = 1;
24841 +  END;
24842 +  IF _BRANCH_ GT 0 THEN DO;
24843 +
24844 +    _BRANCH_ = -1;
24845 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24846 +                      56.5 <= Days_Since_Last_Purchase  THEN DO;
24847 +       _BRANCH_ =    2;
24848 +      END;
24849 +
24850 +    IF _BRANCH_ GT 0 THEN DO;
24851 +       _ARB_F_ + 0.035138775;
24852 +      END;
24853 +    END;
24854 +  END;
24855 +
24856 +********** LEAF   294  NODE  1771 ***************;
24857 +IF _ARB_BADF_ EQ 0 THEN DO;
24858 +
24859 +  _BRANCH_ = -1;
24860 +  _ARBFMT_13 = PUT( City , $13.);
24861 +   %DMNORMIP( _ARBFMT_13);
24862 +    IF _ARBFMT_13 IN ('CHICAGO' ) THEN DO;
24863 +     _BRANCH_ =    2;
24864 +    END;
24865 +
24866 +  IF _BRANCH_ GT 0 THEN DO;
24867 +
24868 +    _BRANCH_ = -1;
24869 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24870 +      Days_Since_Last_Purchase  <                 38.5 THEN DO;
24871 +       _BRANCH_ =    1;
24872 +      END;
24873 +
24874 +    IF _BRANCH_ GT 0 THEN DO;
24875 +       _ARB_F_ + -0.070171789;
24876 +      END;
24877 +    END;
24878 +  END;
24879 +
24880 +********** LEAF   295  NODE  1772 ***************;
24881 +IF _ARB_BADF_ EQ 0 THEN DO;
24882 +
24883 +  _BRANCH_ = -1;
24884 +  _ARBFMT_13 = PUT( City , $13.);
24885 +   %DMNORMIP( _ARBFMT_13);
24886 +    IF _ARBFMT_13 IN ('CHICAGO' ) THEN DO;
24887 +     _BRANCH_ =    2;
24888 +    END;
24889 +
24890 +  IF _BRANCH_ GT 0 THEN DO;
24891 +
24892 +    _BRANCH_ = -1;
24893 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24894 +                      38.5 <= Days_Since_Last_Purchase  THEN DO;
24895 +       _BRANCH_ =    2;
24896 +      END;
24897 +    IF _BRANCH_ LT 0 THEN DO;
24898 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 2;
24899 +    END;
24900 +    IF _BRANCH_ GT 0 THEN DO;
24901 +       _ARB_F_ + -0.001193129;
24902 +      END;
24903 +    END;
24904 +  END;
24905 +
24906 +********** LEAF   296  NODE  1776 ***************;
24907 +IF _ARB_BADF_ EQ 0 THEN DO;
24908 +
24909 +  _BRANCH_ = -1;
24910 +    IF  NOT MISSING(Average_Rating ) AND
24911 +    Average_Rating  <                 3.15 THEN DO;
24912 +     _BRANCH_ =    1;
24913 +    END;
24914 +
24915 +  IF _BRANCH_ GT 0 THEN DO;
24916 +
24917 +    _BRANCH_ = -1;
24918 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24919 +      Days_Since_Last_Purchase  <                 27.5 THEN DO;
24920 +       _BRANCH_ =    1;
24921 +      END;
24922 +    IF _BRANCH_ LT 0 THEN DO;
24923 +       IF MISSING( Days_Since_Last_Purchase  ) THEN _BRANCH_ = 1;
24924 +    END;
24925 +    IF _BRANCH_ GT 0 THEN DO;
24926 +       _ARB_F_ + 0.0067334015;
24927 +      END;
24928 +    END;
24929 +  END;
24930 +
24931 +********** LEAF   297  NODE  1777 ***************;
24932 +IF _ARB_BADF_ EQ 0 THEN DO;
24933 +
24934 +  _BRANCH_ = -1;
24935 +    IF  NOT MISSING(Average_Rating ) AND
24936 +    Average_Rating  <                 3.15 THEN DO;
24937 +     _BRANCH_ =    1;
24938 +    END;
24939 +
24940 +  IF _BRANCH_ GT 0 THEN DO;
24941 +
24942 +    _BRANCH_ = -1;
24943 +      IF  NOT MISSING(Days_Since_Last_Purchase ) AND
24944 +                      27.5 <= Days_Since_Last_Purchase  THEN DO;
24945 +       _BRANCH_ =    2;
24946 +      END;
24947 +
24948 +    IF _BRANCH_ GT 0 THEN DO;
24949 +       _ARB_F_ + -0.074493485;
24950 +      END;
24951 +    END;
24952 +  END;
24953 +
24954 +********** LEAF   298  NODE  1778 ***************;
24955 +IF _ARB_BADF_ EQ 0 THEN DO;
24956 +
24957 +  _BRANCH_ = -1;
24958 +    IF  NOT MISSING(Average_Rating ) AND
24959 +                    3.15 <= Average_Rating  THEN DO;
24960 +     _BRANCH_ =    2;
24961 +    END;
24962 +  IF _BRANCH_ LT 0 THEN DO;
24963 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
24964 +  END;
24965 +  IF _BRANCH_ GT 0 THEN DO;
24966 +
24967 +    _BRANCH_ = -1;
24968 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
24969 +     %DMNORMIP( _ARBFMT_12);
24970 +      IF _ARBFMT_12 IN ('0' ) THEN DO;
24971 +       _BRANCH_ =    1;
24972 +      END;
24973 +
24974 +    IF _BRANCH_ GT 0 THEN DO;
24975 +       _ARB_F_ + 0.0119907522;
24976 +      END;
24977 +    END;
24978 +  END;
24979 +
24980 +********** LEAF   299  NODE  1779 ***************;
24981 +IF _ARB_BADF_ EQ 0 THEN DO;
24982 +
24983 +  _BRANCH_ = -1;
24984 +    IF  NOT MISSING(Average_Rating ) AND
24985 +                    3.15 <= Average_Rating  THEN DO;
24986 +     _BRANCH_ =    2;
24987 +    END;
24988 +  IF _BRANCH_ LT 0 THEN DO;
24989 +     IF MISSING( Average_Rating  ) THEN _BRANCH_ = 2;
24990 +  END;
24991 +  IF _BRANCH_ GT 0 THEN DO;
24992 +
24993 +    _BRANCH_ = -1;
24994 +    _ARBFMT_12 = PUT( Gender_Binary , BEST12.);
24995 +     %DMNORMIP( _ARBFMT_12);
24996 +      IF _ARBFMT_12 IN ('1' ) THEN DO;
24997 +       _BRANCH_ =    2;
24998 +      END;
24999 +    IF _BRANCH_ LT 0 THEN DO;
25000 +       IF MISSING( Gender_Binary  ) THEN _BRANCH_ = 2;
25001 +      ELSE IF _ARBFMT_12 NOTIN (
25002 +        '0' ,'1'
25003 +         ) THEN _BRANCH_ = 2;
25004 +    END;
25005 +    IF _BRANCH_ GT 0 THEN DO;
25006 +       _ARB_F_ + -0.004094899;
25007 +      END;
25008 +    END;
25009 +  END;
25010 +
25011 +********** LEAF   300  NODE  1783 ***************;
25012 +IF _ARB_BADF_ EQ 0 THEN DO;
25013 +
25014 +  _BRANCH_ = -1;
25015 +  _ARBFMT_12 = PUT( Discount_Applied_Binary , BEST12.);
25016 +   %DMNORMIP( _ARBFMT_12);
25017 +    IF _ARBFMT_12 IN ('1' ) THEN DO;
25018 +     _BRANCH_ =    1;
25019 +    END;
25020 +  IF _BRANCH_ LT 0 THEN DO;
25021 +     IF MISSING( Discount_Applied_Binary  ) THEN _BRANCH_ = 1;
25022 +    ELSE IF _ARBFMT_12 NOTIN (
25023 +      '1' ,'0'
25024 +       ) THEN _BRANCH_ = 1;
25025 +  END;
25026 +  IF _BRANCH_ GT 0 THEN DO;
25027 +
25028 +    _BRANCH_ = -1;
25029 +    _ARBFMT_13 = PUT( City , $13.);
25030 +     %DMNORMIP( _ARBFMT_13);
25031 +      IF _ARBFMT_13 IN ('NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,
25032 +      'CHICAGO' ) THEN DO;
25033 +       _BRANCH_ =    1;
25034 +      END;
25035 +    IF _BRANCH_ LT 0 THEN DO;
25036 +       IF MISSING( City  ) THEN _BRANCH_ = 1;
25037 +      ELSE IF _ARBFMT_13 NOTIN (
25038 +        'NEW YORK' ,'MIAMI' ,'LOS ANGELES' ,'HOUSTON' ,'CHICAGO' ,
25039 +        'SAN FRANCISCO'
25040 +         ) THEN _BRANCH_ = 1;
*****************************************************************************************
NOTE: File view has been truncated.
Refer to /home/u63437975/WQD7005_AA1/Workspaces/EMWS1/Boost/EMLOG.log 
on this server for entire file contents.
*****************************************************************************************
